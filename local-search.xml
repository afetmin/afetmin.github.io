<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>å…³äºä¸­é—´ä»¶</title>
    <link href="/2021/09/19/%E5%85%B3%E4%BA%8E%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    <url>/2021/09/19/%E5%85%B3%E4%BA%8E%E4%B8%AD%E9%97%B4%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h1><p>ä½¿ç”¨ node æ„å»º web åº”ç”¨æ—¶ï¼Œå¹¶ä¸å•å•å“åº”ä¸€ä¸ªç®€å•çš„ hello worldï¼Œåœ¨ä¸€ä¸ªå®é™…çš„ä¸šåŠ¡ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿè®¸ä¼šåšè¿™äº›ï¼š</p><ul><li>è¯·æ±‚æ–¹æ³•çš„åˆ¤æ–­ã€‚</li><li>URL çš„è·¯å¾„è§£æã€‚</li><li>URL ä¸­æŸ¥è¯¢å­—ç¬¦ä¸²è§£æã€‚</li><li>Cookie çš„è§£æã€‚</li><li>Basic è®¤è¯ã€‚</li><li>è¡¨å•æ•°æ®çš„è§£æã€‚</li><li>ä»»æ„æ ¼å¼æ–‡ä»¶çš„ä¸Šä¼ å¤„ç†ã€‚</li></ul><p>è¿™æ ·ä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®ä¸­éœ€è¦å¤„ç†å¾ˆå¤šçš„ç»†èŠ‚ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥éƒ½å†™åœ¨ä¸€èµ·ï¼Œä½†è¿™æ ·ä»£ç çš„è€¦åˆç¨‹åº¦å¤ªé«˜äº†ï¼Œè€Œä¸”ä»¥åç»´æŠ¤èµ·æ¥ä¹Ÿä»¤äººå¤´å¤§ã€‚</p><p>ä¸ºæ­¤å¼•å…¥<strong>ä¸­é—´ä»¶ï¼ˆmiddlewareï¼‰</strong>æ¥ç®€åŒ–å’Œéš”ç¦»è¿™äº›åŸºç¡€è®¾æ–½ä¸ä¸šåŠ¡é€»è¾‘ä¹‹é—´çš„ç»†èŠ‚ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿå…³æ³¨åœ¨ä¸šåŠ¡çš„å¼€å‘ä¸Šï¼Œä»¥è¾¾åˆ°æå‡å¼€å‘æ•ˆç‡çš„ç›®çš„ã€‚</p><p>ç†è§£ä¸­é—´ä»¶çš„æœ€ç®€å•çš„æ–¹å¼æ˜¯å®ç°ä¸€ä¸ªåŸºç¡€çš„ä¸­é—´ä»¶æ¨¡å¼ï¼Œä¸€ä¸ªä¸­é—´ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p><p>ä¸€ä¸ªç®€å•çš„ä¸­é—´ä»¶æ¨¡å¼éœ€è¦ä¸€ä¸ª use æ–¹æ³•æ¥è¿›è¡Œä¸­é—´ä»¶çš„æ³¨å†Œï¼Œéœ€è¦ä¸€ä¸ª run æ¥æ‰§è¡Œè¿™äº›æ³¨å†Œçš„ä¸­é—´ä»¶</p><div class="hljs"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> app = &#123;  fns: [],  callback(ctx) &#123;    <span class="hljs-built_in">console</span>.log(ctx)  &#125;,  use(fn) &#123;    <span class="hljs-keyword">this</span>.fns.push(fn)  &#125;,  run(ctx) &#123;    <span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>    <span class="hljs-keyword">const</span> next = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;      index++    &#125;    <span class="hljs-keyword">this</span>.fns.forEach(<span class="hljs-function">(<span class="hljs-params">fn, idx</span>) =&gt;</span> &#123;      <span class="hljs-keyword">if</span> (index === idx) fn(ctx, next)    &#125;)    index === <span class="hljs-keyword">this</span>.fns.length &amp;&amp; <span class="hljs-keyword">this</span>.callback(ctx)  &#125;,&#125;</code></pre></div><p>ä½¿ç”¨ä¸€ä¸‹ï¼š</p><div class="hljs"><pre><code class="hljs jsx">app.use(<span class="hljs-function">(<span class="hljs-params">ctx, next</span>) =&gt;</span> &#123;  ctx.name = <span class="hljs-string">"ranxiu"</span>  next()&#125;)app.use(<span class="hljs-function">(<span class="hljs-params">ctx, next</span>) =&gt;</span> &#123;  ctx.gender = <span class="hljs-string">"girl"</span>  next()&#125;)app.run(&#123;&#125;)<span class="hljs-comment">// æ‰“å°ï¼š&#123;name:"ranxiu",gender:"girl"&#125;</span></code></pre></div><p>å…³äº run å‡½æ•°è¿˜æœ‰æ›´åŠ ä¼˜é›…çš„å†™æ³•ï¼š</p><div class="hljs"><pre><code class="hljs jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span>(<span class="hljs-params">ctx, stack</span>) </span>&#123;  <span class="hljs-keyword">const</span> next = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;    <span class="hljs-keyword">const</span> middleware = stack.shift()    <span class="hljs-keyword">if</span> (middleware) &#123;      middleware(ctx, next) <span class="hljs-comment">// é€’å½’è°ƒç”¨</span>    &#125;  &#125;  next()&#125;</code></pre></div><p>å†æ¥çœ‹çœ‹ koa-compose çš„ä¸­é—´ä»¶ï¼š</p><div class="hljs"><pre><code class="hljs jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compose</span>(<span class="hljs-params">middleware</span>) </span>&#123;  <span class="hljs-comment">// æå‰åˆ¤æ–­ä¸­é—´ä»¶ç±»å‹,é˜²æ­¢åç»­é”™è¯¯</span>  <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Array</span>.isArray(middleware))    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">"Middleware stack must be an array!"</span>)  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> fn <span class="hljs-keyword">of</span> middleware) &#123;    <span class="hljs-comment">// ä¸­é—´ä»¶å¿…é¡»ä¸ºå‡½æ•°ç±»å‹</span>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> fn !== <span class="hljs-string">"function"</span>)      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">"Middleware must be composed of functions!"</span>)  &#125;  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, next</span>) </span>&#123;    <span class="hljs-comment">// é‡‡ç”¨é—­åŒ…å°†ç´¢å¼•ç¼“å­˜,æ¥å®ç°è°ƒç”¨è®¡æ•°</span>    <span class="hljs-keyword">let</span> index = <span class="hljs-number">-1</span>    <span class="hljs-keyword">return</span> dispatch(<span class="hljs-number">0</span>)    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dispatch</span>(<span class="hljs-params">i</span>) </span>&#123;      <span class="hljs-comment">// é˜²æ­¢next()æ–¹æ³•é‡å¤è°ƒç”¨</span>      <span class="hljs-keyword">if</span> (i &lt;= index)        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"next() called multiple times"</span>))      index = i      <span class="hljs-keyword">let</span> fn = middleware[i]      <span class="hljs-keyword">if</span> (i === middleware.length) fn = next      <span class="hljs-keyword">if</span> (!fn) <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve()      <span class="hljs-keyword">try</span> &#123;        <span class="hljs-comment">// åŒ…è£…next()è¿”å›å€¼ä¸ºPromiseå¯¹è±¡</span>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve(fn(context, dispatch.bind(<span class="hljs-literal">null</span>, i + <span class="hljs-number">1</span>)))      &#125; <span class="hljs-keyword">catch</span> (err) &#123;        <span class="hljs-comment">// å¼‚å¸¸å¤„ç†</span>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(err)      &#125;    &#125;  &#125;&#125;</code></pre></div><p>ä¸¤ä¸ªå­—ï¼šä¼˜é›…ã€‚æœ‰æ—¶ä¸å¾—ä¸æ„Ÿæ…¨äººå’Œäººçš„å·®è·æœ‰æ—¶æ¯”äººå’Œç‹—çš„å·®è·è¿˜å¤§ã€‚</p><p>æ‹¿è¿™ä¸ª ğŸŒ° æ¥è¯´ï¼š</p><div class="hljs"><pre><code class="hljs jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">wait</span>(<span class="hljs-params">ms</span>) </span>&#123;  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> setTimeout(resolve, ms || <span class="hljs-number">1</span>))&#125;<span class="hljs-keyword">const</span> arr = []<span class="hljs-keyword">const</span> stack = []<span class="hljs-comment">// type Middleware&lt;T&gt; = (context: T, next: Koa.Next) =&gt; any;</span>stack.push(<span class="hljs-keyword">async</span> (context, next) =&gt; &#123;  arr.push(<span class="hljs-number">1</span>)  <span class="hljs-keyword">await</span> wait(<span class="hljs-number">1</span>)  <span class="hljs-keyword">await</span> next()  <span class="hljs-keyword">await</span> wait(<span class="hljs-number">1</span>)  arr.push(<span class="hljs-number">6</span>)&#125;)stack.push(<span class="hljs-keyword">async</span> (context, next) =&gt; &#123;  arr.push(<span class="hljs-number">2</span>)  <span class="hljs-keyword">await</span> wait(<span class="hljs-number">1</span>)  <span class="hljs-keyword">await</span> next()  <span class="hljs-keyword">await</span> wait(<span class="hljs-number">1</span>)  arr.push(<span class="hljs-number">5</span>)&#125;)stack.push(<span class="hljs-keyword">async</span> (context, next) =&gt; &#123;  arr.push(<span class="hljs-number">3</span>)  <span class="hljs-keyword">await</span> wait(<span class="hljs-number">1</span>)  <span class="hljs-keyword">await</span> next()  <span class="hljs-keyword">await</span> wait(<span class="hljs-number">1</span>)  arr.push(<span class="hljs-number">4</span>)&#125;)<span class="hljs-keyword">await</span> compose(stack)(&#123;&#125;)<span class="hljs-comment">// arr = [1,2,3,4,5,6]</span></code></pre></div><p>å½“ i ä¸º 3 æ—¶ï¼Œ</p><div class="hljs"><pre><code class="hljs jsx"><span class="hljs-keyword">let</span> fn = middleware[i] <span class="hljs-comment">//fn=undefined</span><span class="hljs-keyword">if</span> (i === middleware.length) fn = next<span class="hljs-keyword">if</span> (!fn) <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve() <span class="hljs-comment">//!fnä¸ºtrue</span></code></pre></div><p>ç›´æ¥è¿”å› resolveï¼Œä¹‹åå°±æ‰§è¡Œ next()åé¢çš„å‡½æ•°</p><div class="hljs"><pre><code class="hljs jsx">stack.push(<span class="hljs-keyword">async</span> (context, next) =&gt; &#123;  arr.push(<span class="hljs-number">3</span>)  <span class="hljs-keyword">await</span> wait(<span class="hljs-number">1</span>)  <span class="hljs-keyword">await</span> next()  <span class="hljs-keyword">await</span> wait(<span class="hljs-number">1</span>)  arr.push(<span class="hljs-number">4</span>)&#125;)</code></pre></div><p>æ‰§è¡Œå®Œåè¿”å›ç¬¬äºŒä¸ª next() åé¢ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼ŒçŸ¥é“æ‰€æœ‰çš„ä¸­é—´ä»¶æ‰§è¡Œå®Œæ¯•ã€‚</p><p>è¿™ä¾¿æ˜¯ä¼—äººçš†çŸ¥çš„â€œæ´‹è‘±æ¨¡å‹â€ã€‚ä½ ä¹Ÿå¯ä»¥é€‰æ‹©åªæ·»åŠ å‰ç½®çš„å¤„ç†ï¼Œå°±æ˜¯ await next()å‰é¢çš„æ“ä½œ</p><p>ï¼Œæˆ–è€…åé¢çš„å¤„ç†ã€‚@æ´‹è‘±åˆ©ç”¨æ´‹è‘±æ¨¡å‹å®ç°äº†è®¾è®¡åœˆçš„å‰ç½®é€»è¾‘çš„åˆå§‹åŒ–ï¼Œæ´‹è‘± ğŸ‚ğŸºã€‚</p><p>æ¯ä¸ªä¸­é—´ä»¶è¶³å¤Ÿçš„å°è€Œç¾ï¼ŒèŒè´£å•ä¸€ï¼ŒåŒæ—¶å¤šä¸ªä¸­é—´ä»¶åˆå…·å¤‡è‰¯å¥½çš„é€»è¾‘æ‹“å±•æ€§å’Œå¯ç»„åˆæ€§ï¼Œå¹¶ä¸”æ˜“äºæµ‹è¯•ã€‚è¿™ä¸ªè®¾è®¡æ¨¡å¼çœŸæ˜¯å¤ªâ€œæ¼‚äº®â€äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>node</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Reactçš„diff</title>
    <link href="/2021/09/18/React%E7%9A%84diff/"/>
    <url>/2021/09/18/React%E7%9A%84diff/</url>
    
    <content type="html"><![CDATA[<h1 id="React-çš„-diff"><a href="#React-çš„-diff" class="headerlink" title="React çš„ diff"></a>React çš„ diff</h1><p>ä¸€ä¸ª<code>DOMèŠ‚ç‚¹</code>åœ¨æŸä¸€æ—¶åˆ»æœ€å¤šä¼šæœ‰ 4 ä¸ªèŠ‚ç‚¹å’Œå®ƒç›¸å…³ã€‚</p><ol><li><code>current Fiber</code>ã€‚å¦‚æœè¯¥<code>DOMèŠ‚ç‚¹</code>å·²åœ¨é¡µé¢ä¸­ï¼Œ<code>current Fiber</code>ä»£è¡¨è¯¥<code>DOMèŠ‚ç‚¹</code>å¯¹åº”çš„<code>FiberèŠ‚ç‚¹</code>ã€‚</li><li><code>workInProgress Fiber</code>ã€‚å¦‚æœè¯¥<code>DOMèŠ‚ç‚¹</code>å°†åœ¨æœ¬æ¬¡æ›´æ–°ä¸­æ¸²æŸ“åˆ°é¡µé¢ä¸­ï¼Œ<code>workInProgress Fiber</code>ä»£è¡¨è¯¥<code>DOMèŠ‚ç‚¹</code>å¯¹åº”çš„<code>FiberèŠ‚ç‚¹</code>ã€‚</li><li><code>DOMèŠ‚ç‚¹</code>æœ¬èº«ã€‚</li><li><code>JSXå¯¹è±¡</code>ã€‚å³<code>ClassComponent</code>çš„<code>render</code>æ–¹æ³•çš„è¿”å›ç»“æœï¼Œæˆ–<code>FunctionComponent</code>çš„è°ƒç”¨ç»“æœã€‚<code>JSXå¯¹è±¡</code>ä¸­åŒ…å«æè¿°<code>DOMèŠ‚ç‚¹</code>çš„ä¿¡æ¯ã€‚</li></ol><p><code>Diffç®—æ³•</code>çš„æœ¬è´¨æ˜¯å¯¹æ¯” 1 å’Œ 4ï¼Œç”Ÿæˆ 2</p><h2 id="diff-ç®—æ³•çš„ä¼˜åŒ–"><a href="#diff-ç®—æ³•çš„ä¼˜åŒ–" class="headerlink" title="diff ç®—æ³•çš„ä¼˜åŒ–"></a>diff ç®—æ³•çš„ä¼˜åŒ–</h2><p>ç”±äº diff ç®—æ³•æœ¬èº«ä¼šå¸¦æ¥æ€§èƒ½æŸè€—ï¼Œå‰åä¸¤é¢—æ ‘å®Œå…¨æ¯”å¯¹çš„ç®—æ³•å¤æ‚åº¦ä¸º O(n3)ï¼Œå…¶ä¸­ n æ˜¯æ ‘ä¸­å…ƒç´ çš„çš„æ•°é‡ã€‚</p><p>ä¸ºäº†é™ä½ç®—æ³•å¤æ‚åº¦ï¼Œ<code>React</code>çš„<code>diff</code>ä¼šé¢„è®¾ä¸‰ä¸ªé™åˆ¶ï¼š</p><ol><li>åªå¯¹åŒçº§å…ƒç´ è¿›è¡Œ<code>Diff</code>ã€‚å¦‚æœä¸€ä¸ª<code>DOMèŠ‚ç‚¹</code>åœ¨å‰åä¸¤æ¬¡æ›´æ–°ä¸­è·¨è¶Šäº†å±‚çº§ï¼Œé‚£ä¹ˆ<code>React</code>ä¸ä¼šå°è¯•å¤ç”¨ä»–ã€‚</li><li>ä¸¤ä¸ªä¸åŒç±»å‹çš„å…ƒç´ ä¼šäº§ç”Ÿå‡ºä¸åŒçš„æ ‘ã€‚å¦‚æœå…ƒç´ ç”±<code>div</code>å˜ä¸º<code>p</code>ï¼ŒReact ä¼šé”€æ¯<code>div</code>åŠå…¶å­å­™èŠ‚ç‚¹ï¼Œå¹¶æ–°å»º<code>p</code>åŠå…¶å­å­™èŠ‚ç‚¹ã€‚</li><li>å¼€å‘è€…å¯ä»¥é€šè¿‡  <code>key prop</code>æ¥æš—ç¤ºå“ªäº›å­å…ƒç´ åœ¨ä¸åŒçš„æ¸²æŸ“ä¸‹èƒ½ä¿æŒç¨³å®šã€‚</li></ol><p>è€ƒè™‘å¦‚ä¸‹ä¾‹å­ï¼š</p><div class="hljs"><pre><code class="hljs html">// æ›´æ–°å‰<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"ran"</span>&gt;</span>ran<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"xiu"</span>&gt;</span>xiu<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>// æ›´æ–°å<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"xiu"</span>&gt;</span>xiu<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"ran"</span>&gt;</span>ran<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div><p>å¦‚æœæ²¡æœ‰<code>key</code>ï¼Œ<code>React</code>ä¼šè®¤ä¸º<code>div</code>çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ç”±<code>p</code>å˜ä¸º<code>h1</code>ï¼Œç¬¬äºŒä¸ªå­èŠ‚ç‚¹ç”±<code>h1</code>å˜ä¸º<code>p</code>ã€‚è¿™ç¬¦åˆé™åˆ¶ 2 çš„è®¾å®šï¼Œä¼šé”€æ¯å¹¶æ–°å»ºã€‚</p><p>ä½†æ˜¯å½“æˆ‘ä»¬ç”¨<code>key</code>æŒ‡æ˜äº†èŠ‚ç‚¹å‰åå¯¹åº”å…³ç³»åï¼Œ<code>React</code>çŸ¥é“<code>key === &quot;ran&quot;</code>çš„<code>p</code>åœ¨æ›´æ–°åè¿˜å­˜åœ¨ï¼Œæ‰€ä»¥<code>DOMèŠ‚ç‚¹</code>å¯ä»¥å¤ç”¨ï¼Œåªæ˜¯éœ€è¦äº¤æ¢ä¸‹é¡ºåºã€‚</p><p>reconcileChildFibers å‡½æ•°ä¼šæ ¹æ®ä¸åŒçš„ newChildï¼ˆJSX å¯¹è±¡ï¼‰è°ƒç”¨ä¸åŒçš„å¤„ç†å‡½æ•°ã€‚</p><h2 id="å•èŠ‚ç‚¹-diff"><a href="#å•èŠ‚ç‚¹-diff" class="headerlink" title="å•èŠ‚ç‚¹ diff"></a>å•èŠ‚ç‚¹ diff</h2><p>å½“ newChild ç±»å‹ä¸º objectã€numberã€stringï¼Œä»£è¡¨åŒçº§åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p><ol><li>å…ˆåˆ¤æ–­ key æ˜¯å¦ç›¸åŒï¼Œç„¶å typeï¼Œéƒ½ç›¸åŒæ—¶ DOM æ‰èƒ½å¤ç”¨ã€‚</li><li>å½“ child !== null ä¸” key ç›¸åŒä¸” type ä¸åŒæ—¶ï¼Œæ‰§è¡Œ deleteRemainingChildren å°† child åŠå…¶å…„å¼Ÿ fiber éƒ½æ ‡è®°åˆ é™¤ã€‚</li><li>å½“ child !== null ä¸” key ä¸åŒæ—¶ï¼Œä»…å°† child æ ‡è®°åˆ é™¤ã€‚</li></ol><p>å…³äº 2ï¼Œ3 æ­¥ï¼Œå½“ key ç›¸åŒä½† type ä¸åŒï¼Œè¯´æ˜å·²ç»å®Œå…¨æ— æ³•å¤ç”¨äº†ï¼Œéƒ½éœ€è¦åˆ é™¤ã€‚ä½† key ä¸åŒåªä»£è¡¨è¯¥ fiber ä¸èƒ½å¤ç”¨ï¼Œåé¢çš„å…„å¼Ÿ fiber è¿˜æœ‰å¤ç”¨çš„å¯èƒ½æ€§ã€‚</p><h2 id="å¤šèŠ‚ç‚¹-diff"><a href="#å¤šèŠ‚ç‚¹-diff" class="headerlink" title="å¤šèŠ‚ç‚¹ diff"></a>å¤šèŠ‚ç‚¹ diff</h2><p>å½“ newChild ç±»å‹ä¸º Arrayï¼ŒåŒçº§æœ‰å¤šä¸ªèŠ‚ç‚¹ã€‚</p><p>å¤šèŠ‚ç‚¹ diff æœ‰å¤šç§æƒ…å†µéœ€è¦å¤„ç†</p><h3 id="1-èŠ‚ç‚¹æ›´æ–°"><a href="#1-èŠ‚ç‚¹æ›´æ–°" class="headerlink" title="1. èŠ‚ç‚¹æ›´æ–°"></a>1. èŠ‚ç‚¹æ›´æ–°</h3><p>èŠ‚ç‚¹æ›´æ–°åˆåŒ…å«ä¸¤ç§æƒ…å†µï¼š</p><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"p"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>// å±æ€§å˜åŒ–<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"p"</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"p"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>// ç±»å‹å˜åŒ–<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"p"</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"p"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div><h3 id="2-èŠ‚ç‚¹æ–°å¢æˆ–åˆ é™¤"><a href="#2-èŠ‚ç‚¹æ–°å¢æˆ–åˆ é™¤" class="headerlink" title="2. èŠ‚ç‚¹æ–°å¢æˆ–åˆ é™¤"></a>2. èŠ‚ç‚¹æ–°å¢æˆ–åˆ é™¤</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"1"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"2"</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>// æ–°å¢<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"1"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"2"</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"3"</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>//åˆ é™¤<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"1"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div><h3 id="3-èŠ‚ç‚¹ä½ç½®å˜åŒ–"><a href="#3-èŠ‚ç‚¹ä½ç½®å˜åŒ–" class="headerlink" title="3. èŠ‚ç‚¹ä½ç½®å˜åŒ–"></a>3. èŠ‚ç‚¹ä½ç½®å˜åŒ–</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"1"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"2"</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>//<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"2"</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"1"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div><p>ä¸åŒçš„æƒ…å†µæ‰§è¡Œä¸åŒçš„é€»è¾‘ï¼ŒReact å›¢é˜Ÿå‘ç°æ›´æ–°æ¯”å…¶ä»–ä¸¤ç§çš„é¢‘ç‡æ›´é«˜ï¼Œäºæ˜¯ diff ä¼˜å…ˆåˆ¤æ–­æ›´æ–°æƒ…å†µã€‚åˆå› ä¸º fiber æ˜¯å•é“¾è¡¨ç»“æ„çš„ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨åŒæŒ‡é’ˆä¼˜åŒ–éå†ã€‚diff ä¼šç»è¿‡ä¸¤è½®éå†ï¼š</p><ul><li>ç¬¬ä¸€è½®ï¼šå¤„ç†æ›´æ–°èŠ‚ç‚¹ã€‚</li><li>ç¬¬äºŒè½®ï¼šå¤„ç†ä¸ä¸ºæ›´æ–°çš„èŠ‚ç‚¹ã€‚</li></ul><h2 id="React-ä¸­è§¦å‘æ›´æ–°"><a href="#React-ä¸­è§¦å‘æ›´æ–°" class="headerlink" title="React ä¸­è§¦å‘æ›´æ–°"></a>React ä¸­è§¦å‘æ›´æ–°</h2><p>é™¤äº† SSR ç›¸å…³ï¼Œè§¦å‘æ›´æ–°çš„æ–¹æ³•ï¼š</p><ul><li>ReactDOM.render</li><li>this.setState</li><li>this.forceUpdate</li><li>useState</li><li>useReducer</li></ul><h3 id="è°ƒåº¦æ›´æ–°"><a href="#è°ƒåº¦æ›´æ–°" class="headerlink" title="è°ƒåº¦æ›´æ–°"></a>è°ƒåº¦æ›´æ–°</h3><p>render é˜¶æ®µä» rootFiber å¼€å§‹å‘ä¸‹éå†ï¼Œè§¦å‘æ›´æ–°çš„ fiber è°ƒç”¨ markUpdateLaneFromFiberToRoot ä¸€ç›´å‘ä¸Šéå†åˆ° rootFiber å¹¶è¿”å› rootFiberã€‚è§¦å‘æ›´æ–°çš„ fiber ä¸­ä¿å­˜äº†ä¸€ä¸ª Update çš„å¯¹è±¡ã€‚</p><p>ä¹‹åé€šçŸ¥ Scheduler æ ¹æ®æ›´æ–°çš„ä¼˜å…ˆçº§ï¼Œå†³å®šä»¥åŒæ­¥è¿˜æ˜¯å¼‚æ­¥çš„æ–¹å¼è°ƒåº¦æœ¬æ¬¡æ›´æ–°ã€‚</p><p><code>é«˜ä¼˜æ›´æ–°</code>ä¸­æ–­æ­£åœ¨è¿›è¡Œä¸­çš„<code>ä½ä¼˜æ›´æ–°</code>ï¼Œå…ˆå®Œæˆ<code>render - commitæµç¨‹</code>ã€‚</p><p>å¾…<code>é«˜ä¼˜æ›´æ–°</code>å®Œæˆåï¼Œ<code>ä½ä¼˜æ›´æ–°</code>åŸºäº<code>é«˜ä¼˜æ›´æ–°</code>çš„ç»“æœ<code>é‡æ–°æ›´æ–°</code>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>js</tag>
      
      <tag>react</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç½‘ç»œæµ‹é€Ÿ</title>
    <link href="/2021/09/14/%E7%BD%91%E7%BB%9C%E6%B5%8B%E9%80%9F/"/>
    <url>/2021/09/14/%E7%BD%91%E7%BB%9C%E6%B5%8B%E9%80%9F/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰ç«¯å¦‚ä½•æµ‹è¯•ç½‘ç»œçš„é€Ÿåº¦ï¼Ÿ"><a href="#å‰ç«¯å¦‚ä½•æµ‹è¯•ç½‘ç»œçš„é€Ÿåº¦ï¼Ÿ" class="headerlink" title="å‰ç«¯å¦‚ä½•æµ‹è¯•ç½‘ç»œçš„é€Ÿåº¦ï¼Ÿ"></a>å‰ç«¯å¦‚ä½•æµ‹è¯•ç½‘ç»œçš„é€Ÿåº¦ï¼Ÿ</h2><p>B ç«™è§†é¢‘æ’­æ”¾æ—¶æœ‰ä¸€ä¸ªè‡ªåŠ¨æ ¹æ®ç½‘ç»œç¯å¢ƒè°ƒæ•´åˆ†è¾¨ç‡çš„åŠŸèƒ½ï¼Œæƒ³äº†è§£å¦‚ä½•æµ‹é€Ÿ<br><img src="/img/%E7%BD%91%E7%BB%9C%E6%B5%8B%E9%80%9F/b.png" srcset="/img/loading.gif" alt="bç«™"></p><p>ç„¶åæˆ‘æ‰¾äº†ä¸‹é¢çš„æ–¹æ³•æµ‹é€Ÿ</p><h3 id="ajax-è¯·æ±‚"><a href="#ajax-è¯·æ±‚" class="headerlink" title="ajax è¯·æ±‚"></a>ajax è¯·æ±‚</h3><p>åˆ©ç”¨ XMLHttpRequest è¯·æ±‚è¿”å›çš„ Content-lengthï¼Œå’Œè¯·æ±‚æ‰€éœ€æ—¶é—´æ±‚å¾—ä¸‹è½½é€Ÿåº¦</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> getSpeed = <span class="hljs-function">(<span class="hljs-params">url</span>) =&gt;</span> &#123;  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;    <span class="hljs-keyword">const</span> start = <span class="hljs-built_in">window</span>.performance.now()    <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest()    xhr.open(<span class="hljs-string">"GET"</span>, url)    xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;      <span class="hljs-keyword">if</span> (xhr.readyState === <span class="hljs-number">4</span>) &#123;        <span class="hljs-keyword">const</span> time = (<span class="hljs-built_in">window</span>.performance.now() - start) / <span class="hljs-number">1000</span>        <span class="hljs-keyword">const</span> size = xhr.getResponseHeader(<span class="hljs-string">"Content-Length"</span>) / <span class="hljs-number">1024</span>        <span class="hljs-built_in">console</span>.log(time, size)        resolve(size / time)      &#125;    &#125;    xhr.send()  &#125;)&#125;getSpeed(<span class="hljs-string">"./worker.js"</span>).then(<span class="hljs-function">(<span class="hljs-params">speed</span>) =&gt;</span> <span class="hljs-built_in">console</span>.log(speed))</code></pre></div><p>è¯·æ±‚æˆ‘æœ¬åœ°çš„æ–‡ä»¶æµ‹å¾—é€Ÿåº¦ï¼š<br><img src="/img/%E7%BD%91%E7%BB%9C%E6%B5%8B%E9%80%9F/speed.png" srcset="/img/loading.gif" alt="speed"></p><h3 id="Image-å¯¹è±¡-onload"><a href="#Image-å¯¹è±¡-onload" class="headerlink" title="Image å¯¹è±¡ onload"></a>Image å¯¹è±¡ onload</h3><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> getSpeed = <span class="hljs-function">(<span class="hljs-params">url, fileSize</span>) =&gt;</span> &#123;  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;    <span class="hljs-keyword">const</span> start = <span class="hljs-built_in">window</span>.performance.now()    <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> Image()    img.src = url    img.onload = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;      <span class="hljs-keyword">const</span> time = (<span class="hljs-built_in">window</span>.performance.now() - start) / <span class="hljs-number">1000</span>      resolve(fileSize / time)    &#125;  &#125;)&#125;</code></pre></div><p>ä½†æ˜¯è¦æ³¨æ„å¦‚æœè¯·æ±‚æœåŠ¡å™¨çš„æ–‡ä»¶ï¼Œå»ºç«‹è¯·æ±‚ä¹Ÿéœ€è¦æ¶ˆè€—æ—¶é—´ï¼Œæœ€å¥½æ˜¯å¤šæ¬¡è¯·æ±‚å–å¹³å‡å€¼ã€‚</p><h3 id="è¿˜æœ‰ä¸€ä¸ª-downlink"><a href="#è¿˜æœ‰ä¸€ä¸ª-downlink" class="headerlink" title="è¿˜æœ‰ä¸€ä¸ª downlink"></a>è¿˜æœ‰ä¸€ä¸ª downlink</h3><p><img src="/img/%E7%BD%91%E7%BB%9C%E6%B5%8B%E9%80%9F/downlink.png" srcset="/img/loading.gif" alt="downlink"><br>downlink çš„å•ä½æ˜¯ mbps, æ‰€ä»¥è¦è½¬åŒ–æˆ kb/s</p>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>js</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é”™è¯¯ç›‘æ§</title>
    <link href="/2021/09/09/%E5%89%8D%E7%AB%AF%E9%94%99%E8%AF%AF%E7%9B%91%E6%8E%A7/"/>
    <url>/2021/09/09/%E5%89%8D%E7%AB%AF%E9%94%99%E8%AF%AF%E7%9B%91%E6%8E%A7/</url>
    
    <content type="html"><![CDATA[<h2 id="å¸¸è§é”™è¯¯ç±»å‹"><a href="#å¸¸è§é”™è¯¯ç±»å‹" class="headerlink" title="å¸¸è§é”™è¯¯ç±»å‹"></a>å¸¸è§é”™è¯¯ç±»å‹</h2><table><thead><tr><th>é”™è¯¯</th><th>è§£é‡Š</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>SyntaxError</td><td>è§£ææ—¶å‘ç”Ÿè¯­æ³•é”™è¯¯</td><td>const x</td></tr><tr><td>TypeError</td><td>å€¼ä¸æ˜¯æ‰€æœŸå¾…çš„ç±»å‹</td><td>const person = 1; person.name</td></tr><tr><td>ReferenceError</td><td>å¼•ç”¨æœªå£°æ˜çš„å˜é‡</td><td>x</td></tr><tr><td>RangeError</td><td>ä¸€ä¸ªå€¼ä¸åœ¨å…¶æ‰€å…è®¸çš„èŒƒå›´ä¸­</td><td>new Array(-1)</td></tr><tr><td>ResourceError</td><td>èµ„æºåŠ è½½é”™è¯¯</td><td>new Image().src = â€˜/remote/null.jpgâ€™</td></tr><tr><td>HttpError</td><td>http è¯·æ±‚é”™è¯¯</td><td>fetch(â€˜/remote/nullâ€™)</td></tr></tbody></table><h2 id="å¦‚ä½•æ•è·é”™è¯¯"><a href="#å¦‚ä½•æ•è·é”™è¯¯" class="headerlink" title="å¦‚ä½•æ•è·é”™è¯¯"></a>å¦‚ä½•æ•è·é”™è¯¯</h2><h3 id="try-catch"><a href="#try-catch" class="headerlink" title="try/catch"></a>try/catch</h3><p>èƒ½å¤Ÿæ•è·å¸¸è§„è¿è¡Œæ—¶é”™è¯¯ï¼Œè¯­æ³•é”™è¯¯å’Œå¼‚æ­¥é”™è¯¯æ— æ³•æ•è·</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">// å¸¸è§„è¿è¡Œæ—¶é”™è¯¯ï¼Œå¯ä»¥æ•è· âœ…</span><span class="hljs-keyword">try</span> &#123;  <span class="hljs-built_in">console</span>.log(notdefined);&#125; <span class="hljs-keyword">catch</span>(e) &#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'æ•è·åˆ°å¼‚å¸¸ï¼š'</span>, e);&#125;<span class="hljs-comment">// è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½æ•è· âŒ</span><span class="hljs-keyword">try</span> &#123;  <span class="hljs-keyword">const</span> notdefined,&#125; <span class="hljs-keyword">catch</span>(e) &#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'æ•è·åˆ°å¼‚å¸¸ï¼š'</span>, e);&#125;<span class="hljs-comment">// å¼‚æ­¥é”™è¯¯ï¼Œä¸èƒ½æ•è· âŒ</span><span class="hljs-keyword">try</span> &#123;  setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;    <span class="hljs-built_in">console</span>.log(notdefined);  &#125;, <span class="hljs-number">0</span>)&#125; <span class="hljs-keyword">catch</span>(e) &#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'æ•è·åˆ°å¼‚å¸¸ï¼š'</span>,e);&#125;</code></pre></div><h3 id="window-onerror"><a href="#window-onerror" class="headerlink" title="window.onerror"></a>window.onerror</h3><blockquote><p>æ··åˆäº‹ä»¶ GlobalEventHandlers çš„ onerror å±æ€§æ˜¯ç”¨äºå¤„ç† error çš„äº‹ä»¶<br>Error äº‹ä»¶çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œåœ¨å„ç§ç›®æ ‡å¯¹è±¡çš„ä¸åŒç±»å‹é”™è¯¯è¢«è§¦å‘ï¼š</p></blockquote><blockquote><ul><li>å½“ JavaScript è¿è¡Œæ—¶é”™è¯¯ï¼ˆåŒ…æ‹¬è¯­æ³•é”™è¯¯ï¼‰å‘ç”Ÿæ—¶ï¼Œwindow ä¼šè§¦å‘ä¸€ä¸ª ErrorEvent æ¥å£çš„ error äº‹ä»¶ï¼Œå¹¶æ‰§è¡Œ window.onerror()ã€‚</li><li>å½“ä¸€é¡¹èµ„æºï¼ˆå¦‚&lt;img&gt;æˆ–&lt;script&gt;ï¼‰åŠ è½½å¤±è´¥ï¼ŒåŠ è½½èµ„æºçš„å…ƒç´ ä¼šè§¦å‘ä¸€ä¸ª Event æ¥å£çš„ error äº‹ä»¶ï¼Œå¹¶æ‰§è¡Œè¯¥å…ƒç´ ä¸Šçš„ onerror() å¤„ç†å‡½æ•°ã€‚è¿™äº› error äº‹ä»¶ä¸ä¼šå‘ä¸Šå†’æ³¡åˆ° windowï¼Œä¸è¿‡ï¼ˆè‡³å°‘åœ¨ Firefox ä¸­ï¼‰èƒ½è¢«å•ä¸€çš„ window.addEventListener æ•è·ã€‚</li></ul></blockquote><div class="hljs"><pre><code class="hljs js"><span class="hljs-built_in">window</span>.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message, source, lineno, colno, error</span>) </span>&#123; ... &#125;</code></pre></div><p>å‡½æ•°å‚æ•°ï¼š</p><ul><li>messageï¼šé”™è¯¯ä¿¡æ¯ï¼ˆå­—ç¬¦ä¸²ï¼‰ã€‚å¯ç”¨äº HTML onerror=â€â€å¤„ç†ç¨‹åºä¸­çš„ eventã€‚</li><li>sourceï¼šå‘ç”Ÿé”™è¯¯çš„è„šæœ¬ URLï¼ˆå­—ç¬¦ä¸²ï¼‰</li><li>linenoï¼šå‘ç”Ÿé”™è¯¯çš„è¡Œå·ï¼ˆæ•°å­—ï¼‰</li><li>colnoï¼šå‘ç”Ÿé”™è¯¯çš„åˆ—å·ï¼ˆæ•°å­—ï¼‰</li><li>errorï¼šError å¯¹è±¡ï¼ˆå¯¹è±¡ï¼‰</li></ul><p>è‹¥è¯¥å‡½æ•°è¿”å› trueï¼Œåˆ™é˜»æ­¢æ‰§è¡Œé»˜è®¤äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">// å¸¸è§„è¿è¡Œæ—¶é”™è¯¯ï¼Œå¯ä»¥æ•è· âœ…</span><span class="hljs-built_in">window</span>.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message, source, lineno, colno, error</span>) </span>&#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'æ•è·åˆ°å¼‚å¸¸ï¼š'</span>,&#123;message, source, lineno, colno, error&#125;);&#125;<span class="hljs-built_in">console</span>.log(notdefined);<span class="hljs-comment">// è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½æ•è· âŒ</span><span class="hljs-built_in">window</span>.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message, source, lineno, colno, error</span>) </span>&#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'æ•è·åˆ°å¼‚å¸¸ï¼š'</span>,&#123;message, source, lineno, colno, error&#125;);&#125;<span class="hljs-keyword">const</span> notdefined,<span class="hljs-comment">// å¼‚æ­¥é”™è¯¯ï¼Œå¯ä»¥æ•è· âœ…</span><span class="hljs-built_in">window</span>.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message, source, lineno, colno, error</span>) </span>&#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'æ•è·åˆ°å¼‚å¸¸ï¼š'</span>,&#123;message, source, lineno, colno, error&#125;);&#125;setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;  <span class="hljs-built_in">console</span>.log(notdefined);&#125;, <span class="hljs-number">0</span>)<span class="hljs-comment">// èµ„æºé”™è¯¯ï¼Œä¸èƒ½æ•è· âŒ</span>&lt;script&gt;  <span class="hljs-built_in">window</span>.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message, source, lineno, colno, error</span>) </span>&#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'æ•è·åˆ°å¼‚å¸¸ï¼š'</span>,&#123;message, source, lineno, colno, error&#125;);  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;&#125;&lt;<span class="hljs-regexp">/script&gt;</span><span class="hljs-regexp">&lt;img src="https:/</span><span class="hljs-regexp">/unknown/im</span>age/<span class="hljs-literal">null</span>.png<span class="hljs-string">"&gt;</span></code></pre></div><h3 id="window-addEventListener"><a href="#window-addEventListener" class="headerlink" title="window.addEventListener"></a>window.addEventListener</h3><div class="hljs"><pre><code class="hljs html">// å›¾ç‰‡ã€scriptã€cssåŠ è½½é”™è¯¯ï¼Œéƒ½èƒ½è¢«æ•è· âœ…<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">  <span class="hljs-built_in">window</span>.addEventListener(</span><span class="actionscript">    <span class="hljs-string">"error"</span>,</span>    (error) =&gt; &#123;<span class="javascript">      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"æ•è·åˆ°å¼‚å¸¸ï¼š"</span>, error)</span>    &#125;,<span class="actionscript">    <span class="hljs-literal">true</span></span>  )<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unknown/image/null.png"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unknown/foundnull.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://unknown/foundnull.css"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> /&gt;</span>// new Imageé”™è¯¯ï¼Œä¸èƒ½æ•è· âŒ<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">  <span class="hljs-built_in">window</span>.addEventListener(</span><span class="actionscript">    <span class="hljs-string">"error"</span>,</span>    (error) =&gt; &#123;<span class="javascript">      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"æ•è·åˆ°å¼‚å¸¸ï¼š"</span>, error)</span>    &#125;,<span class="actionscript">    <span class="hljs-literal">true</span></span>  )<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">  <span class="hljs-keyword">new</span> Image().src = <span class="hljs-string">"https://unknown/image/null.png"</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>// fetché”™è¯¯ï¼Œä¸èƒ½æ•è· âŒ<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">  <span class="hljs-built_in">window</span>.addEventListener(</span><span class="actionscript">    <span class="hljs-string">"error"</span>,</span>    (error) =&gt; &#123;<span class="javascript">      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"æ•è·åˆ°å¼‚å¸¸ï¼š"</span>, error)</span>    &#125;,<span class="actionscript">    <span class="hljs-literal">true</span></span>  )<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">  fetch(<span class="hljs-string">"https://unknown/test"</span>)</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div><h3 id="å¼‚æ­¥é”™è¯¯"><a href="#å¼‚æ­¥é”™è¯¯" class="headerlink" title="å¼‚æ­¥é”™è¯¯"></a>å¼‚æ­¥é”™è¯¯</h3><p>å¦‚æœä½¿ç”¨ try/catch èƒ½æ•è· await çš„é”™è¯¯<br>æ™®é€š Promise é”™è¯¯ ä½¿ç”¨ catch</p><h3 id="å…¨å±€æ•è·é”™è¯¯-unhandledrejection"><a href="#å…¨å±€æ•è·é”™è¯¯-unhandledrejection" class="headerlink" title="å…¨å±€æ•è·é”™è¯¯ - unhandledrejection"></a>å…¨å±€æ•è·é”™è¯¯ - unhandledrejection</h3><div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">// å…¨å±€ç»Ÿä¸€å¤„ç†Promise</span><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">"unhandledrejection"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"æ•è·åˆ°å¼‚å¸¸ï¼š"</span>, e)&#125;)fetch(<span class="hljs-string">"https://unknown/test"</span>)</code></pre></div><h3 id="Vue-çš„é”™è¯¯"><a href="#Vue-çš„é”™è¯¯" class="headerlink" title="Vue çš„é”™è¯¯"></a>Vue çš„é”™è¯¯</h3><p>vue çš„é”™è¯¯ä¼šè¢« vue è‡ªåŠ¨æ•è·ï¼Œå¹¶ä¸”æŠ›ç»™ Vue.config.errorHandlerã€‚</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">/**</span><span class="hljs-comment"> * å…¨å±€æ•è·Vueé”™è¯¯ï¼Œç›´æ¥æ‰”å‡ºç»™onerrorå¤„ç†</span><span class="hljs-comment"> */</span>Vue.config.errorHandler = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>&#123;  setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;    <span class="hljs-keyword">throw</span> err  &#125;)&#125;</code></pre></div><h3 id="React-é”™è¯¯"><a href="#React-é”™è¯¯" class="headerlink" title="React é”™è¯¯"></a>React é”™è¯¯</h3><p>react é€šè¿‡ componentDidCatchï¼Œå£°æ˜ä¸€ä¸ªé”™è¯¯è¾¹ç•Œçš„ç»„ä»¶</p><h2 id="æ•°æ®ä¸ŠæŠ¥æ¥å£"><a href="#æ•°æ®ä¸ŠæŠ¥æ¥å£" class="headerlink" title="æ•°æ®ä¸ŠæŠ¥æ¥å£"></a>æ•°æ®ä¸ŠæŠ¥æ¥å£</h2><p>ä½¿ç”¨ 1*1 åƒç´ çš„ gif å›¾ç‰‡è¿›è¡Œä¸ŠæŠ¥ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹å¥½å¤„</p><ul><li>ä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“</li><li>å›¾ç‰‡å¤©ç„¶è·¨åŸŸ</li><li>ä¸ä¼šæºå¸¦ Cookie</li><li>ä¸éœ€ç­‰å¾…æœåŠ¡å™¨è¿”å›æ•°æ®</li><li>gif å›¾ç‰‡æ‰€éœ€æµé‡æœ€å°</li></ul><p>ä½†æ•°æ®å¤ªå¤§ï¼Œæœ€å¥½è¿˜æ˜¯ç”¨ post</p>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é”™è¯¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>React memo lazy</title>
    <link href="/2021/09/09/React-memo-lazy/"/>
    <url>/2021/09/09/React-memo-lazy/</url>
    
    <content type="html"><![CDATA[<h2 id="React-memo"><a href="#React-memo" class="headerlink" title="React.memo"></a>React.memo</h2><p>react.memo æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯ä»¥é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°æ¥è‡ªå®šä¹‰ç»„ä»¶çš„æ¸²æŸ“æ—¶æœºã€‚</p><div class="hljs"><pre><code class="hljs jsx">React.memo(Component, compare)</code></pre></div><p>React.memo æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•° Component åŸå§‹ç»„ä»¶æœ¬èº«ï¼Œç¬¬äºŒä¸ªå‚æ•° compare æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥æ ¹æ®ä¸€æ¬¡æ›´æ–°ä¸­ props æ˜¯å¦ç›¸åŒå†³å®šåŸå§‹ç»„ä»¶æ˜¯å¦é‡æ–°æ¸²æŸ“ã€‚</p><p>memo çš„å‡ ä¸ªç‰¹ç‚¹æ˜¯ï¼š</p><ul><li><p>React.memo: ç¬¬äºŒä¸ªå‚æ•° è¿”å› true ç»„ä»¶ä¸æ¸²æŸ“ ï¼Œ è¿”å› false ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚<br>å’Œ shouldComponentUpdate ç›¸åï¼ŒshouldComponentUpdate : è¿”å› true ç»„ä»¶æ¸²æŸ“ ï¼Œ è¿”å› false ç»„ä»¶ä¸æ¸²æŸ“ã€‚</p></li><li><p>memo å½“äºŒä¸ªå‚æ•° compare ä¸å­˜åœ¨æ—¶ï¼Œä¼šç”¨æµ…æ¯”è¾ƒåŸåˆ™å¤„ç† props ï¼Œç›¸å½“äºä»…æ¯”è¾ƒ props ç‰ˆæœ¬çš„ pureComponent ã€‚</p></li><li><p>memo åŒæ ·é€‚åˆç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ã€‚<br>å…³äºç¬¬äºŒä¸ªå‚æ•°ä½ å¯ä»¥è¿™æ ·å†™ï¼š</p></li></ul><div class="hljs"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> compare = <span class="hljs-function">(<span class="hljs-params">prev, next</span>) =&gt;</span>  prev.number === next.number ||  (prev.number !== next.number &amp;&amp; next.number &gt; <span class="hljs-number">1</span>)</code></pre></div><p>è¿™é‡Œæœ‰ä¸¤ä¸ªæ„æ€ï¼š</p><ul><li>number æ”¹å˜æ—¶ ç»„ä»¶æ¸²æŸ“</li><li>number å°äº 1 æ—¶ ç»„ä»¶æ¸²æŸ“</li></ul><h2 id="å…³äº-rander"><a href="#å…³äº-rander" class="headerlink" title="å…³äº rander"></a>å…³äº rander</h2><h3 id="æœ‰æ²¡æœ‰å¿…è¦åœ¨ä¹ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“ã€‚"><a href="#æœ‰æ²¡æœ‰å¿…è¦åœ¨ä¹ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“ã€‚" class="headerlink" title="æœ‰æ²¡æœ‰å¿…è¦åœ¨ä¹ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“ã€‚"></a>æœ‰æ²¡æœ‰å¿…è¦åœ¨ä¹ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“ã€‚</h3><p>åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ— é¡»è¿‡åˆ†åœ¨ä¹ React æ²¡æœ‰å¿…è¦çš„æ¸²æŸ“ï¼Œæ‰§è¡Œ render ä¸ç­‰äºçœŸæ­£çš„æµè§ˆå™¨æ¸²æŸ“è§†å›¾ï¼Œrender é˜¶æ®µæ‰§è¡Œæ˜¯åœ¨ js å½“ä¸­ï¼Œjs ä¸­è¿è¡Œä»£ç è¿œå¿«äºæµè§ˆå™¨çš„ Rendering å’Œ Painting çš„ï¼Œæ›´ä½•å†µ React è¿˜æä¾›äº† diff ç®—æ³•ç­‰æ‰‹æ®µï¼Œå»å¤ç”¨çœŸå® DOM ã€‚</p><h3 id="ä»€ä¹ˆæ—¶å€™éœ€è¦æ³¨æ„æ¸²æŸ“èŠ‚æµã€‚"><a href="#ä»€ä¹ˆæ—¶å€™éœ€è¦æ³¨æ„æ¸²æŸ“èŠ‚æµã€‚" class="headerlink" title="ä»€ä¹ˆæ—¶å€™éœ€è¦æ³¨æ„æ¸²æŸ“èŠ‚æµã€‚"></a>ä»€ä¹ˆæ—¶å€™éœ€è¦æ³¨æ„æ¸²æŸ“èŠ‚æµã€‚</h3><p>ä½†æ˜¯å¯¹äºä»¥ä¸‹æƒ…å†µï¼Œå€¼å¾—å¼€å‘è€…æ³¨æ„ï¼Œéœ€è¦é‡‡ç”¨æ¸²æŸ“èŠ‚æµï¼š</p><ul><li>ç¬¬ä¸€ç§æƒ…å†µæ•°æ®å¯è§†åŒ–çš„æ¨¡å—ç»„ä»¶ï¼ˆå±•ç¤ºäº†å¤§é‡çš„æ•°æ®ï¼‰ï¼Œè¿™ç§æƒ…å†µæ¯”è¾ƒå°å¿ƒå› ä¸ºä¸€æ¬¡æ›´æ–°ï¼Œå¯èƒ½ä¼´éšå¤§é‡çš„ diff ï¼Œæ•°æ®é‡è¶Šå¤§ä¹Ÿå°±è¶Šæµªè´¹æ€§èƒ½ï¼Œæ‰€ä»¥å¯¹äºæ•°æ®å±•ç¤ºæ¨¡å—ç»„ä»¶ï¼Œæœ‰å¿…è¦é‡‡å– memo ï¼Œ shouldComponentUpdate ç­‰æ–¹æ¡ˆæ§åˆ¶è‡ªèº«ç»„ä»¶æ¸²æŸ“ã€‚</li><li>ç¬¬äºŒç§æƒ…å†µå«æœ‰å¤§é‡è¡¨å•çš„é¡µé¢ï¼ŒReact ä¸€èˆ¬ä¼šé‡‡ç”¨å—æ§ç»„ä»¶çš„æ¨¡å¼å»ç®¡ç†è¡¨å•æ•°æ®å±‚ï¼Œè¡¨å•æ•°æ®å±‚å®Œå…¨æ‰˜ç®¡äº props æˆ–æ˜¯ state ï¼Œè€Œç”¨æˆ·æ“ä½œè¡¨å•å¾€å¾€æ˜¯é¢‘ç¹çš„ï¼Œéœ€è¦é¢‘ç¹æ”¹å˜æ•°æ®å±‚ï¼Œæ‰€ä»¥å¾ˆæœ‰å¯èƒ½è®©æ•´ä¸ªé¡µé¢ç»„ä»¶é«˜é¢‘ç‡ render ã€‚</li><li>ç¬¬ä¸‰ç§æƒ…å†µå°±æ˜¯è¶Šæ˜¯é è¿‘ app root æ ¹ç»„ä»¶è¶Šå€¼å¾—æ³¨æ„ï¼Œæ ¹ç»„ä»¶æ¸²æŸ“ä¼šæ³¢åŠåˆ°æ•´ä¸ªç»„ä»¶æ ‘é‡æ–° render ï¼Œå­ç»„ä»¶ render ï¼Œä¸€æ˜¯æµªè´¹æ€§èƒ½ï¼ŒäºŒæ˜¯å¯èƒ½æ‰§è¡Œ useEffect ï¼ŒcomponentWillReceiveProps ç­‰é’©å­ï¼Œé€ æˆæ„æƒ³ä¸åˆ°çš„æƒ…å†µå‘ç”Ÿã€‚</li></ul><h2 id="ä½¿ç”¨-Suspense-å’Œ-React-lazy-æ¨¡æ‹Ÿå®ç°å¼‚æ­¥åŠ è½½ç»„ä»¶"><a href="#ä½¿ç”¨-Suspense-å’Œ-React-lazy-æ¨¡æ‹Ÿå®ç°å¼‚æ­¥åŠ è½½ç»„ä»¶" class="headerlink" title="ä½¿ç”¨ Suspense å’Œ React.lazy æ¨¡æ‹Ÿå®ç°å¼‚æ­¥åŠ è½½ç»„ä»¶"></a>ä½¿ç”¨ Suspense å’Œ React.lazy æ¨¡æ‹Ÿå®ç°å¼‚æ­¥åŠ è½½ç»„ä»¶</h2><h3 id="å®ç°æ•ˆæœ"><a href="#å®ç°æ•ˆæœ" class="headerlink" title="å®ç°æ•ˆæœ"></a>å®ç°æ•ˆæœ</h3><ul><li>å¼‚æ­¥è¯·æ±‚æ•°æ®ï¼Œè¯·æ±‚å®Œæ•°æ®æŒ‚è½½ç»„ä»¶ï¼Œè¯·æ±‚è¿‡ç¨‹ä¸­å±•ç¤º loading æ•ˆæœã€‚</li><li>å…¨ç¨‹ç»„ä»¶åªæ¸²æŸ“ä¸€æ¬¡</li></ul><h3 id="ç¼–å†™"><a href="#ç¼–å†™" class="headerlink" title="ç¼–å†™"></a>ç¼–å†™</h3><div class="hljs"><pre><code class="hljs jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AsyncComp</span>(<span class="hljs-params">Comp, asyncFn</span>) </span>&#123;  <span class="hljs-keyword">const</span> AsyncCompPromise = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>    <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-keyword">async</span> (resolve) =&gt; &#123;      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> asyncFn()      resolve(&#123;        <span class="hljs-keyword">default</span>: <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Comp</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;data&#125;</span> &#123;<span class="hljs-attr">...props</span>&#125; /&gt;</span></span>,      &#125;)    &#125;)  <span class="hljs-keyword">return</span> React.lazy(AsyncCompPromise)&#125;<span class="hljs-keyword">const</span> fetchData = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;    setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;      resolve(&#123;        name: <span class="hljs-string">"ranxiu"</span>,        msg: <span class="hljs-string">"a lot of data"</span>,      &#125;)    &#125;, <span class="hljs-number">1000</span>)  &#125;)&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params">&#123; value, gender &#125;</span>) </span>&#123;  <span class="hljs-keyword">const</span> &#123; name, msg &#125; = value  <span class="hljs-keyword">return</span> (    &lt;div&gt;      &lt;div&gt;my name is &#123;name&#125;&lt;<span class="hljs-regexp">/div&gt;</span><span class="hljs-regexp">      &lt;div&gt;this is &#123;msg&#125;&lt;/</span>div&gt;      &lt;div&gt;my gender is &#123;gender&#125;&lt;<span class="hljs-regexp">/div&gt;</span><span class="hljs-regexp">    &lt;/</span>div&gt;  )&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>&#123;  <span class="hljs-keyword">const</span> LzayTest = AsyncComp(Test, fetchData)  <span class="hljs-keyword">return</span> (    &lt;Suspense fallback=&#123;&lt;div&gt;loading...&lt;<span class="hljs-regexp">/div&gt;&#125;&gt;</span><span class="hljs-regexp">      &lt;LzayTest gender='ç”·' /</span>&gt;    &lt;<span class="hljs-regexp">/Suspense&gt;</span><span class="hljs-regexp">  )</span><span class="hljs-regexp">&#125;</span></code></pre></div><p>React.lazy è¦æ±‚å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ª Promiseã€‚å¤§è‡´æµç¨‹æ˜¯ï¼Œreact.lazy ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ä¼šå‘å¤–æŠ›ä¸ªå¼‚å¸¸ Promiseï¼Œè¿™ä¸ªå¼‚å¸¸ä¼šè¢« Suspense æ•è·åˆ°ï¼ŒSuspense å¤„ç† Promiseï¼ŒPromise æ‰§è¡ŒæˆåŠŸå Susponse å‘èµ·æ¸²æŸ“ï¼Œè¿”å›çœŸæ­£éœ€è¦æ¸²æŸ“çš„ç»„ä»¶ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>React</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>React Props Children æ··åˆæ’æ§½</title>
    <link href="/2021/09/09/React-Props-Children-%E6%B7%B7%E5%90%88%E6%8F%92%E6%A7%BD/"/>
    <url>/2021/09/09/React-Props-Children-%E6%B7%B7%E5%90%88%E6%8F%92%E6%A7%BD/</url>
    
    <content type="html"><![CDATA[<h2 id="å½“å¤šç§-children-ä¸€èµ·è¾“å…¥æ—¶"><a href="#å½“å¤šç§-children-ä¸€èµ·è¾“å…¥æ—¶" class="headerlink" title="å½“å¤šç§ children ä¸€èµ·è¾“å…¥æ—¶"></a>å½“å¤šç§ children ä¸€èµ·è¾“å…¥æ—¶</h2><div class="hljs"><pre><code class="hljs jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Container</span>(<span class="hljs-params">props</span>) </span>&#123;  <span class="hljs-keyword">const</span> defaultProps = &#123;    name: <span class="hljs-string">"alen"</span>,    msg: <span class="hljs-string">"hello"</span>,  &#125;  <span class="hljs-keyword">return</span> props.children.map(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;    <span class="hljs-comment">// é€šè¿‡åˆ¤æ–­ clone æ··å…¥props</span>    <span class="hljs-keyword">if</span> (React.isValidElement(item)) &#123;      <span class="hljs-keyword">return</span> React.cloneElement(item, &#123; ...defaultProps &#125;)    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> item === <span class="hljs-string">"function"</span>) &#123;      <span class="hljs-keyword">return</span> item(defaultProps)    &#125; <span class="hljs-keyword">else</span> &#123;      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>    &#125;  &#125;)&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Child</span>(<span class="hljs-params">props</span>) </span>&#123;  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>&#123;props.name + props.msg&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>&#123;  <span class="hljs-keyword">return</span> (    &lt;Container&gt;      <span class="hljs-comment">// å¤šç§æ–¹å¼æ··å…¥</span>      &lt;Child /&gt;      &#123;(props) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> &#123;<span class="hljs-attr">...props</span>&#125; /&gt;</span></span>&#125;    &lt;<span class="hljs-regexp">/Container&gt;</span><span class="hljs-regexp">  )</span><span class="hljs-regexp">&#125;</span><span class="hljs-regexp"></span><span class="hljs-regexp">render(&lt;App /</span>&gt;, <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"root"</span>))</code></pre></div>]]></content>
    
    
    
    <tags>
      
      <tag>React</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>createObjectURL</title>
    <link href="/2021/09/08/%E5%85%B3%E4%BA%8EcreateObjectURL/"/>
    <url>/2021/09/08/%E5%85%B3%E4%BA%8EcreateObjectURL/</url>
    
    <content type="html"><![CDATA[<h2 id="createObjectURL-æ˜¯ä»€ä¹ˆ"><a href="#createObjectURL-æ˜¯ä»€ä¹ˆ" class="headerlink" title="createObjectURL æ˜¯ä»€ä¹ˆ"></a>createObjectURL æ˜¯ä»€ä¹ˆ</h2><blockquote><p>URL.createObjectURL() é™æ€æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ª DOMStringï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªè¡¨ç¤ºå‚æ•°ä¸­ç»™å‡ºçš„å¯¹è±¡çš„ URLã€‚è¿™ä¸ª URL çš„ç”Ÿå‘½å‘¨æœŸå’Œåˆ›å»ºå®ƒçš„çª—å£ä¸­çš„ document ç»‘å®šã€‚è¿™ä¸ªæ–°çš„ URL å¯¹è±¡è¡¨ç¤ºæŒ‡å®šçš„ File å¯¹è±¡æˆ– Blob å¯¹è±¡ã€‚ â€” MDN</p></blockquote><h2 id="Blob-URL-Object-URL"><a href="#Blob-URL-Object-URL" class="headerlink" title="Blob URL/Object URL"></a>Blob URL/Object URL</h2><p>Blob URL/Object URL æ˜¯â¼€ç§ä¼ªåè®®ï¼Œå…è®¸ Blob å’Œ File å¯¹è±¡â½¤ä½œå›¾åƒï¼Œä¸‹è½½â¼†è¿›åˆ¶æ•°æ®é“¾æ¥ç­‰çš„ URL<br>æºã€‚åœ¨æµè§ˆå™¨ä¸­ï¼Œæˆ‘ä»¬ä½¿â½¤ URL.createObjectURL â½…æ³•æ¥åˆ›å»º Blob URLï¼Œè¯¥â½…æ³•æ¥æ”¶â¼€ä¸ª Blob å¯¹<br>è±¡ï¼Œå¹¶ä¸ºå…¶åˆ›å»ºâ¼€ä¸ªå”¯â¼€çš„ URLï¼Œå…¶å½¢å¼ä¸º <code>blob:&lt;origin&gt;/&lt;uuid&gt;</code> ï¼Œå¯¹åº”çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="hljs"><pre><code class="hljs js">blob:https:<span class="hljs-comment">//example.org/40a5fb5a-d56d-4a33-b4e2-0acf6a8e5f641</span></code></pre></div><p>æµè§ˆå™¨å†…éƒ¨ä¸ºæ¯ä¸ªé€šè¿‡ URL.createObjectURL â½£æˆçš„ URL å­˜å‚¨äº†â¼€ä¸ª URL â†’ Blob æ˜ å°„ã€‚å› æ­¤ï¼Œæ­¤<br>ç±» URL è¾ƒçŸ­ï¼Œä½†å¯ä»¥è®¿é—® Blob ã€‚â½£æˆçš„ URL ä»…åœ¨å½“å‰â½‚æ¡£æ‰“å¼€çš„çŠ¶æ€ä¸‹æ‰æœ‰æ•ˆã€‚å®ƒå…è®¸å¼•â½¤<br><code>&lt;img&gt; ã€ &lt;a&gt;</code> ä¸­çš„ Blob ï¼Œä½†å¦‚æœä½ è®¿é—®çš„ Blob URL ä¸å†å­˜åœ¨ï¼Œåˆ™ä¼šä»æµè§ˆå™¨ä¸­æ”¶åˆ° 404 é”™è¯¯ã€‚</p><p>ä¸Šè¿°çš„ Blob URL çœ‹ä¼¼å¾ˆä¸é”™ï¼Œä½†å®é™…ä¸Šå®ƒä¹Ÿæœ‰å‰¯ä½œâ½¤ã€‚è™½ç„¶å­˜å‚¨äº† URL â†’ Blob çš„æ˜ å°„ï¼Œä½† Blob æœ¬<br>èº«ä»é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œæµè§ˆå™¨â½†æ³•é‡Šæ”¾å®ƒã€‚æ˜ å°„åœ¨â½‚æ¡£å¸è½½æ—¶â¾ƒåŠ¨æ¸…é™¤ï¼Œå› æ­¤ Blob å¯¹è±¡éšåè¢«é‡Šæ”¾ã€‚ä½†<br>æ˜¯ï¼Œå¦‚æœåº”â½¤ç¨‹åºå¯¿å‘½å¾ˆâ»“ï¼Œé‚£ä¸ä¼šå¾ˆå¿«å‘â½£ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬åˆ›å»ºâ¼€ä¸ª Blob URLï¼Œå³ä½¿ä¸å†éœ€è¦è¯¥<br>Blobï¼Œå®ƒä¹Ÿä¼šå­˜åœ¨å†…å­˜ä¸­ã€‚</p><p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒâ½¤ URL.revokeObjectURL(url) â½…æ³•ï¼Œä»å†…éƒ¨æ˜ å°„ä¸­åˆ é™¤å¼•â½¤ï¼Œä»â½½å…è®¸<br>åˆ é™¤ Blobï¼ˆå¦‚æœæ²¡æœ‰å…¶ä»–å¼•â½¤ï¼‰ï¼Œå¹¶é‡Šæ”¾å†…å­˜ã€‚</p><h2 id="createObjectURL-å¯ä»¥ç”¨æ¥åšä»€ä¹ˆ"><a href="#createObjectURL-å¯ä»¥ç”¨æ¥åšä»€ä¹ˆ" class="headerlink" title="createObjectURL å¯ä»¥ç”¨æ¥åšä»€ä¹ˆ"></a>createObjectURL å¯ä»¥ç”¨æ¥åšä»€ä¹ˆ</h2><p>æ¯”å¦‚æ˜¾ç¤ºä¸Šä¼ çš„é¢„è§ˆå›¾</p><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><span class="hljs-tag">    <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span></span><span class="hljs-tag">    <span class="hljs-attr">multiple</span></span><span class="hljs-tag">    <span class="hljs-attr">id</span>=<span class="hljs-string">"fileInput"</span></span><span class="hljs-tag">    <span class="hljs-attr">onchange</span>=<span class="hljs-string">"previewFiles(this.files)"</span></span><span class="hljs-tag">  /&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"preview"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">    <span class="hljs-keyword">const</span> inputEl = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'fileInput'</span>) <span class="hljs-keyword">const</span> ulEle =</span><span class="javascript">    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'preview'</span>) <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">previewFiles</span>(<span class="hljs-params">files</span>)</span>&#123;<span class="hljs-string">" "</span>&#125;</span><span class="javascript">    &#123;<span class="hljs-built_in">Array</span>.from(files).forEach(<span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> &#123;</span><span class="javascript">      <span class="hljs-keyword">const</span> li = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"li"</span>)</span>      ulEle.appendChild(li)<span class="javascript">      <span class="hljs-keyword">const</span> img = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"img"</span>)</span>      img.src = URL.createObjectURL(file)      img.height = 100      img.width = 100<span class="actionscript">      img.onload = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>&#123;</span><span class="actionscript">        <span class="hljs-comment">// å½“å›¾ç‰‡åŠ è½½å®Œæˆä¹‹åå¯¹è±¡URLå°±ä¸å†éœ€è¦äº†</span></span><span class="actionscript">        URL.revokeObjectURL(<span class="hljs-keyword">this</span>.src)</span>      &#125;      li.appendChild(img)    &#125;)&#125;  <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></code></pre></div><p>æ¥çœ‹çœ‹æ•ˆæœï¼š</p><p><img src="/img/createObjectURL/1.png" srcset="/img/loading.gif" alt="æ•ˆæœ"></p><blockquote><p>åœ¨æ¯æ¬¡è°ƒç”¨  <code>createObjectURL()</code>  æ–¹æ³•æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ URL å¯¹è±¡ï¼Œå³ä½¿ä½ å·²ç»ç”¨ç›¸åŒçš„å¯¹è±¡ä½œä¸ºå‚æ•°åˆ›å»ºè¿‡ã€‚å½“ä¸å†éœ€è¦è¿™äº› URL å¯¹è±¡æ—¶ï¼Œæ¯ä¸ªå¯¹è±¡å¿…é¡»é€šè¿‡è°ƒç”¨  <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URL/revokeObjectURL" target="_blank" rel="noopener">URL.revokeObjectURL()</a> æ–¹æ³•æ¥é‡Šæ”¾ã€‚</p></blockquote><p>æµè§ˆå™¨åœ¨ document å¸è½½çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾å®ƒä»¬ï¼Œä½†æ˜¯ä¸ºäº†è·å¾—æœ€ä½³æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨çŠ¶å†µï¼Œä½ åº”è¯¥åœ¨å®‰å…¨çš„æ—¶æœºä¸»åŠ¨é‡Šæ”¾æ‰å®ƒä»¬ã€‚</p><h2 id="FileReader-çš„-readAsDataURL"><a href="#FileReader-çš„-readAsDataURL" class="headerlink" title="FileReader çš„ readAsDataURL"></a>FileReader çš„ readAsDataURL</h2><blockquote><p>readAsDataURL æ–¹æ³•ä¼šè¯»å–æŒ‡å®šçš„ Blob æˆ– File å¯¹è±¡ã€‚è¯»å–æ“ä½œå®Œæˆçš„æ—¶å€™ï¼ŒreadyState ä¼šå˜æˆå·²å®Œæˆ DONEï¼Œå¹¶è§¦å‘ loadend äº‹ä»¶ï¼ŒåŒæ—¶ result å±æ€§å°†åŒ…å«ä¸€ä¸ª data:URL æ ¼å¼çš„å­—ç¬¦ä¸²ï¼ˆbase64 ç¼–ç ï¼‰ä»¥è¡¨ç¤ºæ‰€è¯»å–æ–‡ä»¶çš„å†…å®¹ã€‚</p></blockquote><p>è¿˜æ˜¯ä¸Šä¸€ä¸ªä¾‹å­</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">useFileReaderPreivewFiles</span>(<span class="hljs-params">files</span>) </span>&#123;  <span class="hljs-built_in">Array</span>.from(files).forEach(<span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> &#123;    <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> FileReader()    <span class="hljs-keyword">const</span> li = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"li"</span>)    ulEle.appendChild(li)    reader.onload = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;      <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> Image()      img.height = <span class="hljs-number">100</span>      img.width = <span class="hljs-number">100</span>      img.src = e.target.result      li.appendChild(img)    &#125;    reader.readAsDataURL(file)  &#125;)&#125;</code></pre></div><p>åŒæ ·çš„æ•ˆæœ:</p><p><img src="/img/createObjectURL/2.png" srcset="/img/loading.gif" alt="æ•ˆæœå›¾"></p><p>æ¥ä¸€å¼ ç»ˆæå›¾ï¼š</p><p><img src="/img/createObjectURL/3.jpg" srcset="/img/loading.gif" alt="data_url.jpg"></p>]]></content>
    
    
    
    <tags>
      
      <tag>js</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸå‹ä¸åŸå‹é“¾</title>
    <link href="/2021/09/07/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/"/>
    <url>/2021/09/07/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/</url>
    
    <content type="html"><![CDATA[<h2 id="åŸå‹ä¸åŸå‹é“¾"><a href="#åŸå‹ä¸åŸå‹é“¾" class="headerlink" title="åŸå‹ä¸åŸå‹é“¾"></a>åŸå‹ä¸åŸå‹é“¾</h2><p><strong>å®ä¾‹ä¸æ„é€ å‡½æ•°åŸå‹ä¹‹é—´æœ‰ç›´æ¥çš„è”ç³»ï¼Œä½†å®ä¾‹ä¸æ„é€ å‡½æ•°ä¹‹é—´æ²¡æœ‰ã€‚</strong></p><p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªå±æ€§ï¼Œå°±æ˜¯ prototypeï¼Œå‡½æ•°çš„ prototype æŒ‡å‘äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯è°ƒç”¨è¯¥æ„é€ å‡½æ•°åˆ›å»ºçš„<strong>å®ä¾‹</strong>çš„åŸå‹ã€‚</p><p>å¯ä»¥è¿™ä¹ˆç†è§£ï¼šæ¯ä¸€ä¸ª JavaScript å¯¹è±¡(null é™¤å¤–)åœ¨åˆ›å»ºçš„æ—¶å€™å°±ä¼šä¸ä¹‹å…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŸå‹ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€œç»§æ‰¿â€å±æ€§ã€‚å®ä¾‹ person ä¸ Person.prototype ä¹‹é—´çš„å…³ç³»é€šè¿‡ <strong>proto</strong> è¿æ¥è¿™æ˜¯æ¯ä¸€ä¸ª JavaScript å¯¹è±¡(é™¤äº† null )éƒ½å…·æœ‰çš„ä¸€ä¸ªå±æ€§ï¼Œå«<strong>proto</strong>ï¼Œè¿™ä¸ªå±æ€§ä¼šæŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹ã€‚</p><p><img src="/img/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/image1.png" srcset="/img/loading.gif" alt="åŸå‹"></p><div class="hljs"><pre><code class="hljs jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person()<span class="hljs-built_in">console</span>.log(person.__proto__ === Person.prototype) <span class="hljs-comment">// true</span></code></pre></div><p><img src="/img/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/image2.png" srcset="/img/loading.gif" alt="åŸå‹"></p><p>æ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ª <strong>constructor</strong> å±æ€§æŒ‡å‘å…³è”çš„æ„é€ å‡½æ•°ã€‚</p><div class="hljs"><pre><code class="hljs jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<span class="hljs-built_in">console</span>.log(Person === Person.prototype.constructor) <span class="hljs-comment">// true</span></code></pre></div><p><img src="/img/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/image3.png" srcset="/img/loading.gif" alt="åŸå‹"></p><p>åŸå‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£å°±å¯ä»¥é€šè¿‡ Object æ„é€ å‡½æ•°ç”Ÿæˆï¼Œæ‰€ä»¥</p><p><img src="/img/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/image4.png" srcset="/img/loading.gif" alt="åŸå‹"></p><p>Object.prototype.<strong>proto</strong> çš„å€¼ä¸º null è·Ÿ Object.prototype æ²¡æœ‰åŸå‹ï¼Œå…¶å®è¡¨è¾¾äº†ä¸€ä¸ªæ„æ€ã€‚</p><h3 id="ä¸€äº›ç»†èŠ‚"><a href="#ä¸€äº›ç»†èŠ‚" class="headerlink" title="ä¸€äº›ç»†èŠ‚"></a>ä¸€äº›ç»†èŠ‚</h3><p><img src="/img/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/image5.png" srcset="/img/loading.gif" alt="åŸå‹"></p><h3 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h3><div class="hljs"><pre><code class="hljs jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;&#125;<span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person()<span class="hljs-built_in">console</span>.log(person.constructor === Person) <span class="hljs-comment">// true</span></code></pre></div><p>å½“è·å– person.constructor æ—¶ï¼Œå…¶å® person ä¸­å¹¶æ²¡æœ‰ constructor å±æ€§,å½“ä¸èƒ½è¯»å–åˆ° constructor å±æ€§æ—¶ï¼Œä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ Person.prototype ä¸­è¯»å–ï¼Œæ­£å¥½åŸå‹ä¸­æœ‰è¯¥å±æ€§ï¼Œæ‰€ä»¥ï¼š</p><div class="hljs"><pre><code class="hljs jsx">person.constructor === Person.prototype.constructor</code></pre></div><h3 id="proto"><a href="#proto" class="headerlink" title="proto"></a><strong>proto</strong></h3><p>ç»å¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªéæ ‡å‡†çš„æ–¹æ³•è®¿é—®åŸå‹ï¼Œç„¶è€Œå®ƒå¹¶ä¸å­˜åœ¨äº Person.prototype ä¸­ï¼Œå®é™…ä¸Šï¼Œå®ƒæ˜¯æ¥è‡ªäº Object.prototype ï¼Œä¸å…¶è¯´æ˜¯ä¸€ä¸ªå±æ€§ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ä¸ª getter/setterï¼Œå½“ä½¿ç”¨ obj.<strong>proto</strong> æ—¶ï¼Œå¯ä»¥ç†è§£æˆè¿”å›äº† Object.getPrototypeOf(obj)ã€‚</p><h3 id="çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿ"><a href="#çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿ" class="headerlink" title="çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿ"></a>çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿ</h3><p>æœ€åæ˜¯å…³äºç»§æ‰¿ï¼Œå‰é¢æˆ‘ä»¬è®²åˆ°â€œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€˜ç»§æ‰¿â€™å±æ€§â€ï¼Œå®é™…ä¸Šï¼Œç»§æ‰¿æ˜¯ä¸€ä¸ªååˆ†å…·æœ‰è¿·æƒ‘æ€§çš„è¯´æ³•ï¼Œå¼•ç”¨ã€Šä½ ä¸çŸ¥é“çš„ JavaScriptã€‹ä¸­çš„è¯ï¼Œå°±æ˜¯ï¼š</p><p>ç»§æ‰¿æ„å‘³ç€å¤åˆ¶æ“ä½œï¼Œç„¶è€Œ JavaScript é»˜è®¤å¹¶ä¸ä¼šå¤åˆ¶å¯¹è±¡çš„å±æ€§ï¼Œç›¸åï¼ŒJavaScript åªæ˜¯åœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºä¸€ä¸ªå…³è”ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªå¯¹è±¡å°±å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œå‡½æ•°ï¼Œæ‰€ä»¥ä¸å…¶å«ç»§æ‰¿ï¼Œå§”æ‰˜çš„è¯´æ³•åè€Œæ›´å‡†ç¡®äº›ã€‚</p><h3 id="Function-proto-Function-prototype"><a href="#Function-proto-Function-prototype" class="headerlink" title="Function.proto === Function.prototype"></a>Function.<strong>proto</strong> === Function.prototype</h3><p>Function ä½œä¸ºä¸€ä¸ªå†…ç½®å¯¹è±¡ï¼Œæ˜¯è¿è¡Œå‰å°±å·²ç»å­˜åœ¨çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ ¹æœ¬å°±ä¸ä¼šæ ¹æ®è‡ªå·±ç”Ÿæˆè‡ªå·±ï¼Œå°±æ˜¯å…ˆæœ‰çš„ Functionï¼Œç„¶åå®ç°ä¸ŠæŠŠåŸå‹æŒ‡å‘äº† Function.prototypeï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½å€’è¿‡æ¥æ¨æµ‹å› ä¸º Function.<strong>proto</strong> === Function.prototypeï¼Œæ‰€ä»¥ Function è°ƒç”¨äº†è‡ªå·±ç”Ÿæˆäº†è‡ªå·±ã€‚</p><h3 id="å®Œæ•´çš„åŸå‹é“¾"><a href="#å®Œæ•´çš„åŸå‹é“¾" class="headerlink" title="å®Œæ•´çš„åŸå‹é“¾"></a>å®Œæ•´çš„åŸå‹é“¾</h3><p><img src="/img/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/image6.png" srcset="/img/loading.gif" alt="åŸå‹"></p><p><strong>ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿ</strong></p><p>å½“å¯¹è±¡æŸ¥æ‰¾ä¸€ä¸ªå±æ€§çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰åœ¨è‡ªèº«æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±ä¼šæŸ¥æ‰¾è‡ªèº«çš„åŸå‹ï¼Œå¦‚æœåŸå‹è¿˜æ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆä¼šç»§ç»­æŸ¥æ‰¾åŸå‹çš„åŸå‹ï¼Œç›´åˆ°æ‰¾åˆ° Object.prototype çš„åŸå‹æ—¶ï¼Œæ­¤æ—¶åŸå‹ä¸º nullï¼ŒæŸ¥æ‰¾åœæ­¢ã€‚ è¿™ç§é€šè¿‡<strong>åŸå‹é“¾æ¥çš„é€çº§å‘ä¸Šçš„æŸ¥æ‰¾é“¾</strong>è¢«ç§°ä¸ºåŸå‹é“¾</p><p><strong>ä»€ä¹ˆæ˜¯åŸå‹ç»§æ‰¿ï¼Ÿ</strong></p><p>ä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æˆ–è€…æ–¹æ³•ï¼Œå°±ç§°ä¹‹ä¸ºç»§æ‰¿ã€‚å…·ä½“æ˜¯é€šè¿‡å°†è¿™ä¸ªå¯¹è±¡çš„åŸå‹è®¾ç½®ä¸ºå¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·æ ¹æ®åŸå‹é“¾çš„è§„åˆ™ï¼Œå¦‚æœæŸ¥æ‰¾ä¸€ä¸ªå¯¹è±¡å±æ€§ä¸”åœ¨è‡ªèº«ä¸å­˜åœ¨æ—¶ï¼Œå°±ä¼šæŸ¥æ‰¾å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œç›¸å½“äºä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•äº†ã€‚</p><p>ä½¿ç”¨ <strong>Object.prototype.toString.call()</strong> åˆ¤æ–­æ•°æ®ç±»å‹</p><p><strong>proto</strong> ä¸å†…éƒ¨çš„ <strong>[[Prototype]] ä¸ä¸€æ ·</strong>ã€‚</p><p><strong>proto</strong> æ˜¯ <strong>[[Prototype]]</strong> çš„ getter/setterã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>js</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è™šå‡çš„æ´—ç‰Œç®—æ³•</title>
    <link href="/2021/08/31/%E8%99%9A%E5%81%87%E7%9A%84%E6%B4%97%E7%89%8C%E7%AE%97%E6%B3%95/"/>
    <url>/2021/08/31/%E8%99%9A%E5%81%87%E7%9A%84%E6%B4%97%E7%89%8C%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="è™šå‡çš„æ´—ç‰Œç®—æ³•"><a href="#è™šå‡çš„æ´—ç‰Œç®—æ³•" class="headerlink" title="è™šå‡çš„æ´—ç‰Œç®—æ³•"></a>è™šå‡çš„æ´—ç‰Œç®—æ³•</h2><p>æœ€å¸¸è§çš„ï¼š</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> shuffle = <span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> list.sort(<span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> <span class="hljs-built_in">Math</span>.random() - <span class="hljs-number">0.5</span>)</code></pre></div><p>å¯è¿™å¹¶ä¸åˆç†ï¼Œå¯¹äºè¿™ä¸ªæ•°ç»„ï¼š[1,2,3,4,5]ï¼Œæ¯ä¸ªæ•°å­—å‡ºç°åœ¨æ¯ä¸ªä½ç½®çš„æ¦‚ç‡åº”è¯¥æ˜¯ç›¸åŒçš„ã€‚ç„¶è€Œä½¿ç”¨ä»¥ä¸Šç®—æ³•ï¼Œ1 å‡ºç°åœ¨ index=4 ä½ç½®çš„æ¦‚ç‡ ä¸ 4 å‡ºç°åœ¨ index=4 çš„æ¦‚ç‡å¹¶ä¸ç›¸åŒã€‚</p><h2 id="çœŸæ­£çš„æ´—ç‰Œç®—æ³•"><a href="#çœŸæ­£çš„æ´—ç‰Œç®—æ³•" class="headerlink" title="çœŸæ­£çš„æ´—ç‰Œç®—æ³•"></a>çœŸæ­£çš„æ´—ç‰Œç®—æ³•</h2><p><a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle" target="_blank" rel="noopener">Fisherâ€“Yates shuffle</a></p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> nums = <span class="hljs-built_in">Array</span>(<span class="hljs-number">54</span>)  .fill(<span class="hljs-literal">undefined</span>)  .map(<span class="hljs-function">(<span class="hljs-params">_, index</span>) =&gt;</span> index)<span class="hljs-comment">/**</span><span class="hljs-comment"> * æ´—ç‰Œç®—æ³•</span><span class="hljs-comment"> * <span class="hljs-doctag">@param </span>nums æ•°ç»„</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">FYSufffle</span>(<span class="hljs-params">nums</span>) </span>&#123;  <span class="hljs-keyword">const</span> randNums = <span class="hljs-built_in">Array</span>.from(nums)  <span class="hljs-keyword">let</span> len = nums.length  <span class="hljs-keyword">while</span> (len &gt; <span class="hljs-number">1</span>) &#123;    <span class="hljs-keyword">const</span> rand = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * len)    len--    <span class="hljs-comment">// äº¤æ¢</span>    ;[randNums[rand], randNums[len]] = [randNums[len], randNums[rand]]  &#125;  <span class="hljs-keyword">return</span> randNums&#125;<span class="hljs-built_in">console</span>.log(FYSufffle(nums))</code></pre></div><p>ä»¥ä¸Šã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ´—ç‰Œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºå®ä¹ çš„è®°å¿†</title>
    <link href="/2021/08/28/%E5%85%B3%E4%BA%8E%E5%AE%9E%E4%B9%A0%E7%9A%84%E8%AE%B0%E5%BF%86/"/>
    <url>/2021/08/28/%E5%85%B3%E4%BA%8E%E5%AE%9E%E4%B9%A0%E7%9A%84%E8%AE%B0%E5%BF%86/</url>
    
    <content type="html"><![CDATA[<h1 id="å…³äºå®ä¹ çš„è®°å¿†"><a href="#å…³äºå®ä¹ çš„è®°å¿†" class="headerlink" title="å…³äºå®ä¹ çš„è®°å¿†"></a>å…³äºå®ä¹ çš„è®°å¿†</h1><h2 id="4-21-ç›¸é‡"><a href="#4-21-ç›¸é‡" class="headerlink" title="4.21 ç›¸é‡"></a>4.21 ç›¸é‡</h2><p>å…³äºè¿™å¤©ï¼Œæˆ‘è®°ä½çš„ä¸å¤šäº†ï¼Œåªæ˜¯è®°å¾—å½“å¤©ä¸æˆ‘åŒæ—¶å…¥èŒçš„æœ‰ä¸å°‘äººï¼Œæœ‰ä¸€ä¸ªä»å¹¿ä¸œè¿‡æ¥çš„å°å“¥ï¼Œç©¿ç€ä¸€èº«å¸…æ°”è¥¿è£…ï¼ŒæŠŠå¤´å‘æ¢³æˆå¤§äººæ¨¡æ ·ã€‚</p><p>å½“æ—¶æˆ‘çš„ mentor æ—¶ä¸­æ­£åœ¨å¼€ä¼šï¼Œåæ¥æ‰çŸ¥é“æ˜¯ç«™ä¼šï¼Œæˆ‘çš„ leader é£å“¥è¿‡æ¥æŠŠæˆ‘é¢†åˆ°æˆ‘çš„åº§ä½ä¸Šã€‚ç„¶åå¼€å§‹æŒ‰ç…§å…¥èŒé¡»çŸ¥å®‰è£…è½¯ä»¶ï¼Œå®‰è£…ä¸€åŠæ—¶ï¼Œæˆ‘çš„ mentor å¼€å®Œä¼šå›æ¥äº†ã€‚è¯´å®è¯ï¼Œç¬¬ä¸€çœ¼çœ‹è§æ—¶ä¸­æ—¶ï¼Œä¸æˆ‘å†…å¿ƒçš„å½¢è±¡å¾ˆç›¸è¿‘ï¼Œé™¤äº†å‘é™…çº¿ã€‚ç¬¬ä¸€æ¬¡è§é¢æ€»æœ‰äº›æ‹˜æŸï¼Œæ—¶ä¸­ä¹Ÿæœ‰äº›æ‹˜æŸï¼Œæˆ‘é—®æˆ‘éœ€è¦å…ˆå¹²ä»€ä¹ˆï¼Œæ—¶ä¸­åªæ˜¯è®©æˆ‘æŒ‰ç…§é¡»çŸ¥å…ˆå®‰è£…è½¯ä»¶ã€‚ä¸­åˆå»ä¸€èµ·åƒäº†ä¸€ä¸ªé¥­ã€‚</p><h2 id="5-6-ç†Ÿæ‚‰"><a href="#5-6-ç†Ÿæ‚‰" class="headerlink" title="5-6 ç†Ÿæ‚‰"></a>5-6 ç†Ÿæ‚‰</h2><p>æ…¢æ…¢å¼€å§‹ç†Ÿæ‚‰å‘¨å›´çš„äººï¼Œç†Ÿæ‚‰ä¼šè®®ã€è¿­ä»£ã€å¼€å‘ã€éƒ¨ç½²ç­‰ç­‰æµç¨‹ã€‚æ¥äº†ä¸€ä¸ªæ–°ä¼™ä¼´è€€è¾‰ï¼Œå½“æ—¶çš„ç¬¬ä¸€è®°å¿†æ˜¯ï¼šä¸ºä»€ä¹ˆä¸å«è¾‰è€€ã€‚ä¹‹åæ…¢æ…¢è·Ÿè€€è¾‰ç†Ÿæ‚‰ï¼Œå‘ç°ä»–çš„å‡ ä¸ªç‰¹ç‚¹ï¼Œæ¯”å¦‚ å–œæ¬¢è¯´â€œæˆ‘æ¯”è¾ƒå¥½å¥‡â€ï¼Œå¾ˆâ€œæ­£å¼â€ï¼ŒåŠªåŠ›ï¼Œè¿˜æœ‰æƒ³æ‰¾å¥³æœ‹å‹ã€‚çœŸæ˜¯ä¼˜ç§€çš„ç”·ç”Ÿå•Šã€‚</p><p>è¿™ä¸ªèŠ‚ç‚¹åŒæ—¶ä¹Ÿæ˜¯æˆ‘å¿«é€Ÿæˆé•¿çš„é˜¶æ®µã€‚</p><p>å¼€å‘æ—¶çš„å…¨å±€ä»£ç è€ƒè™‘ï¼Œä»£ç çš„ä¼˜é›…å†™æ³•ï¼Œè®¾è®¡æ¨¡å¼çš„åº”ç”¨ç­‰ç­‰ã€‚å¯¹ä¸€ä¸ªç¨å¤§å‹çš„é¡¹ç›®åº”è¯¥å¦‚ä½•ç»„ç»‡ä»£ç ï¼Œå¯¹ä»£ç è¿›è¡Œå¤ç”¨ã€‚å¯¹ä¸€äº›å…¶ä»–çš„æŠ€æœ¯çš„äº†è§£ï¼Œæ—¶ä¸­å¯¹äºæŠ€æœ¯çš„ä¸æ‡ˆè¿½æ±‚ä¹Ÿå½±å“äº†æˆ‘å¾ˆå¤šï¼Œæ€»æ˜¯å¯¹ä¸€äº›æ–°çš„æŠ€æœ¯ä¸»åŠ¨å°è¯•ï¼Œäº†è§£ï¼Œå‘ç°å…¶ä¼˜ç¼ºç‚¹ã€‚</p><h2 id="7-8-åˆä½œ"><a href="#7-8-åˆä½œ" class="headerlink" title="7-8 åˆä½œ"></a>7-8 åˆä½œ</h2><p>çœŸæ­£çš„è´Ÿè´£ä¸€ä¸ªéƒ¨åˆ†çš„éœ€æ±‚ï¼Œå¤šä¸ªéœ€æ±‚çš„å¹¶è¡Œå¼€å‘ã€‚ä¸è§†è§‰äº¤äº’äº§å“æ²Ÿé€šä¸šåŠ¡éœ€æ±‚ï¼Œæ”¹è¿›ç”¨æˆ·ä½“éªŒï¼ŒåŒåç«¯å¥¥ç“œè”è°ƒæµ‹è¯•ã€‚åœ¨è¿™ä¸ªé˜¶æ®µæ‰å¼€å§‹çœŸæ­£çš„åƒä¸€ä¸ªå¼€å‘è€…ï¼Œåƒå›¢é˜Ÿçš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ—è§‚è€…ã€‚å¼€å§‹å‘ç°ä¸€äº›å¼€å‘è¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼Œå‘æŒ¥ä¸»è§‚èƒ½åŠ¨æ€§ã€‚</p><h2 id="8-27-ç¦»åˆ«"><a href="#8-27-ç¦»åˆ«" class="headerlink" title="8.27 ç¦»åˆ«"></a>8.27 ç¦»åˆ«</h2><p>éš¾å¾—æ˜¯æ¬¢èšï¼Œå”¯æœ‰åˆ«ç¦»å¤šã€‚</p><p>ç¦»åˆ«æ€»æ˜¯ä¼¤æ„Ÿçš„ï¼Œæˆ‘æ€»æ˜¯ä¸å»æƒ³å®ƒï¼Œä½†çœŸæ­£åˆ°è¾¾çš„é‚£ä¸€åˆ»è¿˜æ˜¯ä¼šéš¾å—ã€‚</p><p>ä¹ æƒ¯çš„åŠ›é‡æ˜¯å¾ˆå¤§çš„ï¼Œæˆ‘ä¹ æƒ¯äº†æ¯å¤©æ—©ä¸Š 8 ç‚¹å¤šåˆ°å…¬å¸ï¼Œæˆ‘ä¹ æƒ¯äº†æ¯å¤©ä¸­åˆåƒå®Œé¥­è·Ÿæ—¶ä¸­å¹ç‰›æ‰“å±ï¼Œæˆ‘ä¹ æƒ¯äº†æ™šä¸Šå›å®¶åæ‰“å¼€ç©ºè°ƒå»æ´—æ¾¡ç„¶åå¼€ç½æ±½æ°´ï¼Œä¹ æƒ¯äº†åƒè¥¿æ–—é—¨è·¯çš„æœ¨æ¡¶é¥­ï¼Œç‰›è‚‰æ±¤ï¼Œå–„å½“å®¶â€¦</p><p>æˆé•¿è·¯ä¸Šæ€»ä¼šç»å†è¿™äº›ï¼Œåªèƒ½æ€€ç€æ„Ÿæ©çš„å¿ƒç»§ç»­å‰è¡Œã€‚</p><p>æ„Ÿè°¢ æˆ‘çš„ mentor æ—¶ä¸­</p><p>æ„Ÿè°¢ è€€è¾‰ï¼Œé£å“¥ï¼Œæ´‹è‘±ï¼Œå´ç”¨ï¼Œå¥¥ç“œï¼Œåç¦¾ç­‰ç­‰å¯¹æˆ‘çš„æ”¯æŒå’Œå¸®åŠ©ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>electronå’Œreactå…³è”å¼€å‘ä½¿ç”¨çš„å°å·¥å…·</title>
    <link href="/2021/04/14/electron%E5%92%8Creact%E5%85%B3%E8%81%94%E5%BC%80%E5%8F%91%E4%BD%BF%E7%94%A8%E7%9A%84%E5%B0%8F%E5%B7%A5%E5%85%B7/"/>
    <url>/2021/04/14/electron%E5%92%8Creact%E5%85%B3%E8%81%94%E5%BC%80%E5%8F%91%E4%BD%BF%E7%94%A8%E7%9A%84%E5%B0%8F%E5%B7%A5%E5%85%B7/</url>
    
    <content type="html"><![CDATA[<h2 id="concurrently"><a href="#concurrently" class="headerlink" title="concurrently"></a>concurrently</h2><p>å½“æ‰§è¡Œå¤šä¸ªå‘½ä»¤æ—¶ä½¿ç”¨ï¼Œè·¨å¹³å°ï¼Œè¾“å‡ºå‹å¥½ã€‚<br>å¦‚ï¼š</p><div class="hljs"><pre><code class="hljs json">"dev": "concurrently \"wait-on http://localhost:3000 &amp;&amp; electron .\" \"cross-env BROWSER=none npm start\"",</code></pre></div><h2 id="wait-on"><a href="#wait-on" class="headerlink" title="wait-on"></a>wait-on</h2><p>ç­‰å¾…æ–‡ä»¶ï¼Œç«¯å£ï¼Œç½‘ç»œèµ„æºå°±ç»ªåæ‰§è¡Œå‘½ä»¤ã€‚<br>å¦‚ï¼š</p><div class="hljs"><pre><code class="hljs json">"dev": "concurrently \"wait-on http://localhost:3000 &amp;&amp; electron .\" \"cross-env BROWSER=none npm start\"",</code></pre></div><p>ç­‰å¾…3000ç«¯å£å†…å®¹å°±ç»ªåæ‰§è¡Œ<code>electron .</code>ã€‚</p><h2 id="cross-env"><a href="#cross-env" class="headerlink" title="cross-env"></a>cross-env</h2><p>è·¨å¹³å°è®¾ç½®ç¯å¢ƒå˜é‡</p><div class="hljs"><pre><code class="hljs json">cross-env BROWSER=none npm start</code></pre></div><p>æ‰§è¡Œåé¢çš„å‘½ä»¤æ—¶ä¸æ‰“å¼€æµè§ˆå™¨</p>]]></content>
    
    
    <categories>
      
      <category>å·¥å…·</category>
      
    </categories>
    
    
    <tags>
      
      <tag>electron</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>requestAnimationFrameæ€è€ƒ</title>
    <link href="/2021/04/08/requestAnimationFrame%E6%80%9D%E8%80%83/"/>
    <url>/2021/04/08/requestAnimationFrame%E6%80%9D%E8%80%83/</url>
    
    <content type="html"><![CDATA[<h2 id="å…³äºsetTimeout"><a href="#å…³äºsetTimeout" class="headerlink" title="å…³äºsetTimeout"></a>å…³äºsetTimeout</h2><p>é¦–å…ˆè¦æ˜ç™½ï¼ŒsetTimeout çš„æ‰§è¡Œåªæ˜¯åœ¨å†…å­˜ä¸­å¯¹å…ƒç´ å±æ€§è¿›è¡Œæ”¹å˜ï¼Œè¿™ä¸ªå˜åŒ–å¿…é¡»è¦ç­‰åˆ°å±å¹•ä¸‹æ¬¡ç»˜åˆ¶æ—¶æ‰ä¼šè¢«æ›´æ–°åˆ°å±å¹•ä¸Šã€‚å¦‚æœä¸¤è€…çš„æ­¥è°ƒä¸ä¸€è‡´ï¼Œå°±å¯èƒ½ä¼šå¯¼è‡´ä¸­é—´æŸä¸€å¸§çš„æ“ä½œè¢«è·¨è¶Šè¿‡å»ï¼Œè€Œç›´æ¥æ›´æ–°ä¸‹ä¸€å¸§çš„å…ƒç´ ã€‚å‡è®¾å±å¹•æ¯éš”16.7msåˆ·æ–°ä¸€æ¬¡ï¼Œè€ŒsetTimeout æ¯éš”10msè®¾ç½®å›¾åƒå‘å·¦ç§»åŠ¨1pxï¼Œ å°±ä¼šå‡ºç°å¦‚ä¸‹ç»˜åˆ¶è¿‡ç¨‹ï¼ˆè¡¨æ ¼ï¼‰ï¼š</p><ul><li>ç¬¬    0  msï¼šå±å¹•æœªç»˜åˆ¶ï¼Œ  ç­‰å¾…ä¸­ï¼ŒsetTimeout ä¹Ÿæœªæ‰§è¡Œï¼Œç­‰å¾…ä¸­ï¼›</li><li>ç¬¬   10 msï¼šå±å¹•æœªç»˜åˆ¶ï¼Œç­‰å¾…ä¸­ï¼ŒsetTimeout å¼€å§‹æ‰§è¡Œå¹¶è®¾ç½®å…ƒç´ å±æ€§ left=1pxï¼›</li><li>ç¬¬ 16.7 msï¼šå±å¹•å¼€å§‹ç»˜åˆ¶ï¼Œå±å¹•ä¸Šçš„å…ƒç´ å‘å·¦ç§»åŠ¨äº† 1pxï¼Œ setTimeout æœªæ‰§è¡Œï¼Œç»§ç»­ç­‰å¾…ä¸­ï¼›</li><li>ç¬¬   20 msï¼šå±å¹•æœªç»˜åˆ¶ï¼Œç­‰å¾…ä¸­ï¼ŒsetTimeout å¼€å§‹æ‰§è¡Œå¹¶è®¾ç½® left=2px;</li><li>ç¬¬   30 msï¼šå±å¹•æœªç»˜åˆ¶ï¼Œç­‰å¾…ä¸­ï¼ŒsetTimeout å¼€å§‹æ‰§è¡Œå¹¶è®¾ç½® left=3px;</li><li>ç¬¬33.4 msï¼šå±å¹•å¼€å§‹ç»˜åˆ¶ï¼Œå±å¹•ä¸Šçš„å…ƒç´ å‘å·¦ç§»åŠ¨äº† 3pxï¼Œ setTimeout æœªæ‰§è¡Œï¼Œç»§ç»­ç­‰å¾…ä¸­ï¼›<br>â€¦</li></ul><p>ä»ä¸Šé¢çš„ç»˜åˆ¶è¿‡ç¨‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œå±å¹•æ²¡æœ‰æ›´æ–° left=2px çš„é‚£ä¸€å¸§ç”»é¢ï¼Œå…ƒç´ ç›´æ¥ä»left=1px çš„ä½ç½®è·³åˆ°äº† left=3px çš„çš„ä½ç½®ï¼Œè¿™å°±æ˜¯ä¸¢å¸§ç°è±¡ï¼Œè¿™ç§ç°è±¡å°±ä¼šå¼•èµ·åŠ¨ç”»å¡é¡¿ã€‚</p><h2 id="å…³äºrequestAnimationFrame"><a href="#å…³äºrequestAnimationFrame" class="headerlink" title="å…³äºrequestAnimationFrame"></a>å…³äºrequestAnimationFrame</h2><p>ä¸ setTimeout ç›¸æ¯”ï¼ŒrAF æœ€å¤§çš„ä¼˜åŠ¿æ˜¯ ç”±ç³»ç»Ÿæ¥å†³å®šå›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶æœºã€‚å…·ä½“ä¸€ç‚¹è®²å°±æ˜¯ï¼Œ<code>ç³»ç»Ÿæ¯æ¬¡ç»˜åˆ¶ä¹‹å‰ä¼šä¸»åŠ¨è°ƒç”¨ rAF ä¸­çš„å›è°ƒå‡½æ•°</code>ï¼Œå¦‚æœç³»ç»Ÿç»˜åˆ¶ç‡æ˜¯ 60Hzï¼Œé‚£ä¹ˆå›è°ƒå‡½æ•°å°±æ¯16.7ms è¢«æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœç»˜åˆ¶é¢‘ç‡æ˜¯75Hzï¼Œé‚£ä¹ˆè¿™ä¸ªé—´éš”æ—¶é—´å°±å˜æˆäº† 1000/75=13.3msã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼ŒrAF çš„æ‰§è¡Œæ­¥ä¼è·Ÿç€ç³»ç»Ÿçš„ç»˜åˆ¶é¢‘ç‡èµ°ã€‚<code>å®ƒèƒ½ä¿è¯å›è°ƒå‡½æ•°åœ¨å±å¹•æ¯ä¸€æ¬¡çš„ç»˜åˆ¶é—´éš”ä¸­åªè¢«æ‰§è¡Œä¸€æ¬¡</code>ï¼Œè¿™æ ·å°±ä¸ä¼šå¼•èµ·ä¸¢å¸§ç°è±¡ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´åŠ¨ç”»å‡ºç°å¡é¡¿çš„é—®é¢˜ã€‚</p><p><strong><em>ä½†æ˜¯rAFå¹¶ä¸èƒ½ä¿è¯æ¯æ¬¡ç»˜åˆ¶éƒ½ä¼šæ‰§è¡Œ,å¦‚æœæœ‰ä¸ªè®¡ç®—ä»»åŠ¡æ‰§è¡Œäº†  20msï¼Œé‚£ä¹ˆå†ä¸€æ¬¡å›è°ƒä¼šåœ¨ 16.7 * 3 msæ—¶æ‰§è¡Œï¼Œè·³è¿‡äº†ä¸€æ¬¡ç»˜åˆ¶ã€‚16.7+20 = 36.7ï¼Œ36.7+16.7 = 53.4ï¼Œ 16.7 * 3 = 50.1, 50.1&lt;53.4</em></strong></p><h2 id="rAFçš„ä¼˜åŠ¿"><a href="#rAFçš„ä¼˜åŠ¿" class="headerlink" title="rAFçš„ä¼˜åŠ¿"></a>rAFçš„ä¼˜åŠ¿</h2><ul><li><p>CPUèŠ‚èƒ½ï¼šä½¿ç”¨ setTimeout å®ç°çš„åŠ¨ç”»ï¼Œå½“é¡µé¢è¢«éšè—æˆ–æœ€å°åŒ–æ—¶ï¼ŒsetTimeout ä»ç„¶åœ¨åå°æ‰§è¡ŒåŠ¨ç”»ä»»åŠ¡ï¼Œç”±äºæ­¤æ—¶é¡µé¢å¤„äºä¸å¯è§æˆ–ä¸å¯ç”¨çŠ¶æ€ï¼Œåˆ·æ–°åŠ¨ç”»æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œè€Œä¸”è¿˜æµªè´¹ CPU èµ„æºã€‚è€Œ rAF åˆ™å®Œå…¨ä¸åŒï¼Œå½“é¡µé¢å¤„ç†æœªæ¿€æ´»çš„çŠ¶æ€ä¸‹ï¼Œè¯¥é¡µé¢çš„å±å¹•ç»˜åˆ¶ä»»åŠ¡ä¹Ÿä¼šè¢«ç³»ç»Ÿæš‚åœï¼Œå› æ­¤è·Ÿç€ç³»ç»Ÿæ­¥ä¼èµ°çš„ rAF ä¹Ÿä¼šåœæ­¢æ¸²æŸ“ï¼Œå½“é¡µé¢è¢«æ¿€æ´»æ—¶ï¼ŒåŠ¨ç”»å°±ä»ä¸Šæ¬¡åœç•™çš„åœ°æ–¹ç»§ç»­æ‰§è¡Œï¼Œæœ‰æ•ˆèŠ‚çœäº† CPU å¼€é”€ã€‚</p></li><li><p>å‡½æ•°èŠ‚æµï¼šåœ¨é«˜é¢‘ç‡äº‹ä»¶(resize,scroll ç­‰)ä¸­ï¼Œä¸ºäº†é˜²æ­¢åœ¨ä¸€ä¸ªåˆ·æ–°é—´éš”å†…å‘ç”Ÿå¤šæ¬¡å‡½æ•°æ‰§è¡Œï¼Œä½¿ç”¨ rAF å¯ä¿è¯æ¯ä¸ªç»˜åˆ¶é—´éš”å†…ï¼Œå‡½æ•°åªè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œè¿™æ ·æ—¢èƒ½ä¿è¯æµç•…æ€§ï¼Œä¹Ÿèƒ½æ›´å¥½çš„èŠ‚çœå‡½æ•°æ‰§è¡Œçš„å¼€é”€ã€‚ä¸€ä¸ªç»˜åˆ¶é—´éš”å†…å‡½æ•°æ‰§è¡Œå¤šæ¬¡æ—¶æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºæ˜¾ç¤ºå™¨æ¯16.7ms ç»˜åˆ¶ä¸€æ¬¡ï¼Œå¤šæ¬¡ç»˜åˆ¶å¹¶ä¸ä¼šåœ¨å±å¹•ä¸Šä½“ç°å‡ºæ¥ã€‚</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>js</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹</title>
    <link href="/2021/04/01/%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/"/>
    <url>/2021/04/01/%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h2><p>â€¢ ç¬¬ä¸€æ¬¡æ¡æ‰‹([SYN], Seq = x)<br>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªSYNæ ‡è®°çš„åŒ…ï¼ŒSeqåˆå§‹åºåˆ—å·xï¼Œå‘é€å®Œæˆåå®¢æˆ·ç«¯è¿›å…¥SYN_SENDçŠ¶æ€ã€‚<br>â€¢ ç¬¬äºŒæ¬¡æ¡æ‰‹([SYN,ACK], Seq = y, ACK = x + 1)<br>æœåŠ¡å™¨è¿”å›ç¡®è®¤åŒ…(ACK)åº”ç­”ï¼ŒåŒæ—¶è¿˜è¦å‘é€ä¸€ä¸ªSYNåŒ…å›å»ã€‚ACK = x + 1,è¡¨ç¤ºç¡®è®¤æ”¶åˆ°(å®¢æˆ·ç«¯å‘æ¥çš„Seqå€¼ + 1)ï¼ŒSeq = y, è¡¨ç¤ºè®©å®¢æˆ·ç«¯ç¡®è®¤æ˜¯å¦èƒ½æ”¶åˆ°ã€‚å‘é€å®ŒæˆåæœåŠ¡ç«¯è¿›å…¥SYN_RCVDçŠ¶æ€ã€‚<br>â€¢ ç¬¬ä¸‰æ¬¡æ¡æ‰‹([ACK], ACK = y + 1)<br>å®¢æˆ·ç«¯å†æ¬¡å‘é€ç¡®è®¤åŒ…(ACK),ACK = y + 1, è¡¨ç¤ºç¡®è®¤æ”¶åˆ°æœåŠ¡å™¨çš„åŒ…ï¼ˆæœåŠ¡ç«¯å‘æ¥çš„Seqå€¼ + 1ï¼‰ã€‚å®¢æˆ·ç«¯å‘é€å®Œæ¯•åï¼Œè¿›å…¥ESTABLISHEDçŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°è¿™ä¸ªåŒ…ï¼Œä¹Ÿè¿›å…¥ESTABLISHEDçŠ¶æ€, TCPæ¡æ‰‹ç»“æŸã€‚</p><h2 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h2><p>â€¢ ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼ˆ[FIN], Seq = xï¼‰<br>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªFINæ ‡è®°çš„åŒ…ï¼Œå‘Šè¯‰æœåŠ¡å™¨éœ€è¦å…³é—­è¿æ¥ï¼Œè¡¨ç¤ºè‡ªå·±ä¸ç”¨å‘é€æ•°æ®äº†ï¼Œä½†æ˜¯è¿˜å¯ä»¥æ¥æ”¶æ•°æ®ã€‚å‘é€å®Œæˆåï¼Œå®¢æˆ·ç«¯è¿›å…¥FIN_WAIT_1çŠ¶æ€ã€‚<br>â€¢ ç¬¬äºŒæ¬¡æŒ¥æ‰‹ ([ACK], ACK = x + 1)<br>æœåŠ¡ç«¯å‘é€ä¸€ä¸ªACKçš„ç¡®è®¤åŒ…ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯æ¥æ”¶åˆ°å…³é—­çš„è¯·æ±‚ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å‡†å¤‡å¥½ã€‚å‘é€å®Œæˆåï¼ŒæœåŠ¡ç«¯è¿›å…¥CLOSE_WAITçŠ¶æ€ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°è¿™ä¸ªåŒ…åï¼Œè¿›å…¥FIN_WAIT_2ï¼Œç­‰å¾…æœåŠ¡å™¨å…³é—­è¿æ¥ã€‚<br>â€¢ ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ ([FIN], Seq = y)<br>æœåŠ¡ç«¯å‡†å¤‡å¥½å…³é—­è¿æ¥æ—¶ï¼Œå‘é€FINæ ‡è®°çš„åŒ…ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯å‡†å¤‡å…³é—­äº†ã€‚å‘é€å®Œæˆåï¼ŒæœåŠ¡ç«¯è¿›å…¥LAST_ACKçŠ¶æ€ï¼Œç­‰å¾…å®¢æˆ·ç«¯ç¡®è®¤ã€‚<br>â€¢ ç¬¬å››æ¬¡æŒ¥æ‰‹ ([ACK], ACK = y + 1)<br>å®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡ç«¯çš„å…³é—­è¯·æ±‚ï¼Œå†å‘é€ACKæ ‡è®°çš„ç¡®è®¤åŒ…ï¼Œè¿›å…¥TIME_WAITçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡ç«¯å¯èƒ½è¯·æ±‚é‡ä¼ çš„ACKåŒ…ã€‚<br>æœåŠ¡ç«¯æ¥æ”¶åˆ°ACKåŒ…åï¼Œå…³é—­è¿æ¥ï¼Œè¿›å…¥CLOSEDçŠ¶æ€ã€‚<br>å®¢æˆ·ç«¯åœ¨ç­‰å¾…å›ºå®šæ—¶é—´(ä¸¤ä¸ªæœ€å¤§æ®µç”Ÿå‘½å‘¨æœŸ)åï¼Œæ²¡æœ‰æ¥æ”¶åˆ°æœåŠ¡çš„ACKåŒ…ï¼Œè®¤ä¸ºæœåŠ¡å™¨å·²å…³é—­è¿æ¥ï¼Œè‡ªå·±ä¹Ÿå…³é—­è¿æ¥ï¼Œè¿›å…¥CLOSEDçŠ¶æ€ã€‚<br>###ã€€ä¸ºä»€ä¹ˆä¸‰æ¬¡æ¡æ‰‹<br>â€œ3æ¬¡æ¡æ‰‹â€çš„ä½œç”¨å°±æ˜¯åŒæ–¹éƒ½èƒ½æ˜ç¡®è‡ªå·±å’Œå¯¹æ–¹çš„æ”¶ã€å‘èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚<br>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘é€ç½‘ç»œåŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„å‘é€èƒ½åŠ›ã€æœåŠ¡ç«¯çš„æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚<br>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡ç«¯å‘åŒ…ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·å®¢æˆ·ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šæœåŠ¡ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›ï¼Œå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ ä»å®¢æˆ·ç«¯çš„è§†è§’æ¥çœ‹ï¼Œæˆ‘æ¥åˆ°äº†æœåŠ¡ç«¯å‘é€è¿‡æ¥çš„å“åº”æ•°æ®åŒ…ï¼Œè¯´æ˜æœåŠ¡ç«¯æ¥æ”¶åˆ°äº†æˆ‘åœ¨ç¬¬ä¸€æ¬¡æ¡æ‰‹æ—¶å‘é€çš„ç½‘ç»œåŒ…ï¼Œå¹¶ä¸”æˆåŠŸå‘é€äº†å“åº”æ•°æ®åŒ…ï¼Œè¿™å°±è¯´æ˜ï¼ŒæœåŠ¡ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ­£å¸¸ã€‚è€Œå¦ä¸€æ–¹é¢ï¼Œæˆ‘æ”¶åˆ°äº†æœåŠ¡ç«¯çš„å“åº”æ•°æ®åŒ…ï¼Œè¯´æ˜æˆ‘ç¬¬ä¸€æ¬¡å‘é€çš„ç½‘ç»œåŒ…æˆåŠŸåˆ°è¾¾æœåŠ¡ç«¯ï¼Œè¿™æ ·ï¼Œæˆ‘è‡ªå·±çš„å‘é€å’Œæ¥æ”¶èƒ½åŠ›ä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚<br>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘åŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›ï¼ŒæœåŠ¡ç«¯çš„å‘é€ã€æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ ç¬¬ä¸€ã€äºŒæ¬¡æ¡æ‰‹åï¼ŒæœåŠ¡ç«¯å¹¶ä¸çŸ¥é“å®¢æˆ·ç«¯çš„æ¥æ”¶èƒ½åŠ›ä»¥åŠè‡ªå·±çš„å‘é€èƒ½åŠ›æ˜¯å¦æ­£å¸¸ã€‚è€Œåœ¨ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ—¶ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†å®¢æˆ·ç«¯å¯¹ç¬¬äºŒæ¬¡æ¡æ‰‹ä½œçš„å›åº”ã€‚ä»æœåŠ¡ç«¯çš„è§’åº¦ï¼Œæˆ‘åœ¨ç¬¬äºŒæ¬¡æ¡æ‰‹æ—¶çš„å“åº”æ•°æ®å‘é€å‡ºå»äº†ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘çš„å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚è€Œå®¢æˆ·ç«¯çš„æ¥æ”¶èƒ½åŠ›ä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚</p><h3 id="ä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œå…³é—­è¿æ¥å´æ˜¯å››æ¬¡æŒ¥æ‰‹å‘¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œå…³é—­è¿æ¥å´æ˜¯å››æ¬¡æŒ¥æ‰‹å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œå…³é—­è¿æ¥å´æ˜¯å››æ¬¡æŒ¥æ‰‹å‘¢ï¼Ÿ"></a>ä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œå…³é—­è¿æ¥å´æ˜¯å››æ¬¡æŒ¥æ‰‹å‘¢ï¼Ÿ</h3><p>è¿™æ˜¯å› ä¸ºæœåŠ¡ç«¯åœ¨LISTENçŠ¶æ€ä¸‹ï¼Œæ”¶åˆ°å»ºç«‹è¿æ¥è¯·æ±‚çš„SYNæŠ¥æ–‡åï¼ŒæŠŠACKå’ŒSYNæ”¾åœ¨ä¸€ä¸ªæŠ¥æ–‡é‡Œå‘é€ç»™å®¢æˆ·ç«¯ã€‚è€Œå…³é—­è¿æ¥æ—¶ï¼Œå½“æ”¶åˆ°å¯¹æ–¹çš„FINæŠ¥æ–‡æ—¶ï¼Œä»…ä»…è¡¨ç¤ºå¯¹æ–¹ä¸å†å‘é€æ•°æ®äº†ä½†æ˜¯è¿˜èƒ½æ¥æ”¶æ•°æ®ï¼Œå·±æ–¹æ˜¯å¦ç°åœ¨å…³é—­å‘é€æ•°æ®é€šé“ï¼Œéœ€è¦ä¸Šå±‚åº”ç”¨æ¥å†³å®šï¼Œå› æ­¤ï¼Œå·±æ–¹ACKå’ŒFINä¸€èˆ¬éƒ½ä¼šåˆ†å¼€å‘é€ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>ç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vueåœ¨styleä¸­ä½¿ç”¨è®Šé‡</title>
    <link href="/2020/12/31/vue%E5%9C%A8style%E4%B8%AD%E4%BD%BF%E7%94%A8%E8%AE%8A%E9%87%8F/"/>
    <url>/2020/12/31/vue%E5%9C%A8style%E4%B8%AD%E4%BD%BF%E7%94%A8%E8%AE%8A%E9%87%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="åœ¨styleä¸­ä½¿ç”¨jså˜é‡"><a href="#åœ¨styleä¸­ä½¿ç”¨jså˜é‡" class="headerlink" title="åœ¨styleä¸­ä½¿ç”¨jså˜é‡"></a>åœ¨styleä¸­ä½¿ç”¨jså˜é‡</h2><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"styleVar"</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span>  props: &#123;    height: &#123;<span class="javascript">      type: <span class="hljs-built_in">Number</span>,</span><span class="actionscript">      <span class="hljs-keyword">default</span>: <span class="hljs-number">54</span>,</span>    &#125;,  &#125;,  computed: &#123;    styleVar() &#123;<span class="actionscript">      <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">        <span class="hljs-string">'--box-height'</span>: <span class="hljs-keyword">this</span>.height + <span class="hljs-string">'px'</span></span>      &#125;    &#125;  &#125;,&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css"><span class="hljs-selector-class">.box</span> &#123;</span>  height: var(--box-height);&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre></div><p>å°†å˜é‡åœ¨è¡Œå†…æ³¨å…¥ï¼Œåœ¨styleä¸­ä½¿ç”¨varè·å–jså˜é‡ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è¿›é˜¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>betterscrollçš„refreshé—®é¢˜</title>
    <link href="/2020/11/30/betterscroll%E7%9A%84refresh%E9%97%AE%E9%A2%98/"/>
    <url>/2020/11/30/betterscroll%E7%9A%84refresh%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h2 id="betterscroll-åœ¨æ•°æ®æ›´æ–°æ—¶é—®é¢˜"><a href="#betterscroll-åœ¨æ•°æ®æ›´æ–°æ—¶é—®é¢˜" class="headerlink" title="betterscroll åœ¨æ•°æ®æ›´æ–°æ—¶é—®é¢˜"></a>betterscroll åœ¨æ•°æ®æ›´æ–°æ—¶é—®é¢˜</h2><p>ç”±äº <code>betterscrollçš„å®ä¾‹åŒ–è¦å…ˆäºæˆ‘åŠ¨æ€è®¾ç½®wrapperçš„é«˜åº¦</code><br>å¯¼è‡´betterscrollå¼€å§‹è®¡ç®—æ—¶çš„å†…é«˜å’Œå¤–å®¹å™¨é«˜åº¦ä¸€è‡´ï¼Œ<code>hasVerticalScroll</code> çš„å€¼ä¸º <code>false</code>  ã€‚éœ€è¦åœ¨é¡µé¢æ›´æ–°årefreshä¸€ä¸‹ã€‚æœ€åé€šè¿‡åœ¨ update é’©å­å‡½æ•°ä¸­å¢åŠ  betterScroll çš„refresh æ–¹æ³•ï¼ŒæˆåŠŸå®ç°æ»šåŠ¨æ•ˆæœã€‚<br>update å‡½æ•°å®˜ç½‘æ˜¯è¿™æ ·è¯´çš„:</p><blockquote><p>ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚å½“è¿™ä¸ªé’©å­è¢«è°ƒç”¨æ—¶ï¼Œç»„ä»¶ DOM å·²ç»æ›´æ–°ï¼Œæ‰€ä»¥ä½ ç°åœ¨å¯ä»¥æ‰§è¡Œä¾èµ–äº DOM çš„æ“ä½œã€‚ç„¶è€Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥é¿å…åœ¨æ­¤æœŸé—´æ›´æ”¹çŠ¶æ€ã€‚å¦‚æœè¦ç›¸åº”çŠ¶æ€æ”¹å˜ï¼Œé€šå¸¸æœ€å¥½ä½¿ç”¨è®¡ç®—å±æ€§æˆ– watcher å–è€Œä»£ä¹‹ã€‚</p></blockquote><p>å¼‚æ­¥è·å–æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸Šæ—¶ï¼Œè°ƒç”¨è¯¥é’©å­æ¥é‡æ–°è®¡ç®— bs å®ä¾‹ï¼Œå¦‚æœä¸åœ¨update é’©å­é‡Œè°ƒç”¨ refresh æ–¹æ³•ï¼ŒhasVerticalScroll çš„å€¼æ˜¯falseã€‚å¯¼è‡´:æœ€åçš„é«˜åº¦<code>çœ‹ä¼¼</code>è®¡ç®—æ­£ç¡®ï¼Œå°±æ˜¯ä¸èƒ½æ»‘åŠ¨ã€‚å…¶å®æ˜¯å› ä¸º æˆ‘æ˜¯åŠ¨æ€è®¾ç½®çš„wrapperçš„é«˜åº¦ï¼Œå› ä¸ºä¸æ˜¯ç»å¯¹å®šä½ï¼Œéœ€è¦å…ˆè·å¾—æ ‡é¢˜æ é«˜åº¦ï¼Œæ‰èƒ½ç®—å‡º <code>scrollwrapper</code> çš„é«˜åº¦ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>better-scrollç»“åˆvueé‡åˆ°å›¾ç‰‡å¼•èµ·çš„é—®é¢˜</title>
    <link href="/2020/11/30/better-scroll%E7%BB%93%E5%90%88vue%E9%81%87%E5%88%B0%E5%9B%BE%E7%89%87%E5%BC%95%E8%B5%B7%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/2020/11/30/better-scroll%E7%BB%93%E5%90%88vue%E9%81%87%E5%88%B0%E5%9B%BE%E7%89%87%E5%BC%95%E8%B5%B7%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h2 id="ä½¿ç”¨better-scrollé‡åˆ°çš„é—®é¢˜"><a href="#ä½¿ç”¨better-scrollé‡åˆ°çš„é—®é¢˜" class="headerlink" title="ä½¿ç”¨better-scrollé‡åˆ°çš„é—®é¢˜"></a>ä½¿ç”¨better-scrollé‡åˆ°çš„é—®é¢˜</h2><p>åŸæ¥é¡¹ç›®ä¸­åªä½¿ç”¨äº†better-scrollæ¥åšè½®æ’­å›¾å’Œæ»‘åŠ¨ç»„ä»¶ï¼Œä½†æ˜¯å¤´éƒ¨å’Œæ ‡ç­¾æ æ˜¯å›ºå®šçš„ï¼Œåªæ»‘åŠ¨ä¸‹é¢éƒ¨åˆ†ï¼Œäºæ˜¯è®¾ç½® scroll-warpperæ ·å¼å¦‚ä¸‹ï¼š</p><div class="hljs"><pre><code class="hljs css"><span class="hljs-selector-class">.scroll-wrapper</span> &#123;  <span class="hljs-attribute">position</span>: absolute;  <span class="hljs-attribute">top</span>: <span class="hljs-number">80px</span>;  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;&#125;</code></pre></div><p>ä½†æ˜¯æƒ³è¦å®ç°ä¸‹éƒ¨ç»„ä»¶ä¸ä¸Šéƒ¨æ ‡ç­¾çš„è”åŠ¨ï¼Œä»…ä»…é better-scrollå°±ä¸å¤Ÿäº†ï¼Œäºæ˜¯é¡¹ç›®ä¸­æŒ‰éœ€å¼•å…¥äº†vantçš„çš„æ ‡ç­¾ç»„ä»¶ï¼Œæ¥å®ç°ç§»åŠ¨ç«¯çš„å·¦å³æ»‘åŠ¨ï¼ˆä¸å¾—ä¸è¯´ï¼Œå°è£…å¥½çš„ä¸œè¥¿å°±æ˜¯é¦™ï¼‰ã€‚ç´§æ¥ç€å°±äº§ç”Ÿäº†é—®é¢˜ï¼Œ</p><ul><li>ä¸€æ˜¯ï¼šä¸‹éƒ¨ç»„ä»¶æ— æ³•æ»‘åŠ¨ï¼Œ</li><li>äºŒæ˜¯ï¼šbetter-scrollæ»‘ä¸åˆ°åº•éƒ¨ï¼Œåªèƒ½æ»‘ä¸€éƒ¨åˆ†ã€‚åˆ·æ–°é¡µé¢åå¯ä»¥æ»‘åŠ¨äº†</li></ul><p>åˆ†æé—®é¢˜ï¼š</p><ul><li>æŸ¥çœ‹domå‘ç°vantçš„content__wrapæ²¡æœ‰é«˜åº¦ï¼Œè€Œscroll-warpperå’Œå†…å®¹é«˜åº¦ä¸€è‡´ã€‚è¿™æ˜¯ç”±äºcontent__wrapçš„å®šä½æ˜¯relativeï¼Œè€Œscroll-wrapperæ˜¯ç›¸å¯¹äºcontent__wrapè€Œå®šä½çš„ï¼Œå¹¶ä¸æ˜¯ç›¸å¯¹æ•´ä¸ªé¡µé¢å®šä½ï¼Œæ‰€æœ‰å†…å®¹æ˜¯è¢«é‡Œé¢æ’‘å¼€çš„ã€‚</li><li>é¡µé¢ä¸­æœ‰å¤§é‡å›¾ç‰‡ï¼Œå½“domåŠ è½½å®Œæˆåå›¾ç‰‡å¹¶æ²¡æœ‰åŠ è½½å®Œæˆï¼Œscrollå·²ç»åˆå§‹åŒ–äº†ï¼Œæ‰€ä»¥æ»‘ä¸åˆ°åº•éƒ¨ã€‚åˆ·æ–°é¡µé¢å¯ä»¥æ»‘åŠ¨æ˜¯å› ä¸ºå›¾ç‰‡å·²ç»è¢«æµè§ˆå™¨ç¼“å­˜äº†ï¼Œåˆ·æ–°ç›´æ¥æ‹¿åˆ°å›¾ç‰‡ä¸éœ€è¦é‡æ–°è¯·æ±‚ã€‚</li></ul><p>è§£å†³é—®é¢˜ï¼š</p><ul><li>ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å®šä½çš„åŸå› ï¼Œé‚£æˆ‘ä»¬æŠŠwrapperçš„é«˜åº¦å†™æ­»å°±å¥½äº†ï¼Œ<br>ä½†æ˜¯ç”±äºå¤´éƒ¨å’Œæ ‡ç­¾æ˜¯è‡ªé€‚åº”çš„ï¼Œé«˜åº¦æ˜¯ä¸ç¡®å®šçš„ï¼Œå°±æ²¡æ³•å†™æ­»äº†ã€‚ä½¿ç”¨åŠ¨æ€è·å–è®¾ç½®wrapperçš„styleï¼š<div class="hljs"><pre><code class="hljs js">setScrollWrapperHeight() &#123;      <span class="hljs-keyword">this</span>.$refs.scroll.$el.style.height =        <span class="hljs-built_in">window</span>.innerHeight - <span class="hljs-keyword">this</span>.topHeight + <span class="hljs-string">'px'</span>    &#125;,</code></pre></div><ul><li>ç”±äºå¤šä¸ªé¡µé¢éƒ½éœ€è¦è¿™ä¸ªé…ç½®ï¼Œæ”¾åˆ°mixinä¸­ï¼Œåœ¨mountedæ–¹æ³•ä¸­è°ƒç”¨æ­¤æ–¹æ³•ã€‚<br>è§£å†³wrapperé«˜åº¦é—®é¢˜ã€‚</li><li>ç¬¬äºŒä¸ªé—®é¢˜æ˜¯å›¾ç‰‡åŠ è½½æ—¶contentçš„é«˜åº¦è®¾ç½®é”™è¯¯é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡imgçš„loadæ–¹æ³•åˆ¤æ–­å›¾ç‰‡æ˜¯å¦åŠ è½½å®Œæˆã€‚<br>å­ç»„ä»¶ï¼š<div class="hljs"><pre><code class="hljs js">imgAllLoad() &#123;      <span class="hljs-keyword">const</span> mulitImg = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.suggest-item-img'</span>)      <span class="hljs-keyword">const</span> promiseAll = []      <span class="hljs-keyword">const</span> imgTotal = mulitImg.length      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; imgTotal; i++) &#123;        promiseAll[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;          mulitImg[i].onload = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;            <span class="hljs-comment">// ç¬¬iå¼ åŠ è½½å®Œæˆ</span>            resolve(mulitImg[i])          &#125;        &#125;)      &#125;      <span class="hljs-keyword">return</span> promiseAll    &#125;,</code></pre></div>åœ¨å­ç»„ä»¶mountedä¸­ï¼šæ´¾å‘ä¸€ä¸ªimgLoadæ–¹æ³•<div class="hljs"><pre><code class="hljs js"><span class="hljs-built_in">Promise</span>.all(<span class="hljs-keyword">this</span>.imgAllLoad()).then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;      <span class="hljs-keyword">this</span>.$emit(<span class="hljs-string">'imgLoad'</span>)    &#125;)</code></pre></div>åœ¨çˆ¶ç»„ä»¶ç›‘å¬æ­¤æ–¹æ³•ï¼Œå¹¶åˆ·æ–°scrollç»„ä»¶<div class="hljs"><pre><code class="hljs js">methods: &#123;    imgLoad() &#123;      <span class="hljs-keyword">this</span>.$refs.scroll.refresh()    &#125;  &#125;,</code></pre></div>è¿™æ ·ä½“éªŒå°±ä¸é”™äº†ã€‚</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>v-showå’Œv-ifçš„æ€è€ƒ</title>
    <link href="/2020/11/29/v-show%E5%92%8Cv-if%E7%9A%84%E6%80%9D%E8%80%83/"/>
    <url>/2020/11/29/v-show%E5%92%8Cv-if%E7%9A%84%E6%80%9D%E8%80%83/</url>
    
    <content type="html"><![CDATA[<h2 id="v-showå’Œv-if"><a href="#v-showå’Œv-if" class="headerlink" title="v-showå’Œv-if"></a>v-showå’Œv-if</h2><p>ä»Šå¤©åœ¨å†™ä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ã€‚ä½¿ç”¨äº†better-scrollæ¥åšé¡µé¢æ»šåŠ¨ï¼Œé¦–é¡µè¿›å…¥åå¯ä»¥æ»šåŠ¨ï¼Œä½†æ˜¯ç‚¹å‡»æœç´¢æ¡†åå‡ºç°æœç´¢è®°å½•å´æ— æ³•æ»šåŠ¨ã€‚æŸ¥çœ‹scrollçš„æ‰“å°å‘ç° <code>hasVerticalScroll: false</code>ï¼Œå¹¶ä¸”scrollerHeightå’ŒclientHeightéƒ½æ˜¯0ï¼Œé‚£å°±æ˜¯éƒ½æ²¡æœ‰è·å¾—é«˜åº¦ã€‚æœ€åæŠŠv-showæ”¹æˆv-ifå°±å¯ä»¥äº†ã€‚</p><ul><li>é—®é¢˜å‡ºç°åŸå› ï¼š<br>ä¼—æ‰€å‘¨çŸ¥ï¼Œv-showæ¸²æŸ“äº†domï¼Œåªæ˜¯æŠŠdomçš„styleè®¾ç½®ä¸ºï¼šdisplay:none ï¼Œè€Œä½¿ç”¨äº† display:none çš„å…ƒç´ ä½¿ç”¨jsæ˜¯æ— æ³•è·å¾—ä¸€äº›å±æ€§çš„å€¼çš„,ä½ å¯ä»¥é€šè¿‡  <code>console.dir(dom)</code> è·å¾—domçš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°ï¼š</li><li>clientHeight: 0</li><li>clientLeft: 0</li><li>clientTop: 0</li><li>clientWidth: 0ï¼Œ</li><li>offsetHeight: 0</li><li>offsetLeft: 0</li><li>offsetTop: 0</li><li>offsetWidth: 0ï¼Œ</li><li>scrollHeight: 0</li><li>scrollLeft: 0</li><li>scrollTop: 0</li><li>scrollWidth: 0</li></ul><p>è€Œ v-if æ˜¯ä¼šåœ¨æ¡ä»¶æ»¡è¶³æ—¶è¿›è¡Œæ¸²æŸ“çš„ï¼Œæ‰€ä»¥èƒ½å¤Ÿç›´æ¥è·å¾— dom å±æ€§å€¼ï¼Œå¯ä»¥è®¡ç®— wrapper å’Œ content çš„é«˜åº¦ï¼Œ å½“ <code>wrapperHeight &lt; contentHeight</code> æ—¶ï¼Œå°±å¯ä»¥æ»šåŠ¨äº†ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>jsè¯­æ³•ç»†èŠ‚</title>
    <link href="/2020/11/21/js%E8%AF%AD%E6%B3%95%E7%BB%86%E8%8A%82/"/>
    <url>/2020/11/21/js%E8%AF%AD%E6%B3%95%E7%BB%86%E8%8A%82/</url>
    
    <content type="html"><![CDATA[<h2 id="ç®­å¤´å‡½æ•°ä¸­çš„this"><a href="#ç®­å¤´å‡½æ•°ä¸­çš„this" class="headerlink" title="ç®­å¤´å‡½æ•°ä¸­çš„this"></a>ç®­å¤´å‡½æ•°ä¸­çš„this</h2><p>å®ƒä»¬æ²¡æœ‰ thisã€‚åœ¨ç®­å¤´å‡½æ•°å†…éƒ¨è®¿é—®åˆ°çš„ this éƒ½æ˜¯ä»å¤–éƒ¨è·å–çš„ã€‚</p><h2 id="å¯é€‰é“¾"><a href="#å¯é€‰é“¾" class="headerlink" title="å¯é€‰é“¾"></a>å¯é€‰é“¾</h2><ul><li>é€šå¸¸æˆ‘ä»¬è¿™æ ·å†™<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">let</span> user = &#123;&#125;; <span class="hljs-comment">// user æ²¡æœ‰ address</span>alert( user &amp;&amp; user.address &amp;&amp; user.address.street ); <span class="hljs-comment">// undefinedï¼ˆä¸æŠ¥é”™ï¼‰</span></code></pre></div>ä¾æ¬¡å¯¹æ•´æ¡è·¯å¾„ä¸Šçš„å±æ€§ä½¿ç”¨ä¸è¿ç®—è¿›è¡Œåˆ¤æ–­ï¼Œä»¥ç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹æ˜¯å­˜åœ¨çš„ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åœæ­¢è®¡ç®—ï¼‰ï¼Œä½†æ˜¯å†™èµ·æ¥å¾ˆéº»çƒ¦ã€‚</li><li>é€šè¿‡å¯é€‰é“¾å¯ä»¥è¿™æ ·<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">let</span> user = <span class="hljs-literal">null</span>;alert( user?.address ); <span class="hljs-comment">// undefined</span>alert( user?.address.street ); <span class="hljs-comment">// undefined</span></code></pre></div><blockquote><p>ä¸è¦è¿‡åº¦ä½¿ç”¨å¯é€‰é“¾</p></blockquote></li></ul><blockquote><p>æˆ‘ä»¬åº”è¯¥åªå°† ?. ä½¿ç”¨åœ¨ä¸€äº›ä¸œè¥¿å¯ä»¥ä¸å­˜åœ¨çš„åœ°æ–¹ã€‚<br>ä¾‹å¦‚ï¼Œå¦‚æœæ ¹æ®æˆ‘ä»¬çš„ä»£ç é€»è¾‘ï¼Œuser å¯¹è±¡å¿…é¡»å­˜åœ¨ï¼Œä½† address æ˜¯å¯é€‰çš„ï¼Œé‚£ä¹ˆ user.address?.street ä¼šæ›´å¥½ã€‚<br>æ‰€ä»¥ï¼Œå¦‚æœ user æ°å·§å› ä¸ºå¤±è¯¯å˜ä¸º undefinedï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€ä¸ªç¼–ç¨‹é”™è¯¯å¹¶ä¿®å¤å®ƒã€‚å¦åˆ™ï¼Œä»£ç ä¸­çš„é”™è¯¯åœ¨ä¸æ°å½“çš„åœ°æ–¹è¢«æ¶ˆé™¤äº†ï¼Œè¿™ä¼šå¯¼è‡´è°ƒè¯•æ›´åŠ å›°éš¾ã€‚</p></blockquote><div class="hljs"><pre><code class="hljs ?.()```æ£€æŸ¥å·¦è¾¹æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨å°±æ‰§è¡Œ,å¦åˆ™è¿ç®—åœæ­¢ï¼Œä¸æŠ¥é”™ã€‚">### æ€»ç»“å¯é€‰é“¾ ?. è¯­æ³•æœ‰ä¸‰ç§å½¢å¼ï¼š- obj?.prop â€”â€” å¦‚æœ obj å­˜åœ¨åˆ™è¿”å› obj.propï¼Œå¦åˆ™è¿”å› undefinedã€‚- obj?.[prop] â€”â€” å¦‚æœ obj å­˜åœ¨åˆ™è¿”å› obj[prop]ï¼Œå¦åˆ™è¿”å› undefinedã€‚- obj.method?.() â€”â€” å¦‚æœ obj.method å­˜åœ¨åˆ™è°ƒç”¨ obj.method()ï¼Œå¦åˆ™è¿”å› undefinedã€‚&gt;æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œè¿™äº›è¯­æ³•å½¢å¼ç”¨èµ·æ¥éƒ½å¾ˆç®€å•ç›´æ¥ã€‚?. æ£€æŸ¥å·¦è¾¹éƒ¨åˆ†æ˜¯å¦ä¸º null&#x2F;undefinedï¼Œå¦‚æœä¸æ˜¯åˆ™ç»§ç»­è¿ç®—ã€‚?. é“¾ä½¿æˆ‘ä»¬èƒ½å¤Ÿå®‰å…¨åœ°è®¿é—®åµŒå¥—å±æ€§ã€‚&gt;ä½†æ˜¯ï¼Œæˆ‘ä»¬åº”è¯¥è°¨æ…åœ°ä½¿ç”¨ ?.ï¼Œä»…åœ¨å½“å·¦è¾¹éƒ¨åˆ†ä¸å­˜åœ¨ä¹Ÿæ²¡é—®é¢˜çš„æƒ…å†µä¸‹ä½¿ç”¨ä¸ºå®œã€‚ä»¥ä¿è¯åœ¨ä»£ç ä¸­æœ‰ç¼–ç¨‹ä¸Šçš„é”™è¯¯å‡ºç°æ—¶ï¼Œä¹Ÿä¸ä¼šå¯¹æˆ‘ä»¬éšè—ã€‚## Symbolå¦‚æœæˆ‘ä»¬è¦åœ¨å¯¹è±¡å­—é¢é‡ &#123;...&#125; ä¸­ä½¿ç”¨ Symbolï¼Œåˆ™éœ€è¦ä½¿ç”¨æ–¹æ‹¬å·æŠŠå®ƒæ‹¬èµ·æ¥ã€‚å°±åƒè¿™æ ·ï¼š&#96;&#96;&#96;jslet id &#x3D; Symbol(&quot;id&quot;);let user &#x3D; &#123;  name: &quot;John&quot;,  [id]: 123 &#x2F;&#x2F; è€Œä¸æ˜¯ &quot;id&quot;ï¼š123&#125;;</code></pre></div><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦å˜é‡ id çš„å€¼ä½œä¸ºé”®ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸² â€œidâ€ã€‚</p><blockquote><p>Symbol å±æ€§ä¸å‚ä¸ for..in å¾ªç¯ã€‚</p></blockquote><blockquote><p>Object.assign ä¼šåŒæ—¶å¤åˆ¶å­—ç¬¦ä¸²å’Œ symbol å±æ€§</p></blockquote><blockquote><p>å‚è€ƒï¼š<a href="https://zh.javascript.info/symbol#dui-xiang-zi-mian-liang-zhong-de-symbol" target="_blank" rel="noopener">symbol</a></p></blockquote><h2 id="å¯¹è±¡åŸå§‹å€¼çš„è½¬æ¢"><a href="#å¯¹è±¡åŸå§‹å€¼çš„è½¬æ¢" class="headerlink" title="å¯¹è±¡åŸå§‹å€¼çš„è½¬æ¢"></a>å¯¹è±¡åŸå§‹å€¼çš„è½¬æ¢</h2><p>å¦‚æœæ²¡æœ‰ Symbol.toPrimitiveï¼Œé‚£ä¹ˆ JavaScript å°†å°è¯•æ‰¾åˆ°å®ƒä»¬ï¼Œå¹¶ä¸”æŒ‰ç…§ä¸‹é¢çš„é¡ºåºè¿›è¡Œå°è¯•ï¼š</p><ul><li>å¯¹äº â€œstringâ€ hintï¼ŒtoString -&gt; valueOfã€‚</li><li>å…¶ä»–æƒ…å†µï¼ŒvalueOf -&gt; toStringã€‚</li></ul><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ™®é€šå¯¹è±¡å…·æœ‰ toString å’Œ valueOf æ–¹æ³•ï¼š</p><ul><li>toString æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸² â€œ[object Object]â€ã€‚</li><li>valueOf æ–¹æ³•è¿”å›å¯¹è±¡è‡ªèº«ã€‚</li><li>å¦‚æœæ²¡æœ‰ Symbol.toPrimitive å’Œ valueOfï¼ŒtoString å°†å¤„ç†æ‰€æœ‰åŸå§‹è½¬æ¢ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å¯¹è±¡åˆ°åŸå§‹å€¼çš„è½¬æ¢ï¼Œæ˜¯ç”±è®¸å¤šæœŸæœ›ä»¥åŸå§‹å€¼ä½œä¸ºå€¼çš„å†…å»ºå‡½æ•°å’Œè¿ç®—ç¬¦è‡ªåŠ¨è°ƒç”¨çš„ã€‚</p><p>è¿™é‡Œæœ‰ä¸‰ç§ç±»å‹ï¼ˆhintï¼‰ï¼š</p><ul><li>â€œstringâ€ï¼ˆå¯¹äº alert å’Œå…¶ä»–éœ€è¦å­—ç¬¦ä¸²çš„æ“ä½œï¼‰</li><li>â€œnumberâ€ï¼ˆå¯¹äºæ•°å­¦è¿ç®—ï¼‰</li><li>â€œdefaultâ€ï¼ˆå°‘æ•°è¿ç®—ç¬¦ï¼‰<br>è§„èŒƒæ˜ç¡®æè¿°äº†å“ªä¸ªè¿ç®—ç¬¦ä½¿ç”¨å“ªä¸ª hintã€‚å¾ˆå°‘æœ‰è¿ç®—ç¬¦â€œä¸çŸ¥é“æœŸæœ›ä»€ä¹ˆâ€å¹¶ä½¿ç”¨ â€œdefaultâ€ hintã€‚é€šå¸¸å¯¹äºå†…å»ºå¯¹è±¡ï¼Œâ€defaultâ€ hint çš„å¤„ç†æ–¹å¼ä¸ â€œnumberâ€ ç›¸åŒï¼Œå› æ­¤åœ¨å®è·µä¸­ï¼Œæœ€åä¸¤ä¸ª hint å¸¸å¸¸åˆå¹¶åœ¨ä¸€èµ·ã€‚</li></ul><p>è½¬æ¢ç®—æ³•æ˜¯ï¼š</p><p>1.è°ƒç”¨ obj<a href="hint">Symbol.toPrimitive</a> å¦‚æœè¿™ä¸ªæ–¹æ³•å­˜åœ¨ï¼Œ</p><p>2.å¦åˆ™ï¼Œå¦‚æœ hint æ˜¯ â€œstringâ€</p><ul><li>å°è¯• obj.toString() å’Œ obj.valueOf()ï¼Œæ— è®ºå“ªä¸ªå­˜åœ¨ã€‚</li></ul><p>3.å¦åˆ™ï¼Œå¦‚æœ hint æ˜¯ â€œnumberâ€ æˆ–è€… â€œdefaultâ€</p><ul><li>å°è¯• obj.valueOf() å’Œ obj.toString()ï¼Œæ— è®ºå“ªä¸ªå­˜åœ¨ã€‚<br>åœ¨å®è·µä¸­ï¼Œä¸ºäº†ä¾¿äºè¿›è¡Œæ—¥å¿—è®°å½•æˆ–è°ƒè¯•ï¼Œå¯¹äºæ‰€æœ‰èƒ½å¤Ÿè¿”å›ä¸€ç§â€œå¯è¯»æ€§å¥½â€çš„å¯¹è±¡çš„è¡¨è¾¾å½¢å¼çš„è½¬æ¢ï¼Œåªå®ç°ä»¥ obj.toString() ä½œä¸ºå…¨èƒ½è½¬æ¢çš„æ–¹æ³•å°±å¤Ÿäº†ã€‚</li></ul><blockquote><p>å‚è€ƒ <a href="https://zh.javascript.info/object-toprimitive#symboltoprimitive" target="_blank" rel="noopener">Symbol.toPrimitive</a></p></blockquote><h2 id="å…³äºæ•°ç»„çš„length"><a href="#å…³äºæ•°ç»„çš„length" class="headerlink" title="å…³äºæ•°ç»„çš„length"></a>å…³äºæ•°ç»„çš„length</h2><p>å½“æˆ‘ä»¬ä¿®æ”¹æ•°ç»„çš„æ—¶å€™ï¼Œlength å±æ€§ä¼šè‡ªåŠ¨æ›´æ–°ã€‚å‡†ç¡®æ¥è¯´ï¼Œå®ƒå®é™…ä¸Šä¸æ˜¯æ•°ç»„é‡Œå…ƒç´ çš„ä¸ªæ•°ï¼Œè€Œæ˜¯æœ€å¤§çš„æ•°å­—ç´¢å¼•å€¼åŠ ä¸€ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸€ä¸ªæ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯è¿™ä¸ªå…ƒç´ çš„ç´¢å¼•å€¼å¾ˆå¤§ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„çš„ length ä¹Ÿä¼šå¾ˆå¤§ï¼š</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">let</span> fruits = [];fruits[<span class="hljs-number">123</span>] = <span class="hljs-string">"Apple"</span>;alert( fruits.length ); <span class="hljs-comment">// 124</span></code></pre></div><p>è¦çŸ¥é“çš„æ˜¯æˆ‘ä»¬é€šå¸¸ä¸ä¼šè¿™æ ·ä½¿ç”¨æ•°ç»„ã€‚</p><p>length å±æ€§çš„å¦ä¸€ä¸ªæœ‰æ„æ€çš„ç‚¹æ˜¯å®ƒæ˜¯å¯å†™çš„ã€‚</p><p>å¦‚æœæˆ‘ä»¬æ‰‹åŠ¨å¢åŠ å®ƒï¼Œåˆ™ä¸ä¼šå‘ç”Ÿä»»ä½•æœ‰è¶£çš„äº‹å„¿ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬å‡å°‘å®ƒï¼Œæ•°ç»„å°±ä¼šè¢«æˆªæ–­ã€‚è¯¥è¿‡ç¨‹æ˜¯ä¸å¯é€†çš„ï¼Œä¸‹é¢æ˜¯ä¾‹å­ï¼š</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];arr.length = <span class="hljs-number">2</span>; <span class="hljs-comment">// æˆªæ–­åˆ°åªå‰© 2 ä¸ªå…ƒç´ </span>alert( arr ); <span class="hljs-comment">// [1, 2]</span>arr.length = <span class="hljs-number">5</span>; <span class="hljs-comment">// åˆæŠŠ length åŠ å›æ¥</span>alert( arr[<span class="hljs-number">3</span>] ); <span class="hljs-comment">// undefinedï¼šè¢«æˆªæ–­çš„é‚£äº›æ•°å€¼å¹¶æ²¡æœ‰å›æ¥</span></code></pre></div><blockquote><p>æ‰€ä»¥ï¼Œæ¸…ç©ºæ•°ç»„æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ï¼šarr.length = 0;</p></blockquote><h2 id="å…³äºJSONçš„è½¬æ¢"><a href="#å…³äºJSONçš„è½¬æ¢" class="headerlink" title="å…³äºJSONçš„è½¬æ¢"></a>å…³äºJSONçš„è½¬æ¢</h2><p>JSON æ˜¯è¯­è¨€æ— å…³çš„çº¯æ•°æ®è§„èŒƒï¼Œå› æ­¤ä¸€äº›ç‰¹å®šäº JavaScript çš„å¯¹è±¡å±æ€§ä¼šè¢« JSON.stringify è·³è¿‡ã€‚</p><p>å³ï¼š</p><ul><li>å‡½æ•°å±æ€§ï¼ˆæ–¹æ³•ï¼‰ã€‚</li><li>Symbol ç±»å‹çš„å±æ€§ã€‚</li><li>å­˜å‚¨ undefined çš„å±æ€§ã€‚</li></ul><h2 id="jsä¸­å‡½æ•°å°±æ˜¯å¯¹è±¡"><a href="#jsä¸­å‡½æ•°å°±æ˜¯å¯¹è±¡" class="headerlink" title="jsä¸­å‡½æ•°å°±æ˜¯å¯¹è±¡"></a>jsä¸­å‡½æ•°å°±æ˜¯å¯¹è±¡</h2><blockquote><p>è¢«èµ‹å€¼ç»™å‡½æ•°çš„å±æ€§ï¼Œæ¯”å¦‚ sayHi.counter = 0ï¼Œä¸ä¼š åœ¨å‡½æ•°å†…å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡ counterã€‚æ¢å¥è¯è¯´ï¼Œå±æ€§ counter å’Œå˜é‡ let counter æ˜¯æ¯«ä¸ç›¸å…³çš„ä¸¤ä¸ªä¸œè¥¿ã€‚</p></blockquote><blockquote><p>æˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°å½“ä½œå¯¹è±¡ï¼Œåœ¨å®ƒé‡Œé¢å­˜å‚¨å±æ€§ï¼Œä½†æ˜¯è¿™å¯¹å®ƒçš„æ‰§è¡Œæ²¡æœ‰ä»»ä½•å½±å“ã€‚å˜é‡ä¸æ˜¯å‡½æ•°å±æ€§ï¼Œåä¹‹äº¦ç„¶ã€‚å®ƒä»¬ä¹‹é—´æ˜¯å¹³è¡Œçš„ã€‚</p></blockquote><h2 id="å…³äºthiså’Œç®­å¤´å‡½æ•°"><a href="#å…³äºthiså’Œç®­å¤´å‡½æ•°" class="headerlink" title="å…³äºthiså’Œç®­å¤´å‡½æ•°"></a>å…³äºthiså’Œç®­å¤´å‡½æ•°</h2><p>ç®­å¤´å‡½æ•°</p><ul><li>æ²¡æœ‰ this</li><li>æ²¡æœ‰ arguments</li><li>ä¸èƒ½ä½¿ç”¨ new è¿›è¡Œè°ƒç”¨</li><li>å®ƒä»¬ä¹Ÿæ²¡æœ‰ super</li></ul><p>æ‰€ä»¥ç®­å¤´å‡½æ•°é‡Œçš„ <code>this</code> çš„æŸ¥æ‰¾ä¸å¸¸è§„å˜é‡çš„æœç´¢æ–¹å¼å®Œå…¨ç›¸åŒï¼šåœ¨å¤–éƒ¨è¯æ³•ç¯å¢ƒä¸­æŸ¥æ‰¾ã€‚</p><h2 id="å…³äºprotoå’Œprototype"><a href="#å…³äºprotoå’Œprototype" class="headerlink" title="å…³äºprotoå’Œprototype"></a>å…³äº<strong>proto</strong>å’Œprototype</h2><blockquote><p>åˆå­¦è€…å¸¸çŠ¯ä¸€ä¸ªæ™®éçš„é”™è¯¯ï¼Œå°±æ˜¯ä¸çŸ¥é“ <code>__proto__</code> å’Œ [[Prototype]] çš„åŒºåˆ«ã€‚<br>è¯·æ³¨æ„ï¼Œ<code>__proto__</code> ä¸å†…éƒ¨çš„ [[Prototype]] ä¸ä¸€æ ·ã€‚<code>__proto__</code> æ˜¯ [[Prototype]] çš„ getter/setterã€‚ç¨åï¼Œæˆ‘ä»¬å°†çœ‹åˆ°åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ç†è§£å®ƒä»¬å¾ˆé‡è¦ï¼Œåœ¨å»ºç«‹å¯¹ JavaScript è¯­è¨€çš„ç†è§£æ—¶ï¼Œè®©æˆ‘ä»¬ç‰¢è®°è¿™ä¸€ç‚¹ã€‚</p></blockquote><div class="hljs"><pre><code class="hljs __proto__```">æ ¹æ®è§„èŒƒï¼Œ&#96;&#96;&#96;__proto__&#96;&#96;&#96; å¿…é¡»ä»…å—æµè§ˆå™¨ç¯å¢ƒçš„æ”¯æŒã€‚ä½†å®é™…ä¸Šï¼ŒåŒ…æ‹¬æœåŠ¡ç«¯åœ¨å†…çš„æ‰€æœ‰ç¯å¢ƒéƒ½æ”¯æŒå®ƒï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨å®ƒæ˜¯éå¸¸å®‰å…¨çš„ã€‚é‡è¦ï¼š[thisçš„å€¼](https:&#x2F;&#x2F;zh.javascript.info&#x2F;prototype-inheritance#this-de-zhi)### è®¾ç½®å’Œç›´æ¥è®¿é—®åŸå‹çš„ç°ä»£æ–¹æ³•è®¾ç½®å’Œç›´æ¥è®¿é—®åŸå‹çš„ç°ä»£æ–¹æ³•æœ‰ï¼š- Object.create(proto, [descriptors]) â€”â€” åˆ©ç”¨ç»™å®šçš„ proto ä½œä¸º [[Prototype]]ï¼ˆå¯ä»¥æ˜¯ nullï¼‰å’Œå¯é€‰çš„å±æ€§æè¿°æ¥åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ã€‚- Object.getPrototypeOf(obj) â€”â€” è¿”å›å¯¹è±¡ obj çš„ [[Prototype]]ï¼ˆä¸ &#96;&#96;&#96;__proto__&#96;&#96;&#96; çš„ getter ç›¸åŒï¼‰ã€‚- Object.setPrototypeOf(obj, proto) â€”â€” å°†å¯¹è±¡ obj çš„ [[Prototype]] è®¾ç½®ä¸º protoï¼ˆä¸ &#96;&#96;&#96;__proto__&#96;&#96;&#96; çš„ setter ç›¸åŒï¼‰ã€‚å¦‚æœè¦å°†ä¸€ä¸ªç”¨æˆ·ç”Ÿæˆçš„é”®æ”¾å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå†…å»ºçš„ &#96;&#96;&#96;__proto__&#96;&#96;&#96; getter&#x2F;setter æ˜¯ä¸å®‰å…¨çš„ã€‚å› ä¸ºç”¨æˆ·å¯èƒ½ä¼šè¾“å…¥ &quot;&#96;&#96;&#96;__proto__&#96;&#96;&#96;&quot; ä½œä¸ºé”®ï¼Œè¿™ä¼šå¯¼è‡´ä¸€ä¸ª errorï¼Œè™½ç„¶æˆ‘ä»¬å¸Œæœ›è¿™ä¸ªé—®é¢˜ä¸ä¼šé€ æˆä»€ä¹ˆå¤§å½±å“ï¼Œä½†é€šå¸¸ä¼šé€ æˆä¸å¯é¢„æ–™çš„åæœã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Object.create(null) åˆ›å»ºä¸€ä¸ªæ²¡æœ‰ &#96;&#96;&#96;__proto__&#96;&#96;&#96; çš„ â€œvery plainâ€ å¯¹è±¡ï¼Œæˆ–è€…å¯¹æ­¤ç±»åœºæ™¯åšæŒä½¿ç”¨ Map å¯¹è±¡å°±å¯ä»¥äº†ã€‚æ­¤å¤–ï¼ŒObject.create æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹å¼æ¥æµ…æ‹·è´ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰æè¿°ç¬¦ï¼š&#96;&#96;&#96;jslet clone &#x3D; Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));</code></pre></div><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æ˜ç¡®äº† <code>__proto__</code> æ˜¯ [[Prototype]] çš„ getter/setterï¼Œå°±åƒå…¶ä»–æ–¹æ³•ä¸€æ ·ï¼Œå®ƒä½äº Object.prototypeã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ Object.create(null) æ¥åˆ›å»ºæ²¡æœ‰åŸå‹çš„å¯¹è±¡ã€‚è¿™æ ·çš„å¯¹è±¡è¢«ç”¨ä½œ â€œpure dictionariesâ€ï¼Œå¯¹äºå®ƒä»¬è€Œè¨€ï¼Œä½¿ç”¨ â€œ<code>__proto__</code>â€œ ä½œä¸ºé”®æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p><p>å…¶ä»–æ–¹æ³•ï¼š</p><ul><li>Object.keys(obj) / Object.values(obj) / Object.entries(obj) â€”â€” è¿”å›ä¸€ä¸ªå¯æšä¸¾çš„ç”±è‡ªèº«çš„å­—ç¬¦ä¸²å±æ€§å/å€¼/é”®å€¼å¯¹ç»„æˆçš„æ•°ç»„ã€‚</li><li>Object.getOwnPropertySymbols(obj) â€”â€” è¿”å›ä¸€ä¸ªç”±è‡ªèº«æ‰€æœ‰çš„ symbol ç±»å‹çš„é”®ç»„æˆçš„æ•°ç»„ã€‚</li><li>Object.getOwnPropertyNames(obj) â€”â€” è¿”å›ä¸€ä¸ªç”±è‡ªèº«æ‰€æœ‰çš„å­—ç¬¦ä¸²é”®ç»„æˆçš„æ•°ç»„ã€‚</li><li>Reflect.ownKeys(obj) â€”â€” è¿”å›ä¸€ä¸ªç”±è‡ªèº«æ‰€æœ‰é”®ç»„æˆçš„æ•°ç»„ã€‚</li><li>obj.hasOwnProperty(key)ï¼šå¦‚æœ obj æ‹¥æœ‰åä¸º key çš„è‡ªèº«çš„å±æ€§ï¼ˆéç»§æ‰¿è€Œæ¥çš„ï¼‰ï¼Œåˆ™è¿”å› trueã€‚</li></ul><p>æ‰€æœ‰è¿”å›å¯¹è±¡å±æ€§çš„æ–¹æ³•ï¼ˆå¦‚Object.keys åŠå…¶ä»–ï¼‰â€”â€” éƒ½è¿”å›â€œè‡ªèº«â€çš„å±æ€§ã€‚å¦‚æœæˆ‘ä»¬æƒ³ç»§æ‰¿å®ƒä»¬ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ forâ€¦inã€‚</p><h2 id="å…³äºç±»ç»§æ‰¿"><a href="#å…³äºç±»ç»§æ‰¿" class="headerlink" title="å…³äºç±»ç»§æ‰¿"></a>å…³äºç±»ç»§æ‰¿</h2><p>1.æƒ³è¦æ‰©å±•ä¸€ä¸ªç±»ï¼šclass Child extends Parentï¼š</p><ul><li>è¿™æ„å‘³ç€ Child.prototype.<strong>proto</strong> å°†æ˜¯ Parent.prototypeï¼Œæ‰€ä»¥æ–¹æ³•ä¼šè¢«ç»§æ‰¿ã€‚</li></ul><p>2.é‡å†™ä¸€ä¸ª constructorï¼š</p><ul><li>åœ¨ä½¿ç”¨ this ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ Child çš„ constructor ä¸­å°†çˆ¶ constructor è°ƒç”¨ä¸º super()ã€‚</li></ul><p>3.é‡å†™ä¸€ä¸ªæ–¹æ³•ï¼š</p><ul><li>æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ª Child æ–¹æ³•ä¸­ä½¿ç”¨ super.method() æ¥è°ƒç”¨ Parent æ–¹æ³•ã€‚</li></ul><p>4.å†…éƒ¨ï¼š</p><ul><li>æ–¹æ³•åœ¨å†…éƒ¨çš„ [[HomeObject]] å±æ€§ä¸­è®°ä½äº†å®ƒä»¬çš„ç±»/å¯¹è±¡ã€‚è¿™å°±æ˜¯ super å¦‚ä½•è§£æçˆ¶æ–¹æ³•çš„ã€‚</li><li>å› æ­¤ï¼Œå°†ä¸€ä¸ªå¸¦æœ‰ super çš„æ–¹æ³•ä»ä¸€ä¸ªå¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸å®‰å…¨çš„ã€‚</li></ul><p>è¡¥å……ï¼š</p><p>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ this æˆ– superï¼Œæ‰€ä»¥å®ƒä»¬èƒ½èå…¥åˆ°å°±è¿‘çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œåƒé€æ˜ä¼¼çš„ã€‚</p><h2 id="ç±»æ£€æŸ¥â€instanceofâ€"><a href="#ç±»æ£€æŸ¥â€instanceofâ€" class="headerlink" title="ç±»æ£€æŸ¥â€instanceofâ€"></a>ç±»æ£€æŸ¥â€instanceofâ€</h2><table><thead><tr><th></th><th>ç”¨äº</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td>type</td><td>åŸå§‹æ•°æ®ç±»å‹</td><td>string</td></tr><tr><td>{}.toString.call</td><td>åŸå§‹æ•°æ®ç±»å‹ï¼Œå†…å»ºå¯¹è±¡ï¼ŒåŒ…å«Symbol.toStringTagå±æ€§çš„å¯¹è±¡</td><td>string</td></tr><tr><td>instanceof</td><td>å¯¹è±¡</td><td>true/false</td></tr></tbody></table><p>å¦‚è¡¨æ‰€ç¤ºï¼š{}.toString.call (Object.prototype.toString) å¯ä»¥æ£€æŸ¥å¯¹è±¡çš„ç±»å‹å¹¶è¿”å›å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯åƒtoStringä»…ä»…è¿”å› <code>[Object,Object]</code></p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">let</span> s = <span class="hljs-built_in">Object</span>.prototype.toString;alert( s.call(<span class="hljs-number">123</span>) ); <span class="hljs-comment">// [object Number]</span>alert( s.call(<span class="hljs-literal">null</span>) ); <span class="hljs-comment">// [object Null]</span>alert( s.call(alert) ); <span class="hljs-comment">// [object Function]</span></code></pre></div><h2 id="æ¨¡å—çš„å¯¼å…¥å’Œå¯¼å‡º"><a href="#æ¨¡å—çš„å¯¼å…¥å’Œå¯¼å‡º" class="headerlink" title="æ¨¡å—çš„å¯¼å…¥å’Œå¯¼å‡º"></a>æ¨¡å—çš„å¯¼å…¥å’Œå¯¼å‡º</h2><ul><li>åœ¨å£°æ˜ä¸€ä¸ª class/function/â€¦ ä¹‹å‰ï¼š<ul><li>export [default] class/function/variable â€¦</li></ul></li><li>ç‹¬ç«‹çš„å¯¼å‡ºï¼š<ul><li>export {x [as y], â€¦}.</li></ul></li><li>é‡æ–°å¯¼å‡ºï¼š<ul><li>export {x [as y], â€¦} from â€œmoduleâ€</li><li>export * from â€œmoduleâ€ï¼ˆä¸ä¼šé‡æ–°å¯¼å‡ºé»˜è®¤çš„å¯¼å‡ºï¼‰ã€‚</li><li>export {default [as y]} from â€œmoduleâ€ï¼ˆé‡æ–°å¯¼å‡ºé»˜è®¤çš„å¯¼å‡ºï¼‰ã€‚</li></ul></li></ul><p>å¯¼å…¥ï¼š</p><ul><li>æ¨¡å—ä¸­å‘½åçš„å¯¼å…¥ï¼š<ul><li>import {x [as y], â€¦} from â€œmoduleâ€</li></ul></li><li>é»˜è®¤çš„å¯¼å…¥ï¼š<ul><li>import x from â€œmoduleâ€</li><li>import {default as x} from â€œmoduleâ€</li></ul></li><li>æ‰€æœ‰ï¼š<ul><li>import * as obj from â€œmoduleâ€</li></ul></li><li>å¯¼å…¥æ¨¡å—ï¼ˆå®ƒçš„ä»£ç ï¼Œå¹¶è¿è¡Œï¼‰ï¼Œä½†ä¸è¦å°†å…¶èµ‹å€¼ç»™å˜é‡ï¼š<ul><li>import â€œmoduleâ€</li></ul></li></ul><p>æˆ‘ä»¬æŠŠ import/export è¯­å¥æ”¾åœ¨è„šæœ¬çš„é¡¶éƒ¨æˆ–åº•éƒ¨ï¼Œéƒ½æ²¡å…³ç³»ã€‚</p><h2 id="å¤„ç†ç¨‹åºé€‰é¡¹-â€œpassiveâ€"><a href="#å¤„ç†ç¨‹åºé€‰é¡¹-â€œpassiveâ€" class="headerlink" title="å¤„ç†ç¨‹åºé€‰é¡¹ â€œpassiveâ€"></a>å¤„ç†ç¨‹åºé€‰é¡¹ â€œpassiveâ€</h2><p>addEventListener çš„å¯é€‰é¡¹ passive: true å‘æµè§ˆå™¨å‘å‡ºä¿¡å·ï¼Œè¡¨æ˜å¤„ç†ç¨‹åºå°†ä¸ä¼šè°ƒç”¨ preventDefault()ã€‚</p><p>ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·åšï¼Ÿ</p><p>ç§»åŠ¨è®¾å¤‡ä¸Šä¼šå‘ç”Ÿä¸€äº›äº‹ä»¶ï¼Œä¾‹å¦‚ touchmoveï¼ˆå½“ç”¨æˆ·åœ¨å±å¹•ä¸Šç§»åŠ¨æ‰‹æŒ‡æ—¶ï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šå¯¼è‡´æ»šåŠ¨ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨å¤„ç†ç¨‹åºçš„ preventDefault() æ¥é˜»æ­¢æ»šåŠ¨ã€‚</p><p>å› æ­¤ï¼Œå½“æµè§ˆå™¨æ£€æµ‹åˆ°æ­¤ç±»äº‹ä»¶æ—¶ï¼Œå®ƒå¿…é¡»é¦–å…ˆå¤„ç†æ‰€æœ‰å¤„ç†ç¨‹åºï¼Œç„¶åå¦‚æœæ²¡æœ‰ä»»ä½•åœ°æ–¹è°ƒç”¨ preventDefaultï¼Œåˆ™é¡µé¢å¯ä»¥ç»§ç»­æ»šåŠ¨ã€‚ä½†è¿™å¯èƒ½ä¼šå¯¼è‡´ UI ä¸­ä¸å¿…è¦çš„å»¶è¿Ÿå’Œâ€œæŠ–åŠ¨â€ã€‚</p><p>passive: true é€‰é¡¹å‘Šè¯‰æµè§ˆå™¨ï¼Œå¤„ç†ç¨‹åºä¸ä¼šå–æ¶ˆæ»šåŠ¨ã€‚ç„¶åæµè§ˆå™¨ç«‹å³æ»šåŠ¨é¡µé¢ä»¥æä¾›æœ€å¤§ç¨‹åº¦çš„æµç•…ä½“éªŒï¼Œå¹¶é€šè¿‡æŸç§æ–¹å¼å¤„ç†äº‹ä»¶ã€‚</p><p>å¯¹äºæŸäº›æµè§ˆå™¨ï¼ˆFirefoxï¼ŒChromeï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œtouchstart å’Œ touchmove äº‹ä»¶çš„ passive ä¸º trueã€‚</p><h2 id="asyncå’Œdefer"><a href="#asyncå’Œdefer" class="headerlink" title="asyncå’Œdefer"></a>asyncå’Œdefer</h2><table><thead><tr><th></th><th>é¡ºåº</th><th>DOMContentLoaded</th></tr></thead><tbody><tr><td>async</td><td>åŠ è½½ä¼˜å…ˆé¡ºåºã€‚è„šæœ¬åœ¨æ–‡æ¡£ä¸­çš„é¡ºåºä¸é‡è¦ â€”â€” å…ˆåŠ è½½å®Œæˆçš„å…ˆæ‰§è¡Œ</td><td>ä¸ç›¸å…³ã€‚å¯èƒ½åœ¨æ–‡æ¡£åŠ è½½å®Œæˆå‰åŠ è½½å¹¶æ‰§è¡Œå®Œæ¯•ã€‚å¦‚æœè„šæœ¬å¾ˆå°æˆ–è€…æ¥è‡ªäºç¼“å­˜ï¼ŒåŒæ—¶æ–‡æ¡£è¶³å¤Ÿé•¿ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚</td></tr><tr><td>defer</td><td>æ–‡æ¡£é¡ºåºï¼ˆå®ƒä»¬åœ¨æ–‡æ¡£ä¸­çš„é¡ºåºï¼‰</td><td>åœ¨æ–‡æ¡£åŠ è½½å’Œè§£æå®Œæˆä¹‹åï¼ˆå¦‚æœéœ€è¦ï¼Œåˆ™ä¼šç­‰å¾…ï¼‰ï¼Œå³åœ¨ DOMContentLoaded ä¹‹å‰æ‰§è¡Œã€‚</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è¿›é˜¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vueä¸­çš„.passiveä¿®é¥°ç¬¦</title>
    <link href="/2020/11/07/vue%E4%B8%AD%E7%9A%84-passive%E4%BF%AE%E9%A5%B0%E7%AC%A6/"/>
    <url>/2020/11/07/vue%E4%B8%AD%E7%9A%84-passive%E4%BF%AE%E9%A5%B0%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h2 id="vueä¸­çš„-passive-ä¿®é¥°ç¬¦"><a href="#vueä¸­çš„-passive-ä¿®é¥°ç¬¦" class="headerlink" title="vueä¸­çš„ .passive ä¿®é¥°ç¬¦"></a>vueä¸­çš„ .passive ä¿®é¥°ç¬¦</h2><p>Vueæä¾›äº†äº‹ä»¶ç»‘å®šçš„è¯­æ³•ç³–ï¼Œæˆ‘ä»¬åœ¨æ ‡ç­¾ä¸­å¯ç›´æ¥ä½¿ç”¨å½¢å¦‚v-on:clickï¼Œ@clickï¼Œ@focusçš„å½¢å¼ç»‘å®šäº‹ä»¶ç›‘å¬å™¨ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ä¿®é¥°ç¬¦å¯¹äº‹ä»¶è¿›è¡Œoptionè®¾ç½®ã€‚æœ¬æ¬¡è§£é‡Šä¸‹prevent ä¸passiveçš„ä¿®é¥°ç¬¦ã€‚prevent æ˜¯æ‹¦æˆªé»˜è®¤äº‹ä»¶ï¼Œpassiveæ˜¯ä¸æ‹¦æˆªé»˜è®¤äº‹ä»¶ã€‚</p><h3 id="prevent"><a href="#prevent" class="headerlink" title="prevent"></a>prevent</h3><p>æŸäº›æ ‡ç­¾æ‹¥æœ‰è‡ªèº«çš„é»˜è®¤äº‹ä»¶ï¼Œå¦‚a[href=â€#â€]ï¼Œbutton[type=â€submitâ€] è¿™ç§æ ‡ç­¾åœ¨å†’æ³¡ç»“æŸåä¼šå¼€å§‹æ‰§è¡Œé»˜è®¤äº‹ä»¶ã€‚æ³¨æ„é»˜è®¤äº‹ä»¶è™½ç„¶æ˜¯å†’æ³¡åå¼€å§‹ï¼Œä½†ä¸ä¼šå› ä¸ºstopé˜»æ­¢äº‹ä»¶ä¼ é€’è€Œåœæ­¢ã€‚</p><h3 id="passive"><a href="#passive" class="headerlink" title="passive"></a>passive</h3><p>passiveè¿™ä¸ªä¿®é¥°ç¬¦ä¼šæ‰§è¡Œé»˜è®¤æ–¹æ³•ã€‚ä½ ä»¬å¯èƒ½ä¼šé—®ï¼Œæ˜æ˜é»˜è®¤æ‰§è¡Œä¸ºä»€ä¹ˆä¼šè®¾ç½®è¿™æ ·ä¸€ä¸ªä¿®é¥°ç¬¦ã€‚è¿™å°±è¦è¯´ä¸€ä¸‹è¿™ä¸ªä¿®é¥°ç¬¦çš„æœ¬æ„äº†ã€‚</p><p>ã€æµè§ˆå™¨åªæœ‰ç­‰å†…æ ¸çº¿ç¨‹æ‰§è¡Œåˆ°äº‹ä»¶ç›‘å¬å™¨å¯¹åº”çš„JavaScriptä»£ç æ—¶ï¼Œæ‰èƒ½çŸ¥é“å†…éƒ¨æ˜¯å¦ä¼šè°ƒç”¨preventDefaultå‡½æ•°æ¥é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Œæ‰€ä»¥æµè§ˆå™¨æœ¬èº«æ˜¯æ²¡æœ‰åŠæ³•å¯¹è¿™ç§åœºæ™¯è¿›è¡Œä¼˜åŒ–çš„ã€‚è¿™ç§åœºæ™¯ä¸‹ï¼Œç”¨æˆ·çš„æ‰‹åŠ¿äº‹ä»¶æ— æ³•å¿«é€Ÿäº§ç”Ÿï¼Œä¼šå¯¼è‡´é¡µé¢æ— æ³•å¿«é€Ÿæ‰§è¡Œæ»‘åŠ¨é€»è¾‘ï¼Œä»è€Œè®©ç”¨æˆ·æ„Ÿè§‰åˆ°é¡µé¢å¡é¡¿ã€‚ã€‘</p><p>é€šä¿—ç‚¹è¯´å°±æ˜¯æ¯æ¬¡äº‹ä»¶äº§ç”Ÿï¼Œæµè§ˆå™¨éƒ½ä¼šå»æŸ¥è¯¢ä¸€ä¸‹æ˜¯å¦æœ‰preventDefaulté˜»æ­¢è¯¥æ¬¡äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œã€‚æˆ‘ä»¬åŠ ä¸Špassiveå°±æ˜¯ä¸ºäº†å‘Šè¯‰æµè§ˆå™¨ï¼Œä¸ç”¨æŸ¥è¯¢äº†ï¼Œæˆ‘ä»¬æ²¡ç”¨preventDefaulté˜»æ­¢é»˜è®¤åŠ¨ä½œã€‚</p><p><font color="#1ABC9C">è¿™é‡Œä¸€èˆ¬ç”¨åœ¨æ»šåŠ¨ç›‘å¬ï¼Œ@scollï¼Œ@touchmove ã€‚å› ä¸ºæ»šåŠ¨ç›‘å¬è¿‡ç¨‹ä¸­ï¼Œç§»åŠ¨æ¯ä¸ªåƒç´ éƒ½ä¼šäº§ç”Ÿä¸€æ¬¡äº‹ä»¶ï¼Œæ¯æ¬¡éƒ½ä½¿ç”¨å†…æ ¸çº¿ç¨‹æŸ¥è¯¢preventä¼šä½¿æ»‘åŠ¨å¡é¡¿ã€‚æˆ‘ä»¬é€šè¿‡passiveå°†å†…æ ¸çº¿ç¨‹æŸ¥è¯¢è·³è¿‡ï¼Œå¯ä»¥å¤§å¤§æå‡æ»‘åŠ¨çš„æµç•…åº¦ã€‚</font></p><p>æ³¨ï¼špassiveå’Œpreventå†²çªï¼Œä¸èƒ½åŒæ—¶ç»‘å®šåœ¨ä¸€ä¸ªç›‘å¬å™¨ä¸Šã€‚</p><p>å‚è€ƒï¼š<a href="https://www.jianshu.com/p/b12d0d3ad4c1" target="_blank" rel="noopener">vueä¸­çš„ .passive ä¿®é¥°ç¬¦</a></p>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vueçš„åŒå‘æ•°æ®ç»‘å®š</title>
    <link href="/2020/11/06/vue%E7%9A%84%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A/"/>
    <url>/2020/11/06/vue%E7%9A%84%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A/</url>
    
    <content type="html"><![CDATA[<h2 id="vueçš„åŒå‘æ•°æ®ç»‘å®š"><a href="#vueçš„åŒå‘æ•°æ®ç»‘å®š" class="headerlink" title="vueçš„åŒå‘æ•°æ®ç»‘å®š"></a>vueçš„åŒå‘æ•°æ®ç»‘å®š</h2><p>vueæ•°æ®åŒå‘ç»‘å®šæ˜¯é€šè¿‡æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼æ¥å®ç°çš„ã€‚åŸç†å›¾ï¼š<br><img src="/img/vue%E6%95%B0%E6%8D%AE%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A/reactive.jpg" srcset="/img/loading.gif" alt="vueçš„åŒå‘æ•°æ®ç»‘å®š"></p><p>é€šè¿‡ Object.defineProperty() æ–¹æ³•åŠ«æŒ å¯¹è±¡çš„ getterã€setteræ–¹æ³•ï¼Œåœ¨é€šè¿‡å‘å¸ƒè®¢é˜…æ¨¡å¼å®Œæˆ data â€“&gt; è§†å›¾ å’Œ è§†å›¾ â€“&gt; data çš„åŒå‘æ›´æ–°ã€‚<br>å…·ä½“æŸ¥çœ‹: <a href="https://www.cnblogs.com/canfoo/p/6891868.html" target="_blank" rel="noopener">vueçš„åŒå‘ç»‘å®š</a></p>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexoéƒ¨ç½²æ—¶å‡ºç°excepted tokenè§£å†³æ–¹æ³•</title>
    <link href="/2020/11/06/token%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <url>/2020/11/06/token%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="hexoéƒ¨ç½²æ—¶å‡ºç°jsonè§£æé”™è¯¯"><a href="#hexoéƒ¨ç½²æ—¶å‡ºç°jsonè§£æé”™è¯¯" class="headerlink" title="hexoéƒ¨ç½²æ—¶å‡ºç°jsonè§£æé”™è¯¯"></a>hexoéƒ¨ç½²æ—¶å‡ºç°jsonè§£æé”™è¯¯</h2><p>éƒ¨ç½²æ—¶å‡ºç° excepted token x in positionï¼Œå¾ˆå¥‡æ€ªï¼Œæ‰¾åˆ°æºä»£ç æœ‰ä¸€å¥<code>json.parse</code>,æ‰“å°äº†ä¸€ä¸‹å‘ç°æ˜¯æŸä¸ªjsonå¯¹è±¡ä¼ å…¥äº†json.parseã€‚ä½†æ˜¯è¿™ä¸ªjsonå¯¹è±¡è¿˜å¿…é¡»è¦æœ‰ã€‚æœ€åæƒ³åˆ°äº†skip_renderï¼Œå‘ç°å·²ç»é…ç½®äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æ¸²æŸ“çš„äº†é‚£äº›æ–‡ä»¶ã€‚</p><div class="hljs"><pre><code class="hljs plain">skip_render:  - &quot;somedir&#x2F;*&quot;</code></pre></div><p>æœ€åå»github hexoçš„ issue é‡Œæ‰¾åˆ°äº†ä¸€ä¸ªè¿™ä¸ªï¼š</p><div class="hljs"><pre><code class="hljs plain">- &quot;somedir&#x2F;**&#x2F;*&quot;</code></pre></div><p>æ€€ç–‘æ˜¯ä¸æ˜¯éœ€è¦ä¸¤ä¸ª ** ï¼Œå°è¯•äº†ä¸€ä¸‹ï¼ŒæˆåŠŸäº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>é”™è¯¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vueçš„ç”Ÿå‘½å‘¨æœŸé’©å­updated</title>
    <link href="/2020/11/03/vue%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90updated/"/>
    <url>/2020/11/03/vue%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90updated/</url>
    
    <content type="html"><![CDATA[<h2 id="ç”Ÿå‘½å‘¨æœŸè¯¦ç»†è¡¨"><a href="#ç”Ÿå‘½å‘¨æœŸè¯¦ç»†è¡¨" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸè¯¦ç»†è¡¨"></a>ç”Ÿå‘½å‘¨æœŸè¯¦ç»†è¡¨</h2><table><thead><tr><th>ç”Ÿå‘½å‘¨æœŸ</th><th>è¯¦ç»†</th></tr></thead><tbody><tr><td>beforeCreate</td><td>åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹(data observer) å’Œ event/watcher äº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨</td></tr><tr><td>created</td><td>å®ä¾‹å·²ç»åˆ›å»ºå®Œæˆä¹‹åè¢«è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šæ•°æ®è§‚æµ‹(data observer)ï¼Œå±æ€§å’Œæ–¹æ³•çš„è¿ç®—ï¼Œ watch/event äº‹ä»¶å›è°ƒã€‚ç„¶è€Œï¼ŒæŒ‚è½½é˜¶æ®µè¿˜æ²¡å¼€å§‹ï¼Œ$el å±æ€§ç›®å‰ä¸å¯è§ã€‚</td></tr><tr><td>beforeMount</td><td>åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ã€‚</td></tr><tr><td>mounted</td><td>el è¢«æ–°åˆ›å»ºçš„ vm.$el æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨è¯¥é’©å­ã€‚å¦‚æœ root å®ä¾‹æŒ‚è½½äº†ä¸€ä¸ªæ–‡æ¡£å†…å…ƒç´ ï¼Œå½“ mounted è¢«è°ƒç”¨æ—¶ vm.$el ä¹Ÿåœ¨æ–‡æ¡£å†…ã€‚</td></tr><tr><td>beforeUpdate</td><td>æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰ã€‚ä½ å¯ä»¥åœ¨è¿™ä¸ªé’©å­ä¸­è¿›ä¸€æ­¥åœ°æ›´æ”¹çŠ¶æ€ï¼Œè¿™ä¸ä¼šè§¦å‘é™„åŠ çš„é‡æ¸²æŸ“è¿‡ç¨‹ã€‚</td></tr><tr><td>updated</td><td>ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚å½“è¿™ä¸ªé’©å­è¢«è°ƒç”¨æ—¶ï¼Œç»„ä»¶ DOM å·²ç»æ›´æ–°ï¼Œæ‰€ä»¥ä½ ç°åœ¨å¯ä»¥æ‰§è¡Œä¾èµ–äº DOM çš„æ“ä½œã€‚</td></tr><tr><td>activated</td><td>keep-alive ç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨ã€‚</td></tr><tr><td>deactivated</td><td>keep-alive ç»„ä»¶åœç”¨æ—¶è°ƒç”¨ã€‚</td></tr><tr><td>beforeDestroy</td><td>å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚</td></tr><tr><td>destroyed</td><td>Vue å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVue å®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚</td></tr><tr><td>å¤‡æ³¨</td><td>ï¼ˆé™¤äº†beforeCreateå’Œcreatedé’©å­ä¹‹å¤–ï¼Œå…¶ä»–é’©å­å‡åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚ï¼‰<font color="#1ABC9C">åªæœ‰updatedé’©å­è¢«è°ƒç”¨æ—¶å€™ï¼Œç»„ä»¶domæ‰è¢«æ›´æ–°ã€‚</font></td></tr></tbody></table><p>å¯ä»¥åœ¨updatedç”Ÿå‘½å‘¨æœŸå†…æ›´æ–°é¡µé¢éƒ¨åˆ†domï¼Œæ¯”å¦‚æ ·å¼ä¿®æ”¹ï¼Œé˜…è¯»è¿›åº¦çš„æ ·å¼æ˜¾ç¤ºã€‚</p><ul><li>å‚è€ƒï¼š <a href="https://www.cnblogs.com/goloving/p/8616989.html" target="_blank" rel="noopener">Vueç”Ÿå‘½å‘¨æœŸ</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºvueçš„mixin</title>
    <link href="/2020/10/30/%E5%85%B3%E4%BA%8Evue%E7%9A%84mixin/"/>
    <url>/2020/10/30/%E5%85%B3%E4%BA%8Evue%E7%9A%84mixin/</url>
    
    <content type="html"><![CDATA[<h2 id="vueçš„mixin"><a href="#vueçš„mixin" class="headerlink" title="vueçš„mixin"></a>vueçš„mixin</h2><p>å½“æœ‰å¤šä¸ªç»„ä»¶å†™äº†å¤šä¸ªåŒæ ·çš„è¯­å¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨vueçš„mixinæœºåˆ¶<br>åˆ›å»ºä¸€ä¸ªutils/mixin.jsæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;  mapGetters,  mapActions&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'vuex'</span><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> bookMixin = &#123;  computed: &#123;    ...mapGetters([<span class="hljs-string">'bookName'</span>, <span class="hljs-string">'bookCover'</span>]),  &#125;,  methods: &#123;    ...mapActions([<span class="hljs-string">'setBookName'</span>, <span class="hljs-string">'setBookCover'</span>])  &#125;&#125;</code></pre></div><p>æ¥ä¸‹æ¥å°±å¯ä»¥åœ¨ç»„ä»¶å†…è¿™æ ·å†™ï¼š</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; bookMixin &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'utils/mixin'</span>  mixins:[bookMixin]  methods: &#123;&#125;</code></pre></div><p>è¿™æ ·å¯ä»¥å°†vuexçš„å†…å®¹åœ¨ä¸€å¤„å¢åŠ ï¼Œå¤šå¤„å¤ç”¨ã€‚</p><p>mapActionsæ˜¯å†™åˆ°methodsé‡Œçš„ï¼Œè¿™æ ·å°±å¯ä»¥æ›¿æ¢è¿™ç§å†™æ³•</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">// åŸæ¥å†™æ³•</span><span class="hljs-keyword">this</span>.$store.dispatch(<span class="hljs-string">'setBookName'</span>,<span class="hljs-keyword">this</span>.bookName)<span class="hljs-comment">// ä¼˜é›…å†™æ³•</span><span class="hljs-keyword">this</span>.setBookName(<span class="hljs-keyword">this</span>.bookName)</code></pre></div>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Echartsæ•°æ®æ›´æ–°å›¾è¡¨ä¸æ›´æ–°è§£å†³æ–¹æ³•æ€è€ƒ</title>
    <link href="/2020/10/26/Echarts%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0%E5%9B%BE%E8%A1%A8%E4%B8%8D%E6%9B%B4%E6%96%B0%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E6%80%9D%E8%80%83/"/>
    <url>/2020/10/26/Echarts%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0%E5%9B%BE%E8%A1%A8%E4%B8%8D%E6%9B%B4%E6%96%B0%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E6%80%9D%E8%80%83/</url>
    
    <content type="html"><![CDATA[<h2 id="echartæ•°æ®æ›´æ–°é—®é¢˜"><a href="#echartæ•°æ®æ›´æ–°é—®é¢˜" class="headerlink" title="echartæ•°æ®æ›´æ–°é—®é¢˜"></a>echartæ•°æ®æ›´æ–°é—®é¢˜</h2><p>åœ¨ä½¿ç”¨vue-echartsç»„ä»¶æ—¶ï¼Œé€šè¿‡watchç›‘å¬optionå˜åŒ–æ›´æ–°æ•°æ®ï¼Œç”¨vueè°ƒè¯•å·¥å…·æŸ¥çœ‹æ•°æ®æ›´æ–°äº†ï¼Œseriesæ•°ç»„å†…å®¹æ”¹å˜äº†ã€‚<br>ä½†æ˜¯echartçš„çº¿è¡¨æœ‰éƒ¨åˆ†æ•°æ®æ˜¯ä¸Šæ¬¡çš„ï¼Œæœ‰éƒ¨åˆ†æ˜¯æœ€æ–°çš„ã€‚ç™¾æ€ä¸å¾—å…¶è§£ã€‚<br>æœ€åçªç„¶æƒ³åˆ°vueçš„ç»„ä»¶ä¼šå¤ç”¨ï¼Œæ²¡æœ‰å˜åŒ–çš„ä¸æ›´æ–°ã€‚æœ€åé€šè¿‡å¼ºåˆ¶æ›´æ–°å›¾è¡¨æ’ä»¶è§£å†³é—®é¢˜ã€‚</p><p>è¿™é‡Œè®°å½•ä¸€ä¸‹å››ç§æ›´æ–°æ•°æ®çš„æ–¹æ³•</p><h3 id="åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼ˆæœ€lowçš„ï¼Œå¯ä»¥å€ŸåŠ©routeæœºåˆ¶ï¼‰"><a href="#åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼ˆæœ€lowçš„ï¼Œå¯ä»¥å€ŸåŠ©routeæœºåˆ¶ï¼‰" class="headerlink" title="åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼ˆæœ€lowçš„ï¼Œå¯ä»¥å€ŸåŠ©routeæœºåˆ¶ï¼‰"></a>åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼ˆæœ€lowçš„ï¼Œå¯ä»¥å€ŸåŠ©routeæœºåˆ¶ï¼‰</h3><h3 id="ä½¿ç”¨v-ifæ ‡è®°ï¼ˆæ¯”è¾ƒlowçš„ï¼‰"><a href="#ä½¿ç”¨v-ifæ ‡è®°ï¼ˆæ¯”è¾ƒlowçš„ï¼‰" class="headerlink" title="ä½¿ç”¨v-ifæ ‡è®°ï¼ˆæ¯”è¾ƒlowçš„ï¼‰"></a>ä½¿ç”¨v-ifæ ‡è®°ï¼ˆæ¯”è¾ƒlowçš„ï¼‰</h3><h3 id="ä½¿ç”¨å†…ç½®çš„forceUpdateæ–¹æ³•ï¼ˆè¾ƒå¥½çš„ï¼‰"><a href="#ä½¿ç”¨å†…ç½®çš„forceUpdateæ–¹æ³•ï¼ˆè¾ƒå¥½çš„ï¼‰" class="headerlink" title="ä½¿ç”¨å†…ç½®çš„forceUpdateæ–¹æ³•ï¼ˆè¾ƒå¥½çš„ï¼‰"></a>ä½¿ç”¨å†…ç½®çš„forceUpdateæ–¹æ³•ï¼ˆè¾ƒå¥½çš„ï¼‰</h3><p>ç»„ä»¶å†…ç½®$forceUpdateæ–¹æ³•ï¼Œä½¿ç”¨å‰éœ€è¦åœ¨é…ç½®ä¸­å¯ç”¨ã€‚</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>Vue.forceUpdate()<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;  methods: &#123;    handleUpdateClick() &#123;      <span class="hljs-comment">// built-in</span>      <span class="hljs-keyword">this</span>.$forceUpdate()    &#125;  &#125;&#125;</code></pre></div><h3 id="ä½¿ç”¨key-changingä¼˜åŒ–ç»„ä»¶ï¼ˆæœ€å¥½çš„"><a href="#ä½¿ç”¨key-changingä¼˜åŒ–ç»„ä»¶ï¼ˆæœ€å¥½çš„" class="headerlink" title="ä½¿ç”¨key-changingä¼˜åŒ–ç»„ä»¶ï¼ˆæœ€å¥½çš„)"></a>ä½¿ç”¨key-changingä¼˜åŒ–ç»„ä»¶ï¼ˆæœ€å¥½çš„)</h3><p>åŸç†å¾ˆç®€å•ï¼Œvueä½¿ç”¨keyæ ‡è®°ç»„ä»¶èº«ä»½ï¼Œå½“keyæ”¹å˜æ—¶å°±æ˜¯é‡Šæ”¾åŸå§‹ç»„ä»¶ï¼Œé‡æ–°åŠ è½½æ–°çš„ç»„ä»¶ã€‚</p><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"key"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span>    data() &#123;<span class="actionscript">      <span class="hljs-keyword">return</span> &#123;</span>        key: 0      &#125;    &#125;,    methods: &#123;      handleUpdateClick() &#123;<span class="actionscript">        <span class="hljs-keyword">this</span>.key += <span class="hljs-number">1</span></span>      &#125;    &#125;  &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€äº›Vueå°æŠ€å·§</title>
    <link href="/2020/10/19/%E4%B8%80%E4%BA%9B%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    <url>/2020/10/19/%E4%B8%80%E4%BA%9B%E5%B0%8F%E6%8A%80%E5%B7%A7/</url>
    
    <content type="html"><![CDATA[<h2 id="å…³äº-vue-filters"><a href="#å…³äº-vue-filters" class="headerlink" title="å…³äº vue.filters"></a>å…³äº vue.filters</h2><p>å¯ä»¥å†™åœ¨å•ä¸ªç»„ä»¶å†…ï¼Œä¹Ÿå¯ä»¥å•ç‹¬å†™å…¨å±€çš„ç„¶ååŠ åˆ° main.js ä¸­ï¼Œåƒæ˜¯æ—¥æœŸæ ¼å¼ï¼Œæ•°å­—æ ¼å¼å°±å¯ä»¥å†™åœ¨å…¨å±€</p><h2 id="å’Œï¼ï¼"><a href="#å’Œï¼ï¼" class="headerlink" title="~~å’Œï¼ï¼"></a>~~å’Œï¼ï¼</h2><p>&#126;æ˜¯æŒ‰ä½å–åè¿ç®—ï¼Œ&#126;&#126;æ˜¯å–åä¸¤æ¬¡ã€‚<br>&#126;&#126;çš„ä½œç”¨æ˜¯å»æ‰å°æ•°éƒ¨åˆ†ï¼Œå› ä¸ºä½è¿ç®—çš„æ“ä½œå€¼è¦æ±‚æ˜¯æ•´æ•°ï¼Œå…¶ç»“æœä¹Ÿæ˜¯æ•´æ•°ï¼Œæ‰€ä»¥ç»è¿‡ä½è¿ç®—çš„éƒ½ä¼šè‡ªåŠ¨å˜æˆæ•´æ•°ã€‚<br>ï¼ä¸€ä¸ªï¼æ˜¯å–åï¼Œï¼ï¼ä¸¤ä¸ªå†å–åï¼Œå°±æ˜¯å¼ºåˆ¶è½¬æ¢æˆ Boolen ç±»å‹</p><h2 id="å…³äº-markdown-è¯­æ³•"><a href="#å…³äº-markdown-è¯­æ³•" class="headerlink" title="å…³äº markdown è¯­æ³•"></a>å…³äº markdown è¯­æ³•</h2><p>å¦‚æœè¦ä½¿ç”¨ Markdown ä¿ç•™å­—ï¼Œå¯ä»¥ä½¿ç”¨ Unicode å­—ç¬¦ã€‚å¦‚ä¸Šé¢çš„&#126;&#126;,ä¸¤è¾¹åŠ &#126;&#126;ä¼šå¯¼è‡´å½¢æˆæ–‡å­—ä¹‹é—´äº§ç”Ÿåˆ é™¤çº¿ï¼ŒæŠŠ&#126;&#126;æ¢æˆ<code>&amp;#126;&amp;#126;</code>å°±å¯ä»¥äº†ã€‚<a href="http://tool.oschina.net/encode" target="_blank" rel="noopener">Unicode åœ¨çº¿è½¬ä¹‰</a></p><h2 id="js-å’Œ-css-ä¸¤ç”¨æ ·å¼"><a href="#js-å’Œ-css-ä¸¤ç”¨æ ·å¼" class="headerlink" title="js å’Œ css ä¸¤ç”¨æ ·å¼"></a>js å’Œ css ä¸¤ç”¨æ ·å¼</h2><p>template ä¸­éœ€è¦åŠ¨æ€å®šä¹‰æ ·å¼ï¼Œé€šå¸¸åšæ³•ï¼š</p><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"&#123; color: textColor &#125;"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span>    data() &#123;<span class="actionscript">      <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">        textColor: <span class="hljs-string">"#ff5000"</span>,</span>      &#125;    &#125;,  &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div><p>é«˜ç«¯åšæ³•ï¼š</p><ul><li>å®šä¹‰ scss æ–‡ä»¶</li></ul><div class="hljs"><pre><code class="hljs scss"><span class="hljs-variable">$menuActiveText</span>: <span class="hljs-number">#409eff</span>;:export &#123;  menuActiveText: <span class="hljs-variable">$menuActiveText</span>;&#125;</code></pre></div><ul><li>åœ¨ js ä¸­å¼•ç”¨ï¼š<ul><li>ä½¿ç”¨ import å¼•ç”¨ scss æ–‡ä»¶</li><li>å®šä¹‰ computed å°† styles å¯¹è±¡å˜æˆå“åº”å¼å¯¹è±¡</li><li>åœ¨ template ä¸­ä½¿ç”¨ styles å¯¹è±¡</li></ul></li></ul><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"&#123; color: styles.menuActiveText &#125;"</span>&gt;</span>Text<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">  <span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">"@/styles/variables.scss"</span></span><span class="javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span>    computed: &#123;      styles() &#123;<span class="actionscript">        <span class="hljs-keyword">return</span> styles</span>      &#125;,    &#125;,  &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div><h2 id="è¿ç»­è§£æ„"><a href="#è¿ç»­è§£æ„" class="headerlink" title="è¿ç»­è§£æ„"></a>è¿ç»­è§£æ„</h2><p>ä»æ•°ç»„ç¬¬ä¸€ä¸ªå¯¹è±¡å…ƒç´ ä¸­æå–æŸä¸ªå±æ€§ï¼Œæ¯”å¦‚ï¼šerr å¯¹è±¡ä¸­åŒ…å«ä¸€ä¸ª errors æ•°ç»„ï¼Œerrors æ•°ç»„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ª msg å±æ€§</p><div class="hljs"><pre><code class="hljs js">err = &#123;  errors: [    &#123;      msg: <span class="hljs-string">"this is a message"</span>,    &#125;,  ],&#125;</code></pre></div><p>å¿«é€Ÿçš„æå–æ–¹æ³•ä¸ºï¼š</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> [&#123; msg &#125;] = err.errors</code></pre></div><p>å¦‚æœä¸ç”¨è§£æ„å†™æ³•ä¸ºï¼š</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> msg = err.errors[<span class="hljs-number">0</span>].msg</code></pre></div><p>çœŸä¸é”™ï¼</p><h2 id="vm-nextTick"><a href="#vm-nextTick" class="headerlink" title="vm.$nextTick"></a>vm.$nextTick</h2><p>vue æ›´æ–° DOM æ˜¯å¼‚æ­¥çš„ï¼Œå¦‚æœä½ æƒ³åŸºäºæ›´æ–°åçš„ DOM çŠ¶æ€æ¥åšç‚¹ä»€ä¹ˆï¼Œä¸ºäº†åœ¨æ•°æ®å˜åŒ–ä¹‹åç­‰å¾… Vue å®Œæˆæ›´æ–° DOMï¼Œå¯ä»¥åœ¨æ•°æ®å˜åŒ–ä¹‹åç«‹å³ä½¿ç”¨ Vue.nextTick(callback)ã€‚è¿™æ ·å›è°ƒå‡½æ•°å°†åœ¨ DOM æ›´æ–°å®Œæˆåè¢«è°ƒç”¨ã€‚è¯¦æƒ…å‚è§:<a href="https://cn.vuejs.org/v2/guide/reactivity.html#%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%E9%98%9F%E5%88%97" target="_blank" rel="noopener">å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—</a></p><h2 id="columns-åˆ†é¡µ"><a href="#columns-åˆ†é¡µ" class="headerlink" title="columns åˆ†é¡µ"></a>columns åˆ†é¡µ</h2><p>åˆ©ç”¨ columns å®ç°å°è¯´åˆ†é¡µæ•ˆæœï¼Œæ¯ä¸€åˆ—çš„é«˜åº¦ä¸çˆ¶å…ƒç´ ç›¸åŒ</p><h2 id="ç»å¯¹å®šä½å±…ä¸­"><a href="#ç»å¯¹å®šä½å±…ä¸­" class="headerlink" title="ç»å¯¹å®šä½å±…ä¸­"></a>ç»å¯¹å®šä½å±…ä¸­</h2><div class="hljs"><pre><code class="hljs css"><span class="hljs-selector-class">.demo</span> &#123;  <span class="hljs-attribute">position</span>: absolute;  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;  <span class="hljs-attribute">margin</span>: auto;&#125;</code></pre></div><h2 id="ä½¿é¡µé¢çš„å·¦å³è¾¹è·ç›¸åŒ"><a href="#ä½¿é¡µé¢çš„å·¦å³è¾¹è·ç›¸åŒ" class="headerlink" title="ä½¿é¡µé¢çš„å·¦å³è¾¹è·ç›¸åŒ"></a>ä½¿é¡µé¢çš„å·¦å³è¾¹è·ç›¸åŒ</h2><p>å¯ä»¥çˆ¶å…ƒç´ åŠ  paddingï¼š15px, å­å…ƒç´ åŠ  marginï¼š15pxï¼Œ è¿™æ ·æ‰€æœ‰é—´éš™éƒ½æ˜¯ 30pxã€‚</p><h2 id="math-floor-å’Œ-0"><a href="#math-floor-å’Œ-0" class="headerlink" title="math.floor å’Œ | 0"></a>math.floor å’Œ <code>| 0</code></h2><div class="hljs"><pre><code class="hljs js">;(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-number">10</span> / <span class="hljs-number">3</span>) === <span class="hljs-number">10</span> / <span class="hljs-number">3</span>) | <span class="hljs-number">0</span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>moduleçš„è¯­æ³•</title>
    <link href="/2020/09/28/module%E7%9A%84%E8%AF%AD%E6%B3%95/"/>
    <url>/2020/09/28/module%E7%9A%84%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="moduleçš„è¯­æ³•"><a href="#moduleçš„è¯­æ³•" class="headerlink" title="moduleçš„è¯­æ³•"></a>moduleçš„è¯­æ³•</h2><p>export è§„å®šçš„æ˜¯å¯¹å¤–çš„æ¥å£ï¼Œå¿…é¡»ä¸æ¨¡å—å†…éƒ¨å˜é‡å»ºç«‹ä¸€ä¸€å¯¹åº”å…³ç³»</p><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">// æŠ¥é”™</span><span class="hljs-keyword">export</span> <span class="hljs-number">1</span>;<span class="hljs-comment">// æŠ¥é”™</span><span class="hljs-keyword">var</span> m = <span class="hljs-number">1</span>;<span class="hljs-keyword">export</span> m;</code></pre></div><p>ä¸Šé¢ä¸¤ç§å†™æ³•éƒ½ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰æä¾›å¯¹å¤–çš„æ¥å£ã€‚ç¬¬ä¸€ç§å†™æ³•ç›´æ¥è¾“å‡º 1ï¼Œç¬¬äºŒç§å†™æ³•é€šè¿‡å˜é‡mï¼Œè¿˜æ˜¯ç›´æ¥è¾“å‡º 1ã€‚1åªæ˜¯ä¸€ä¸ªå€¼ï¼Œä¸æ˜¯æ¥å£ã€‚æ­£ç¡®çš„å†™æ³•æ˜¯ä¸‹é¢è¿™æ ·ã€‚</p><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">// å†™æ³•ä¸€</span><span class="hljs-keyword">export</span> <span class="hljs-keyword">var</span> m = <span class="hljs-number">1</span>;<span class="hljs-comment">// å†™æ³•äºŒ</span><span class="hljs-keyword">var</span> m = <span class="hljs-number">1</span>;<span class="hljs-keyword">export</span> &#123;m&#125;;<span class="hljs-comment">// å†™æ³•ä¸‰</span><span class="hljs-keyword">var</span> n = <span class="hljs-number">1</span>;<span class="hljs-keyword">export</span> &#123;n <span class="hljs-keyword">as</span> m&#125;;</code></pre></div><p>ä¸Šé¢ä¸‰ç§å†™æ³•éƒ½æ˜¯æ­£ç¡®çš„ï¼Œè§„å®šäº†å¯¹å¤–çš„æ¥å£mã€‚å…¶ä»–è„šæœ¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ¥å£ï¼Œå–åˆ°å€¼1ã€‚å®ƒä»¬çš„å®è´¨æ˜¯ï¼Œåœ¨æ¥å£åä¸æ¨¡å—å†…éƒ¨å˜é‡ä¹‹é—´ï¼Œå»ºç«‹äº†ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚</p><h2 id="export-default"><a href="#export-default" class="headerlink" title="export default"></a>export default</h2><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">// ç¬¬ä¸€ç»„</span><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">crc32</span>(<span class="hljs-params"></span>) </span>&#123; <span class="hljs-comment">// è¾“å‡º</span>  <span class="hljs-comment">// ...</span>&#125;<span class="hljs-keyword">import</span> crc32 <span class="hljs-keyword">from</span> <span class="hljs-string">'crc32'</span>; <span class="hljs-comment">// è¾“å…¥</span><span class="hljs-comment">// ç¬¬äºŒç»„</span><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">crc32</span>(<span class="hljs-params"></span>) </span>&#123; <span class="hljs-comment">// è¾“å‡º</span>  <span class="hljs-comment">// ...</span>&#125;;<span class="hljs-keyword">import</span> &#123;crc32&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'crc32'</span>; <span class="hljs-comment">// è¾“å…¥</span></code></pre></div><p>ä¸Šé¢ä»£ç çš„ä¸¤ç»„å†™æ³•ï¼Œç¬¬ä¸€ç»„æ˜¯ä½¿ç”¨export defaultæ—¶ï¼Œå¯¹åº”çš„importè¯­å¥ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ï¼›ç¬¬äºŒç»„æ˜¯ä¸ä½¿ç”¨export defaultæ—¶ï¼Œå¯¹åº”çš„importè¯­å¥éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ã€‚</p><p>export defaultå‘½ä»¤ç”¨äºæŒ‡å®šæ¨¡å—çš„é»˜è®¤è¾“å‡ºã€‚æ˜¾ç„¶ï¼Œä¸€ä¸ªæ¨¡å—åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤è¾“å‡ºï¼Œå› æ­¤export defaultå‘½ä»¤åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚æ‰€ä»¥ï¼Œimportå‘½ä»¤åé¢æ‰ä¸ç”¨åŠ å¤§æ‹¬å·ï¼Œå› ä¸ºåªå¯èƒ½å”¯ä¸€å¯¹åº”export defaultå‘½ä»¤ã€‚</p><p>æœ¬è´¨ä¸Šï¼Œexport defaultå°±æ˜¯è¾“å‡ºä¸€ä¸ªå«åšdefaultçš„å˜é‡æˆ–æ–¹æ³•ï¼Œç„¶åç³»ç»Ÿå…è®¸ä½ ä¸ºå®ƒå–ä»»æ„åå­—ã€‚æ‰€ä»¥ï¼Œä¸‹é¢çš„å†™æ³•æ˜¯æœ‰æ•ˆçš„ã€‚</p><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">// modules.js</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">x, y</span>) </span>&#123;  <span class="hljs-keyword">return</span> x * y;&#125;<span class="hljs-keyword">export</span> &#123;add <span class="hljs-keyword">as</span> <span class="hljs-keyword">default</span>&#125;;<span class="hljs-comment">// ç­‰åŒäº</span><span class="hljs-comment">// export default add;</span><span class="hljs-comment">// app.js</span><span class="hljs-keyword">import</span> &#123; <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> foo &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'modules'</span>;<span class="hljs-comment">// ç­‰åŒäº</span><span class="hljs-comment">// import foo from 'modules';</span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ES6</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ES6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç»„ä»¶ä½¿ç”¨ä¸­çš„å°ç»†èŠ‚</title>
    <link href="/2020/09/24/%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E4%B8%AD%E7%9A%84%E5%B0%8F%E9%97%AE%E9%A2%98/"/>
    <url>/2020/09/24/%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E4%B8%AD%E7%9A%84%E5%B0%8F%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h2 id="isçš„ä½¿ç”¨"><a href="#isçš„ä½¿ç”¨" class="headerlink" title="isçš„ä½¿ç”¨"></a>isçš„ä½¿ç”¨</h2><p>å½“ä½¿ç”¨è¡¨æ ¼æ—¶ï¼Œåªèƒ½åœ¨tbodyä¸­æ·»åŠ tdï¼Œå¯ä»¥ä½¿ç”¨is=â€™æ¨¡æ¿åç§°â€™</p><h2 id="dataçš„å®šä¹‰"><a href="#dataçš„å®šä¹‰" class="headerlink" title="dataçš„å®šä¹‰"></a>dataçš„å®šä¹‰</h2><p>åœ¨æ ¹ç»„ä»¶ä¸­å¯ä»¥ç”¨å¯¹è±¡ï¼Œå­ç»„ä»¶ä¸­dataåªèƒ½æ˜¯ä¸€ä¸ªæ–¹æ³•</p><h2 id="refæ–¹æ³•"><a href="#refæ–¹æ³•" class="headerlink" title="refæ–¹æ³•"></a>refæ–¹æ³•</h2><p>å¯ä»¥è·å–refçš„DOMç»“æ„ï¼Œå’Œrefç»„ä»¶ä¸­çš„æ•°æ®</p><h2 id="çˆ¶å­ç»„ä»¶ä¼ å€¼"><a href="#çˆ¶å­ç»„ä»¶ä¼ å€¼" class="headerlink" title="çˆ¶å­ç»„ä»¶ä¼ å€¼"></a>çˆ¶å­ç»„ä»¶ä¼ å€¼</h2><p>çˆ¶ç»„ä»¶å¯ä»¥å‘å­ç»„ä»¶ä¼ é€’ä»»ä½•æ•°æ®ï¼Œä½†å­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶çš„å€¼ï¼ˆå•å‘æ•°æ®æµï¼‰,å½“ä¸å†™v-bindæ—¶ï¼Œä¼ é€’çš„å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå†™äº†:æˆ–è€…v-bindåå°±æ˜¯ä¸€ä¸ªjavascriptè¡¨è¾¾å¼äº†ã€‚</p><h2 id="ç»„ä»¶å‚æ•°æ ¡éªŒ"><a href="#ç»„ä»¶å‚æ•°æ ¡éªŒ" class="headerlink" title="ç»„ä»¶å‚æ•°æ ¡éªŒ"></a>ç»„ä»¶å‚æ•°æ ¡éªŒ</h2><h2 id="ç»™ç»„ä»¶ç»‘å®šåŸç”Ÿäº‹ä»¶"><a href="#ç»™ç»„ä»¶ç»‘å®šåŸç”Ÿäº‹ä»¶" class="headerlink" title="ç»™ç»„ä»¶ç»‘å®šåŸç”Ÿäº‹ä»¶"></a>ç»™ç»„ä»¶ç»‘å®šåŸç”Ÿäº‹ä»¶</h2><p>.native ä¸éœ€è¦å­ç»„ä»¶å‘å¤–$emit,åªéœ€åœ¨çˆ¶ç»„ä»¶ä¸­å†™å¤„ç†æ–¹æ³•ã€‚å­ç»„ä»¶ä¸Šç»‘å®šçš„å°±æ˜¯åŸç”Ÿçš„clickæ–¹æ³•ï¼Œè€Œä¸æ˜¯è‡ªå®šä¹‰çš„æ–¹æ³•ã€‚</p><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">child</span> @<span class="hljs-attr">click.native</span>=<span class="hljs-string">"handleClick"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div><h2 id="éçˆ¶å­ç»„ä»¶ä¼ å€¼-Bus-æ€»çº¿-å‘å¸ƒè®¢é˜…æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼"><a href="#éçˆ¶å­ç»„ä»¶ä¼ å€¼-Bus-æ€»çº¿-å‘å¸ƒè®¢é˜…æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="éçˆ¶å­ç»„ä»¶ä¼ å€¼(Bus/æ€»çº¿/å‘å¸ƒè®¢é˜…æ¨¡å¼/è§‚å¯Ÿè€…æ¨¡å¼)"></a>éçˆ¶å­ç»„ä»¶ä¼ å€¼(Bus/æ€»çº¿/å‘å¸ƒè®¢é˜…æ¨¡å¼/è§‚å¯Ÿè€…æ¨¡å¼)</h2><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">content</span>=<span class="hljs-string">'123'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">content</span>=<span class="hljs-string">'456'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">  Vue.prototype.bus = <span class="hljs-keyword">new</span> Vue()</span><span class="actionscript">  Vue.component(<span class="hljs-string">'child'</span>,&#123;</span>    props: &#123;<span class="javascript">      content:<span class="hljs-built_in">String</span></span>    &#125;,    data () &#123;<span class="actionscript">      <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">        childContent:<span class="hljs-keyword">this</span>.content</span>      &#125;    &#125;,<span class="handlebars"><span class="xml">    template: '<span class="hljs-tag">&lt;<span class="hljs-name">div</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleClick"</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;childContent&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>',</span></span>    methods:&#123;      handleClick() &#123;<span class="actionscript">        <span class="hljs-keyword">this</span>.bus.$emit(<span class="hljs-string">'change'</span>,<span class="hljs-keyword">this</span>.childContent)</span>      &#125;    &#125;,    mounted() &#123;<span class="javascript">      <span class="hljs-keyword">let</span> this_ = <span class="hljs-keyword">this</span></span><span class="actionscript">      <span class="hljs-keyword">this</span>.bus.$on(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(msg)</span></span>&#123;</span><span class="actionscript">        this_.childContent = msg <span class="hljs-comment">//å¤–éƒ¨thisæŒ‡å‘vueçš„å®ä¾‹ï¼Œå†…éƒ¨thisæŒ‡å‘busçš„å®ä¾‹</span></span>      &#125;)    &#125;  &#125;)<span class="actionscript">  <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">    el:<span class="hljs-string">'#app'</span></span>  &#125;)<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div><h2 id="æ’æ§½-amp-å…·åæ’æ§½"><a href="#æ’æ§½-amp-å…·åæ’æ§½" class="headerlink" title="æ’æ§½&amp;å…·åæ’æ§½"></a>æ’æ§½&amp;å…·åæ’æ§½</h2><p>çˆ¶ç»„ä»¶é€šè¿‡æ’æ§½å‘å­ç»„ä»¶ä¼ é€’DOMå…ƒç´ </p><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">child</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"header"</span>&gt;</span>world<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>  Vue.component('child',&#123;    tempalte:`<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>              <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>              <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"header"</span>&gt;</span>é»˜è®¤å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>`  &#125;)</code></pre></div>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vueä¸­v-if</title>
    <link href="/2020/09/24/vue%E4%B8%AD%E7%BB%86%E8%8A%82%E7%82%B9/"/>
    <url>/2020/09/24/vue%E4%B8%AD%E7%BB%86%E8%8A%82%E7%82%B9/</url>
    
    <content type="html"><![CDATA[<h2 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h2><p>å½“åœ¨inputæ¡†ä¸­ä½¿ç”¨v-ifæ—¶ï¼Œå¦‚æœè¾“å…¥äº†å­—ç¬¦åï¼Œæ”¹å˜v-ifçš„æ˜¾ç¤ºæ—¶ï¼Œinputä¸­çš„å†…å®¹ä¸ä¼šå˜åŒ–ï¼Œè¿™æ˜¯å› ä¸ºvueä¼šå°½é‡å¤ç”¨é¡µé¢çš„å†…å®¹ï¼Œå¢åŠ æ¸²æŸ“æ•ˆç‡ï¼Œè¿™æ—¶å¯ä»¥ä¸ºæ¯ä¸ªinputå¢åŠ ä¸€ä¸ªkeyå€¼ï¼Œè¿™æ ·vueå‘ç°keyå€¼ä¸åŒä¾¿ä¸ä¼šå¤ç”¨äº†ã€‚</p><h2 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h2><p>ä½¿ç”¨v-foræ—¶ï¼Œå¦‚æœä¸æƒ³åœ¨å¤–å±‚æ·»åŠ ä¸€ä¸ªdivæ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨templateä½œä¸ºæ¨¡ç‰ˆå ä½ç¬¦ï¼Œè¿™ä¸ªä¸ä¼šåœ¨é¡µé¢ä¸­æ¸²æŸ“ã€‚</p><h2 id="set"><a href="#set" class="headerlink" title="$set"></a>$set</h2><p>å‘å¯¹è±¡å¢åŠ å±æ€§å€¼æ—¶ï¼Œä¸€ç§æ–¹æ³•æ˜¯æ•´ä¸ªæ”¹å˜å¯¹è±¡çš„å¼•ç”¨ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡vueå®ä¾‹.$set(å¯¹è±¡ï¼Œæ–°å±æ€§åï¼Œæ–°å±æ€§å€¼)ï¼Œè¿™æ ·æ‰èƒ½å®æ—¶æ›´æ–°æ•°æ®ã€‚Vue.set()æˆ–vueå®ä¾‹.$set()ã€‚<br>å‘æ•°ç»„æ”¹å˜æ•°æ®æ—¶ï¼Œä¸€ï¼šé€šè¿‡vueæä¾›çš„7ä¸ªå˜å¼‚æ–¹æ³•ï¼ŒäºŒï¼šé€šè¿‡æ”¹å˜æ•°ç»„å¼•ç”¨ï¼Œä¸‰ï¼šé€šè¿‡vueå®ä¾‹.$set(æ•°ç»„ï¼Œæ„¿å±æ€§çš„indexï¼Œæ–°å±æ€§)ã€‚</p><h2 id="clickäº‹ä»¶ä¿®é¥°ç¬¦"><a href="#clickäº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="clickäº‹ä»¶ä¿®é¥°ç¬¦"></a>clickäº‹ä»¶ä¿®é¥°ç¬¦</h2><p>.preventé˜»æ­¢é»˜è®¤è¡Œä¸º<br>.stopé˜»æ­¢å‘ä¸Šå†’æ³¡<br>.selfåªæœ‰ç‚¹å‡»è‡ªèº«æ‰è§¦å‘æ—¶é—´ï¼Œå†’æ³¡çš„ä¸è¡Œï¼Œclickäº‹ä»¶åªæœ‰e.target = e.currentTagetæ—¶æ‰ä¼šæ‰§è¡Œ<br>.once åªç»‘å®šä¸€æ¬¡ï¼Œåªèƒ½è§¦å‘ä¸€æ¬¡<br>.capture äº‹ä»¶æ•è·è§„åˆ™ï¼Œä»å¤–éƒ¨å‘å†…éƒ¨è§¦å‘ï¼Œä¸æ˜¯äº‹ä»¶å†’æ³¡äº†</p><h2 id="æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="æŒ‰é”®ä¿®é¥°ç¬¦"></a>æŒ‰é”®ä¿®é¥°ç¬¦</h2><p>.enter â€¦</p><h2 id="ç³»ç»Ÿä¿®é¥°ç¬¦"><a href="#ç³»ç»Ÿä¿®é¥°ç¬¦" class="headerlink" title="ç³»ç»Ÿä¿®é¥°ç¬¦"></a>ç³»ç»Ÿä¿®é¥°ç¬¦</h2><p>.ctrl â€¦</p><h2 id="é¼ æ ‡ä¿®é¥°ç¬¦"><a href="#é¼ æ ‡ä¿®é¥°ç¬¦" class="headerlink" title="é¼ æ ‡ä¿®é¥°ç¬¦"></a>é¼ æ ‡ä¿®é¥°ç¬¦</h2><p>.right å³é”®</p><h2 id="transition"><a href="#transition" class="headerlink" title="transition"></a>transition</h2><p>è¿‡æ¸¡çš„å…ƒç´ åªèƒ½æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š</p><ul><li>æ¡ä»¶æ¸²æŸ“ (ä½¿ç”¨ v-if)</li><li>æ¡ä»¶å±•ç¤º (ä½¿ç”¨ v-show)</li><li>åŠ¨æ€ç»„ä»¶</li><li>ç»„ä»¶æ ¹èŠ‚ç‚¹</li></ul><p>è‡ªå®šä¹‰è¿‡æ¸¡åŠ¨ç”»çš„ï¼Œè®°å¾—åœ¨cssä¸­ä¿®æ”¹ä»¥ä¸‹çš„ç±»åï¼š</p><ul><li>åŠ¨ç”»å-enter è¿›å…¥å‰æ•ˆæœ</li><li>åŠ¨ç”»å-enter-active è¿›å…¥çš„è¿‡æ¸¡æ—¶é—´å’Œå‡½æ•°</li><li>åŠ¨ç”»å-enter-to è¿›å…¥åæ•ˆæœ</li><li>åŠ¨ç”»å-leave ç¦»å¼€å‰æ•ˆæœ</li><li>åŠ¨ç”»å-leave-active ç¦»å¼€çš„è¿‡æ¸¡æ—¶é—´å’Œå‡½æ•°</li><li>åŠ¨ç”»å-leave-to ç¦»å¼€åæ•ˆæœ</li></ul><h2 id="vueä¸­-exactæ•ˆæœ"><a href="#vueä¸­-exactæ•ˆæœ" class="headerlink" title="vueä¸­.exactæ•ˆæœ"></a>vueä¸­.exactæ•ˆæœ</h2><p>åªèƒ½æ˜¯ç»‘å®šçš„é”®æ‰èƒ½è§¦å‘æ–¹æ³•ï¼Œå¤šæŒ‰shiftæˆ–è€…ctrlæ— æ³•è§¦å‘</p><h2 id="ä¸¤ä¸ªè¿ç»­åŠ¨ç”»çš„å±•ç¤º"><a href="#ä¸¤ä¸ªè¿ç»­åŠ¨ç”»çš„å±•ç¤º" class="headerlink" title="ä¸¤ä¸ªè¿ç»­åŠ¨ç”»çš„å±•ç¤º"></a>ä¸¤ä¸ªè¿ç»­åŠ¨ç”»çš„å±•ç¤º</h2><ul><li><p>é—®é¢˜ï¼šå½“æœ‰ä¸¤ä¸ªè¿ç»­æ€§çš„åŠ¨ç”»éœ€è¦æ˜¾ç¤ºæ—¶ï¼Œæ¯”å¦‚å…ˆæ˜¾ç¤ºé€æ˜çš„è’™ç‰ˆï¼Œå†æ˜¾ç¤ºæ»‘å‡ºåŠ¨ç”»ã€‚å¦‚æœä»…ä»…å°†ä¸¤ä¸ªv-ifç½®ä¸ºtrueï¼Œç¬¬äºŒä¸ªåŠ¨ç”»ä¸ä¼šæ˜¾ç¤ºå‡ºæ•ˆæœï¼Œå› ä¸ºä¸¤ä¸ªåŠ¨ç”»åŒæ—¶è¢«ç½®ä¸ºtrueæ—¶ï¼ŒåŒæ—¶è¿åŠ¨ transition timeï¼Œæ‰€ä»¥åªä¼šçœ‹åˆ°åŠ¨ç”»ç»“æŸåæœ€åçš„æ•ˆæœã€‚</p></li><li><p>è§£å†³ï¼šè¦åŒæ—¶çœ‹åˆ°ä¸¤ä¸ªè¿ç»­çš„åŠ¨ç”»ï¼Œéœ€æŠŠåä¸€ä¸ªåŠ¨ç”»è®¾ç½®åˆ°setTimeouté‡Œï¼Œå¯ä»¥ä¸è®¾ç½®å»¶è¿Ÿæ—¶é—´æˆ–è€…è®¾ç½®ä¸€ä¸ªå¾ˆå°çš„å»¶è¿Ÿæ—¶é—´ï¼Œä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡æ¥å¤„ç†ã€‚</p></li></ul><h2 id="é˜»æ­¢ç‚¹å‡»äº‹ä»¶"><a href="#é˜»æ­¢ç‚¹å‡»äº‹ä»¶" class="headerlink" title="é˜»æ­¢ç‚¹å‡»äº‹ä»¶"></a>é˜»æ­¢ç‚¹å‡»äº‹ä»¶</h2><p>@click.prevent  é˜»æ­¢é»˜è®¤äº‹ä»¶<br>@click.stop  é˜»æ­¢å†’æ³¡</p><h2 id="vueä¸­createdç”¨å¤„"><a href="#vueä¸­createdç”¨å¤„" class="headerlink" title="vueä¸­createdç”¨å¤„"></a>vueä¸­createdç”¨å¤„</h2><ul><li>1.å¯ä»¥åœ¨è¿™é‡Œè¯·æ±‚æ•°æ®</li><li>2.å½“æœ‰äº›æ•°æ®æ²¡å¿…è¦æ”¾å…¥dataä¸­ç›‘å¬ï¼Œä½†æ˜¯methodsä¸­çš„æ–¹æ³•æœ‰éœ€è¦å…±ç”¨æ—¶ï¼Œå¯ä»¥æ”¾åœ¨createdä¸­ï¼Œvueä¸ä¼šè®¾ç½®setterå’Œgetterã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>sliceçš„æ€è€ƒ</title>
    <link href="/2020/08/23/slice%E7%9A%84%E6%80%9D%E8%80%83/"/>
    <url>/2020/08/23/slice%E7%9A%84%E6%80%9D%E8%80%83/</url>
    
    <content type="html"><![CDATA[<h2 id="å…³äºä¸ºä½•åœ¨å‡½æ•°ä¸­ä½¿ç”¨Array-prototype-slice-callè€Œä¸æ˜¯ç›´æ¥ç”¨sliceï¼Ÿ"><a href="#å…³äºä¸ºä½•åœ¨å‡½æ•°ä¸­ä½¿ç”¨Array-prototype-slice-callè€Œä¸æ˜¯ç›´æ¥ç”¨sliceï¼Ÿ" class="headerlink" title="å…³äºä¸ºä½•åœ¨å‡½æ•°ä¸­ä½¿ç”¨Array.prototype.slice.callè€Œä¸æ˜¯ç›´æ¥ç”¨sliceï¼Ÿ"></a>å…³äºä¸ºä½•åœ¨å‡½æ•°ä¸­ä½¿ç”¨Array.prototype.slice.callè€Œä¸æ˜¯ç›´æ¥ç”¨sliceï¼Ÿ</h2><p>ç»å¸¸ä¼šçœ‹åˆ°è¿™ç§å†™æ³•ï¼Œåœ¨ä¸€ä¸ªå‡½æ•°ä¸­ä½¿ç”¨ï¼ŒArray.prototype.slice.call(arguments,1); é™¤äº†é˜²æ­¢ä¼ å…¥çš„argumentsæœ‰sliceåŒåå‡½æ•°ï¼Œè¿˜æœ‰å…¶ä»–ä»€ä¹ˆç”¨å¤„å—ï¼Ÿ</p><p>å°¤å¤§çš„å›ç­”ï¼š</p><blockquote><p>argumentsæ˜¯æ¯ä¸ªå‡½æ•°åœ¨è¿è¡Œçš„æ—¶å€™è‡ªåŠ¨è·å¾—çš„ä¸€ä¸ªè¿‘ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆä¼ å…¥å‡½æ•°çš„å‚æ•°ä»0å¼€å§‹æŒ‰æ•°å­—æ’åˆ—ï¼Œè€Œä¸”æœ‰lengthï¼‰ã€‚æ¯”å¦‚å½“ä½  func(â€˜aâ€™, â€˜bâ€™, â€˜câ€™) çš„æ—¶å€™ï¼Œfuncé‡Œé¢è·å¾—çš„arguments[0] æ˜¯ â€˜aâ€™ï¼Œarguments[1] æ˜¯ â€˜bâ€™ï¼Œä¾æ¬¡ç±»æ¨ã€‚ä½†é—®é¢˜åœ¨äºè¿™ä¸ªargumentså¯¹è±¡å…¶å®å¹¶ä¸æ˜¯Arrayï¼Œæ‰€ä»¥æ²¡æœ‰sliceæ–¹æ³•ã€‚Array.prototype.slice.call( )å¯ä»¥é—´æ¥å¯¹å…¶å®ç°sliceçš„æ•ˆæœï¼Œè€Œä¸”è¿”å›çš„ç»“æœæ˜¯çœŸæ­£çš„Arrayã€‚</p></blockquote><h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h2><p>å†™ç®­å¤´å‡½æ•°æ—¶ï¼Œå¦‚æœç®­å¤´å‡½æ•°åé¢åŠ äº†<code>{}</code>ï¼Œé‡Œé¢ä»£è¡¨ä»£ç å—ï¼Œå¿…é¡»å†™<code>return</code>,å¦‚æœä¸å†™<code>{}</code>,å°±æ˜¯ç›´æ¥è¿”å›ï¼Œä¸ç”¨å†™<code>return</code>ã€‚</p><h2 id="å‡½æ•°çš„å½¢å‚å®å‚"><a href="#å‡½æ•°çš„å½¢å‚å®å‚" class="headerlink" title="å‡½æ•°çš„å½¢å‚å®å‚"></a>å‡½æ•°çš„å½¢å‚å®å‚</h2><p>å‡½æ•°çš„å½¢å‚å‡ ä¸ªç”¨ <code>fn.length</code> è·å¾—,å‡½æ•°çš„å®å‚ç”¨<code>arguments.length</code>è·å¾—ã€‚</p><h2 id="è‡ªæ‰§è¡Œå‡½æ•°ä¸æƒ°æ€§å‡½æ•°"><a href="#è‡ªæ‰§è¡Œå‡½æ•°ä¸æƒ°æ€§å‡½æ•°" class="headerlink" title="è‡ªæ‰§è¡Œå‡½æ•°ä¸æƒ°æ€§å‡½æ•°"></a>è‡ªæ‰§è¡Œå‡½æ•°ä¸æƒ°æ€§å‡½æ•°</h2><p>è‡ªæ‰§è¡Œå‡½æ•°å°±æ˜¯æƒ°æ€§å‡½æ•°ï¼Œè‡ªæ‰§è¡Œå‡½æ•°å¯ä»¥åˆ†å‰²å‡½æ•°ä½œç”¨åŸŸã€‚<br>æƒ°æ€§å‡½æ•°è¡¨ç¤ºå‡½æ•°æ‰§è¡Œçš„åˆ†æ”¯åªä¼šåœ¨å‡½æ•°ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™æ‰§è¡Œã€‚åç»­æˆ‘ä»¬æ‰€ä½¿ç”¨çš„å°±æ˜¯è¿™ä¸ªå‡½æ•°æ‰§è¡Œçš„ç»“æœã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>js</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>expressä¸‰å¤§æ¦‚å¿µ</title>
    <link href="/2020/07/17/express%E4%B8%89%E5%A4%A7%E6%A6%82%E5%BF%B5/"/>
    <url>/2020/07/17/express%E4%B8%89%E5%A4%A7%E6%A6%82%E5%BF%B5/</url>
    
    <content type="html"><![CDATA[<h2 id="Express-ä¸‰å¤§åŸºç¡€æ¦‚å¿µ"><a href="#Express-ä¸‰å¤§åŸºç¡€æ¦‚å¿µ" class="headerlink" title="Express ä¸‰å¤§åŸºç¡€æ¦‚å¿µ"></a>Express ä¸‰å¤§åŸºç¡€æ¦‚å¿µ</h2><h3 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h3><p>ä¸­é—´ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¯·æ±‚å’Œå“åº”å‘¨æœŸä¸­è¢«é¡ºåºè°ƒç”¨</p><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> myLogger = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res, next</span>) </span>&#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'myLogger'</span>)  next()&#125;app.use(myLogger)</code></pre></div><p>æç¤ºï¼šä¸­é—´ä»¶éœ€è¦åœ¨å“åº”ç»“æŸå‰è¢«è°ƒç”¨</p><h3 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h3><p>åº”ç”¨å¦‚ä½•å“åº”è¯·æ±‚çš„ä¸€ç§è§„åˆ™<br>å“åº” / è·¯å¾„çš„ get è¯·æ±‚ï¼š</p><div class="hljs"><pre><code class="hljs javascript">app.get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) </span>&#123;  res.send(<span class="hljs-string">'hello node'</span>)&#125;)</code></pre></div><p>å“åº” / è·¯å¾„çš„ post è¯·æ±‚ï¼š</p><div class="hljs"><pre><code class="hljs javascript">app.post(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) </span>&#123;  res.send(<span class="hljs-string">'hello node'</span>)&#125;)</code></pre></div><p>è§„åˆ™ä¸»è¦åˆ†ä¸¤éƒ¨åˆ†ï¼š</p><ul><li>è¯·æ±‚æ–¹æ³•ï¼šgetã€postâ€¦â€¦</li><li>è¯·æ±‚çš„è·¯å¾„ï¼š/ã€/userã€/.*fly$/â€¦â€¦</li></ul><h3 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h3><p>é€šè¿‡è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶å¤„ç†è¯·æ±‚ä¸­äº§ç”Ÿçš„å¼‚å¸¸</p><div class="hljs"><pre><code class="hljs javascript">app.get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) </span>&#123;  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'something has error...'</span>)&#125;)<span class="hljs-keyword">const</span> errorHandler = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, req, res, next</span>) </span>&#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'errorHandler...'</span>)  res.status(<span class="hljs-number">500</span>).json(&#123;    error:<span class="hljs-string">'Error...'</span>  &#125;)&#125;app.use(errorHandler)</code></pre></div><p>ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š</p><ul><li>ç¬¬ä¸€ï¼Œå‚æ•°ä¸€ä¸ªä¸èƒ½å°‘ï¼Œå¦åˆ™ä¼šè§†ä¸ºæ™®é€šçš„ä¸­é—´ä»¶</li><li>ç¬¬äºŒï¼Œä¸­é—´ä»¶éœ€è¦åœ¨è¯·æ±‚ä¹‹åå¼•ç”¨</li></ul>]]></content>
    
    
    <categories>
      
      <category>åç«¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>express</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>classå’Œstyleç»‘å®š,vue.observable,slotæ’æ§½</title>
    <link href="/2020/07/14/class%E5%92%8Cstyle%E7%BB%91%E5%AE%9A/"/>
    <url>/2020/07/14/class%E5%92%8Cstyle%E7%BB%91%E5%AE%9A/</url>
    
    <content type="html"><![CDATA[<h2 id="classå’Œstyleç»‘å®š"><a href="#classå’Œstyleç»‘å®š" class="headerlink" title="classå’Œstyleç»‘å®š"></a>classå’Œstyleç»‘å®š</h2><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>class å’Œ style ç»‘å®šçš„é«˜çº§ç”¨æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"['active', 'normal']"</span>&gt;</span>æ•°ç»„ç»‘å®šå¤šä¸ªclass<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"[&#123;active: isActive&#125;, 'normal']"</span>&gt;</span>æ•°ç»„åŒ…å«å¯¹è±¡ç»‘å®šclass<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"[showWarning(), 'normal']"</span>&gt;</span>æ•°ç»„åŒ…å«æ–¹æ³•ç»‘å®šclass<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"[warning, bold]"</span>&gt;</span>æ•°ç»„ç»‘å®šå¤šä¸ªstyle<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"[warning, mix()]"</span>&gt;</span>æ•°ç»„åŒ…å«æ–¹æ³•ç»‘å®šstyle<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"&#123; display: ['-webkit-box', '-ms-flexbox', 'flex'] &#125;"</span>&gt;</span>styleå¤šé‡å€¼<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root'</span>,</span>        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">            isActive: <span class="hljs-literal">true</span>,</span>            warning: &#123;<span class="actionscript">              color: <span class="hljs-string">'orange'</span></span>            &#125;,            bold: &#123;<span class="actionscript">              fontWeight: <span class="hljs-string">'bold'</span></span>            &#125;          &#125;        &#125;,        methods: &#123;          showWarning() &#123;<span class="actionscript">            <span class="hljs-keyword">return</span> <span class="hljs-string">'warning'</span></span>          &#125;,          mix() &#123;<span class="actionscript">            <span class="hljs-keyword">return</span> &#123;</span>              ...this.bold,              fontSize: 20            &#125;          &#125;        &#125;      &#125;)    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><h2 id="vue-observable"><a href="#vue-observable" class="headerlink" title="vue.observable"></a>vue.observable</h2><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue.observable<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span>      &#123;&#123;message&#125;&#125;      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"change"</span>&gt;</span>Change<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">      <span class="hljs-keyword">const</span> state = Vue.observable(&#123; message: <span class="hljs-string">'Vue 2.6'</span> &#125;)</span><span class="actionscript">      <span class="hljs-keyword">const</span> mutation = &#123;</span>        setMessage(value) &#123;          state.message = value        &#125;      &#125;<span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root'</span>,</span>        computed: &#123;          message() &#123;<span class="actionscript">            <span class="hljs-keyword">return</span> state.message</span>          &#125;        &#125;,        methods: &#123;          change() &#123;<span class="actionscript">            mutation.setMessage(<span class="hljs-string">'Vue 3.0'</span>)</span>          &#125;        &#125;      &#125;)    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><h2 id="slotæ’æ§½"><a href="#slotæ’æ§½" class="headerlink" title="slotæ’æ§½"></a>slotæ’æ§½</h2><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ’æ§½ slot<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æ¡ˆä¾‹1ï¼šslotçš„åŸºæœ¬ç”¨æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">Test</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:header</span>=<span class="hljs-string">"&#123;user&#125;"</span>&gt;</span>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è‡ªå®šä¹‰header(&#123;&#123;user.a&#125;&#125;)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot</span>=<span class="hljs-string">"&#123;user&#125;"</span>&gt;</span>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è‡ªå®šä¹‰body(&#123;&#123;user.b&#125;&#125;)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>      <span class="hljs-tag">&lt;/<span class="hljs-name">Test</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root2"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æ¡ˆä¾‹2ï¼šVue2.6æ–°ç‰¹æ€§ - åŠ¨æ€slot<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">Test</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:</span>[<span class="hljs-attr">section</span>]=<span class="hljs-string">"&#123;section&#125;"</span>&gt;</span>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>this is &#123;&#123;section&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>      <span class="hljs-tag">&lt;/<span class="hljs-name">Test</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"change"</span>&gt;</span>switch header and body<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">      Vue.component(<span class="hljs-string">'Test'</span>, &#123;</span>        template:<span class="actionscript">          <span class="hljs-string">'&lt;div&gt;'</span> +</span><span class="handlebars"><span class="xml">            '<span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"header"</span> <span class="hljs-attr">:user</span>=<span class="hljs-string">"obj"</span> <span class="hljs-attr">:section</span>=<span class="hljs-string">"\'header\'"</span>&gt;</span>' +</span></span><span class="handlebars"><span class="xml">              '<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>é»˜è®¤header<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>' +</span></span><span class="actionscript">            <span class="hljs-string">'&lt;/slot&gt;'</span> +</span><span class="handlebars"><span class="xml">            '<span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:user</span>=<span class="hljs-string">"obj"</span> <span class="hljs-attr">:section</span>=<span class="hljs-string">"\'body\'"</span>&gt;</span>é»˜è®¤body<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>' +</span></span><span class="actionscript">          <span class="hljs-string">'&lt;/div&gt;'</span>,</span>        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span>            obj: &#123; a: 1, b: 2 &#125;          &#125;        &#125;      &#125;)<span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123; el: <span class="hljs-string">'#root'</span> &#125;)</span><span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root2'</span>,</span>        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">            section: <span class="hljs-string">'header'</span></span>          &#125;        &#125;,        methods: &#123;          change() &#123;<span class="actionscript">            <span class="hljs-keyword">this</span>.section === <span class="hljs-string">'header'</span> ?</span><span class="actionscript">              <span class="hljs-keyword">this</span>.section = <span class="hljs-string">'default'</span> :</span><span class="actionscript">              <span class="hljs-keyword">this</span>.section = <span class="hljs-string">'header'</span></span>          &#125;        &#125;      &#125;)    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>filterså’Œwatch</title>
    <link href="/2020/07/14/filters%E5%92%8Cwatch/"/>
    <url>/2020/07/14/filters%E5%92%8Cwatch/</url>
    
    <content type="html"><![CDATA[<h2 id="provideå’Œinjectè·¨ç»„ä»¶ä¿¡æ¯ä¼ é€’"><a href="#provideå’Œinjectè·¨ç»„ä»¶ä¿¡æ¯ä¼ é€’" class="headerlink" title="provideå’Œinjectè·¨ç»„ä»¶ä¿¡æ¯ä¼ é€’"></a>provideå’Œinjectè·¨ç»„ä»¶ä¿¡æ¯ä¼ é€’</h2><p>ä¸ç”¨ ç»„ä»¶ä¸€ä¼ ç»™ç»„ä»¶äºŒï¼Œç»„ä»¶äºŒå†ä¼ ç»™ç»„ä»¶ä¸‰ ï¼Œå¯ä»¥ç›´æ¥ç»„ä»¶ä¸€ä¼ ç»™ç»„ä»¶äºŒ</p><h2 id="filter-amp-watch"><a href="#filter-amp-watch" class="headerlink" title="filter&amp;watch"></a>filter&amp;watch</h2><h3 id="filtersç”¨æ³•"><a href="#filtersç”¨æ³•" class="headerlink" title="filtersç”¨æ³•"></a>filtersç”¨æ³•</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>è¿‡æ»¤å™¨ filter<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span>      &#123;&#123;message | lower&#125;&#125;    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root'</span>,</span>        filters: &#123;          lower(value) &#123;<span class="actionscript">            <span class="hljs-keyword">return</span> value.toLowerCase()</span>          &#125;        &#125;,        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">            message: <span class="hljs-string">'Hello Vue'</span></span>          &#125;        &#125;      &#125;)    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><h3 id="watchç”¨æ³•"><a href="#watchç”¨æ³•" class="headerlink" title="watchç”¨æ³•"></a>watchç”¨æ³•</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç›‘å¬å™¨ watch<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Watch ç”¨æ³•1ï¼šå¸¸è§ç”¨æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"message"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;copyMessage&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root2"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Watch ç”¨æ³•2ï¼šç»‘å®šæ–¹æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"message"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;copyMessage&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root3"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Watch ç”¨æ³•3ï¼šdeep + handler<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"deepMessage.a.b"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;copyMessage&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root4"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Watch ç”¨æ³•4ï¼šimmediate<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"message"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;copyMessage&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root5"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Watch ç”¨æ³•5ï¼šç»‘å®šå¤šä¸ª handler<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"message"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;copyMessage&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root6"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Watch ç”¨æ³•6ï¼šç›‘å¬å¯¹è±¡å±æ€§<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"deepMessage.a.b"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;copyMessage&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root'</span>,</span>        watch: &#123;          message(value) &#123;<span class="actionscript">            <span class="hljs-keyword">this</span>.copyMessage = value</span>          &#125;        &#125;,        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">            message: <span class="hljs-string">'Hello Vue'</span>,</span><span class="actionscript">            copyMessage: <span class="hljs-string">''</span></span>          &#125;        &#125;      &#125;)<span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root2'</span>,</span>        watch: &#123;<span class="actionscript">          message: <span class="hljs-string">'handleMessage'</span></span>        &#125;,        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">            message: <span class="hljs-string">'Hello Vue'</span>,</span><span class="actionscript">            copyMessage: <span class="hljs-string">''</span></span>          &#125;        &#125;,        methods: &#123;          handleMessage(value) &#123;<span class="actionscript">            <span class="hljs-keyword">this</span>.copyMessage = value</span>          &#125;        &#125;      &#125;)<span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root3'</span>,</span>        watch: &#123;          deepMessage: &#123;<span class="actionscript">            handler: <span class="hljs-string">'handleDeepMessage'</span>,</span><span class="actionscript">            deep: <span class="hljs-literal">true</span></span>          &#125;        &#125;,        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span>            deepMessage: &#123;              a: &#123;<span class="actionscript">                b: <span class="hljs-string">'Deep Message'</span></span>              &#125;            &#125;,<span class="actionscript">            copyMessage: <span class="hljs-string">''</span></span>          &#125;        &#125;,        methods: &#123;          handleDeepMessage(value) &#123;<span class="actionscript">            <span class="hljs-keyword">this</span>.copyMessage = value.a.b</span>          &#125;        &#125;      &#125;)<span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root4'</span>,</span>        watch: &#123;          message: &#123;<span class="actionscript">            handler: <span class="hljs-string">'handleMessage'</span>,</span><span class="actionscript">            immediate: <span class="hljs-literal">true</span>,</span>          &#125;        &#125;,        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">            message: <span class="hljs-string">'Hello Vue'</span>,</span><span class="actionscript">            copyMessage: <span class="hljs-string">''</span></span>          &#125;        &#125;,        methods: &#123;          handleMessage(value) &#123;<span class="actionscript">            <span class="hljs-keyword">this</span>.copyMessage = value</span>          &#125;        &#125;      &#125;),<span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root5'</span>,</span>        watch: &#123;          message: [&#123;<span class="actionscript">            handler: <span class="hljs-string">'handleMessage'</span>,</span>          &#125;,<span class="actionscript">          <span class="hljs-string">'handleMessage2'</span>,</span><span class="actionscript">          <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(value)</span> </span>&#123;</span><span class="actionscript">            <span class="hljs-keyword">this</span>.copyMessage = <span class="hljs-keyword">this</span>.copyMessage + <span class="hljs-string">'...'</span></span>          &#125;]        &#125;,        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">            message: <span class="hljs-string">'Hello Vue'</span>,</span><span class="actionscript">            copyMessage: <span class="hljs-string">''</span></span>          &#125;        &#125;,        methods: &#123;          handleMessage(value) &#123;<span class="actionscript">            <span class="hljs-keyword">this</span>.copyMessage = value</span>          &#125;,          handleMessage2(value) &#123;<span class="actionscript">            <span class="hljs-keyword">this</span>.copyMessage = <span class="hljs-keyword">this</span>.copyMessage + <span class="hljs-string">'*'</span></span>          &#125;        &#125;      &#125;)<span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root6'</span>,</span>        watch: &#123;<span class="actionscript">          <span class="hljs-string">'deepMessage.a.b'</span>: <span class="hljs-string">'handleMessage'</span></span>        &#125;,        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">            deepMessage: &#123; a: &#123; b: <span class="hljs-string">'Hello Vue'</span> &#125; &#125;,</span><span class="actionscript">            copyMessage: <span class="hljs-string">''</span></span>          &#125;        &#125;,        methods: &#123;          handleMessage(value) &#123;<span class="actionscript">            <span class="hljs-keyword">this</span>.copyMessage = value</span>          &#125;        &#125;      &#125;)    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>è¿›é˜¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSSé«˜åº¦å¡Œé™·å’ŒBFC</title>
    <link href="/2020/06/15/CSS%E9%AB%98%E5%BA%A6%E5%A1%8C%E9%99%B7%E5%92%8CBFC/"/>
    <url>/2020/06/15/CSS%E9%AB%98%E5%BA%A6%E5%A1%8C%E9%99%B7%E5%92%8CBFC/</url>
    
    <content type="html"><![CDATA[<h2 id="é«˜åº¦å¡Œé™·"><a href="#é«˜åº¦å¡Œé™·" class="headerlink" title="é«˜åº¦å¡Œé™·"></a>é«˜åº¦å¡Œé™·</h2><p>å½“å­å…ƒç´ æµ®åŠ¨æ—¶ï¼Œè„±ç¦»äº†æ–‡æ¡£æµï¼Œå¯¼è‡´çˆ¶å…ƒç´ é«˜åº¦æ’‘ä¸èµ·æ¥ã€‚<br>è¿™æ—¶å¯ä»¥é€šè¿‡åœ¨åœ¨å­å…ƒç´ åé¢æ·»åŠ å†…å®¹ï¼Œå¹¶ä¸”æ¸…æ¥šå®ƒçš„æµ®åŠ¨æ¥ä½¿å…¶è·Ÿåœ¨æµ®åŠ¨å…ƒç´ çš„åé¢ï¼Œè¿™æ ·å°±å¯ä»¥æ’‘èµ·çˆ¶å…ƒç´ çš„é«˜åº¦äº†ã€‚<br><code>å­å…ƒç´ </code>åŠ ä¸Šä¸‹é¢è¿™ä¸ª <code>clearfix</code> ç±»å°±å¯ä»¥äº†ã€‚</p><div class="hljs"><pre><code class="hljs css"><span class="hljs-selector-tag">clearfix</span><span class="hljs-selector-pseudo">::after</span> &#123;  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;  <span class="hljs-attribute">display</span>: block;  <span class="hljs-attribute">clear</span>: both;&#125;</code></pre></div><h2 id="ç›¸é‚»å…ƒç´ çš„å¤–è¾¹è·é‡å "><a href="#ç›¸é‚»å…ƒç´ çš„å¤–è¾¹è·é‡å " class="headerlink" title="ç›¸é‚»å…ƒç´ çš„å¤–è¾¹è·é‡å "></a>ç›¸é‚»å…ƒç´ çš„å¤–è¾¹è·é‡å </h2><p>å­å…ƒç´ ä¸çˆ¶å…ƒç´ ï¼Œå½“ç»™å­å…ƒç´ è®¾ç½®   <code>margin-top</code> æ—¶ï¼Œå­å…ƒç´ ä¼šä¸çˆ¶å…ƒç´ ä¸€èµ·å‘ä¸‹ç§»åŠ¨ï¼Œè§£å†³æ–¹æ³•æ—¶ä½¿ä¸¤ä¸ªå…ƒç´ å¤–è¾¹è·ä¸é‡å ã€‚è¿™æ—¶å¯ä»¥ç»™<code>çˆ¶å…ƒç´ </code>åŠ ä¸Šä¸‹é¢çš„ <code>clearfix</code> ç±»æ¥è§£å†³ã€‚</p><div class="hljs"><pre><code class="hljs css"><span class="hljs-selector-tag">clearfix</span><span class="hljs-selector-pseudo">::before</span> &#123;  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;  <span class="hljs-attribute">display</span>: table;&#125;</code></pre></div><p>ä¸Šé¢ä¸¤ä¸ªå¯ä»¥åˆæˆä¸€ä¸ªï¼š</p><div class="hljs"><pre><code class="hljs css"><span class="hljs-selector-tag">clearfix</span><span class="hljs-selector-pseudo">::before</span>,<span class="hljs-selector-tag">clearfix</span><span class="hljs-selector-pseudo">::after</span> &#123;  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;  <span class="hljs-attribute">display</span>: table;  <span class="hljs-attribute">clear</span>: both;&#125;</code></pre></div><h2 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h2><p>BFC<code>(Block Formatting Context)</code>å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚å…·ä½“è§£é‡Šè§ <a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Block_formatting_context" target="_blank" rel="noopener">MDN</a><br>è¿™æ˜¯è§£å†³é«˜åº¦å¡Œé™·çš„èƒŒååŸç†ï¼Œæ˜¯CSSé‡Œé¢éšè—çš„å±æ€§ã€‚<br>é«˜åº¦å¡Œé™·è¿˜å¯ä»¥é€šè¿‡ä½¿çˆ¶å…ƒç´ ç”ŸæˆBFCæ¥è§£å†³ï¼Œé€šè¿‡ç»™çˆ¶å…ƒç´ æ·»åŠ </p><div class="hljs"><pre><code class="hljs css">&#123;  <span class="hljs-attribute">overflow</span>: hidden;&#125;</code></pre></div><h2 id="å›¾ç‰‡è‡ªé€‚åº”é—®é¢˜"><a href="#å›¾ç‰‡è‡ªé€‚åº”é—®é¢˜" class="headerlink" title="å›¾ç‰‡è‡ªé€‚åº”é—®é¢˜"></a>å›¾ç‰‡è‡ªé€‚åº”é—®é¢˜</h2><p>é€šè¿‡è¿™æ ·å†™cssï¼Œå¯ä»¥ç›´æ¥è·å–å›¾ç‰‡é«˜åº¦ï¼Œè€Œä¸ç”¨ç­‰åˆ°å›¾ç‰‡åŠ è½½å‡ºå†è·å¾—ã€‚</p><div class="hljs"><pre><code class="hljs css"><span class="hljs-selector-tag">position</span>: <span class="hljs-selector-tag">relative</span>;<span class="hljs-selector-tag">width</span>: 100%;<span class="hljs-selector-tag">height</span>: 0;<span class="hljs-selector-tag">padding-top</span>: 70%;<span class="hljs-selector-tag">transfrom-origin</span>: <span class="hljs-selector-tag">top</span>;<span class="hljs-selector-tag">background-size</span>: <span class="hljs-selector-tag">cover</span>;</code></pre></div><p>é€šè¿‡ width:100%å’Œ padding-top:70%æ§åˆ¶å›¾ç‰‡çš„å®½é«˜æ¯”ä¸º10:7ï¼Œå½“é¡µé¢åŠ è½½æ—¶ï¼Œå®½åº¦ç¡®å®šäº†ï¼Œé«˜åº¦ä¹Ÿå°±ç¡®å®šäº†ã€‚</p><p>å›¾ç‰‡å®½åº¦è®¾ç½®100%ï¼Œé¡µé¢åŠ è½½æ—¶ä¼šå­˜åœ¨é«˜åº¦å¡Œé™·çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨paddingï¼topæ¥è®¾ç½®ç™¾åˆ†æ¯”å€¼æ¥å®ç°è‡ªé€‚åº” padding-top = (å›¾ç‰‡çš„é«˜åº¦/å›¾ç‰‡çš„å®½åº¦)*100ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>CSS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSSä¼ªç±»å®ç°ä¸‰è§’å½¢</title>
    <link href="/2020/06/02/CSS%E5%AE%9E%E7%8E%B0%E4%B8%89%E8%A7%92%E5%BD%A2/"/>
    <url>/2020/06/02/CSS%E5%AE%9E%E7%8E%B0%E4%B8%89%E8%A7%92%E5%BD%A2/</url>
    
    <content type="html"><![CDATA[<h2 id="CSSå®ç°ä¸‰è§’å½¢"><a href="#CSSå®ç°ä¸‰è§’å½¢" class="headerlink" title="CSSå®ç°ä¸‰è§’å½¢"></a>CSSå®ç°ä¸‰è§’å½¢</h2><div class="hljs"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"Content-Type"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"text/html; charset=UTF-8"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"colorFlipFlop"</span>&gt;</span><span class="css">  * &#123;<span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;&#125;</span><span class="css">  <span class="hljs-selector-class">.demo</span> &#123;</span>    width: 100px;    height: 100px;    position: relative;<span class="css">    <span class="hljs-selector-tag">border</span>: 1<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#09f</span>;</span>    margin: 100px;  &#125;<span class="css">  <span class="hljs-selector-class">.demo</span><span class="hljs-selector-pseudo">:after</span> &#123;</span>    width: 0px;    height: 0px;    border-width: 12px;    border-style: solid;<span class="css">    <span class="hljs-comment">/* ä¸Š å³ ä¸‹ å·¦ */</span></span><span class="css">    <span class="hljs-selector-tag">border-color</span>: <span class="hljs-selector-tag">transparent</span> <span class="hljs-selector-tag">transparent</span> <span class="hljs-selector-id">#933</span> <span class="hljs-selector-tag">transparent</span>;</span>    position: absolute;    content: ' ';    left: 39px;    top: -24px;  &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><h3 id="å®å¿ƒä¸‰è§’å½¢"><a href="#å®å¿ƒä¸‰è§’å½¢" class="headerlink" title="å®å¿ƒä¸‰è§’å½¢"></a>å®å¿ƒä¸‰è§’å½¢</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span>&gt;</span><span class="css">           <span class="hljs-selector-class">.tri_top</span>, <span class="hljs-selector-class">.tri_right</span>, <span class="hljs-selector-class">.tri_bottom</span>, <span class="hljs-selector-class">.tri_left</span>&#123;</span>               width: 150px;               height: 100px;<span class="css">               <span class="hljs-selector-tag">background</span>: <span class="hljs-selector-id">#CCCCCC</span>;</span>               border-radius: 8px;               margin: 50px 50px;               position: relative;               float: left;           &#125;<span class="css">           <span class="hljs-selector-class">.tri_top</span><span class="hljs-selector-pseudo">:before</span>&#123;</span>               content: "";               width: 0px;               height: 0px;               border-left: 10px solid transparent;               border-right: 10px solid transparent;<span class="css">               <span class="hljs-selector-tag">border-bottom</span>: 10<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#CCCCCC</span>;</span>               position: absolute;               top: -10px;               left: 65px;           &#125;<span class="css">           <span class="hljs-selector-class">.tri_right</span><span class="hljs-selector-pseudo">:before</span>&#123;</span>               content: "";               width: 0px;               height: 0px;               border-top: 10px solid transparent;               border-bottom: 10px solid transparent;<span class="css">               <span class="hljs-selector-tag">border-left</span>: 10<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#CCCCCC</span>;</span>               position: absolute;               top: 40px;               left: 150px;           &#125;<span class="css">           <span class="hljs-selector-class">.tri_bottom</span><span class="hljs-selector-pseudo">:before</span>&#123;</span>               content: "";               width: 0px;               height: 0px;<span class="css">               <span class="hljs-selector-tag">border-top</span>: 10<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#CCCCCC</span>;</span>               border-left: 10px solid transparent;               border-right: 10px solid transparent;               position: absolute;               top: 100px;               left: 70px;           &#125;<span class="css">           <span class="hljs-selector-class">.tri_left</span><span class="hljs-selector-pseudo">:before</span>&#123;</span>               content: "";               width: 0px;               height: 0px;               border-top: 10px solid transparent;               border-bottom: 10px solid transparent;<span class="css">               <span class="hljs-selector-tag">border-right</span>: 10<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#CCCCCC</span>;</span>               position: absolute;               top: 40px;               left: -10px;           &#125;       <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>   <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tri_top"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>         <span class="hljs-comment">&lt;!--ä¸‰è§’å½¢åœ¨ä¸Šè¾¹--&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tri_right"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>       <span class="hljs-comment">&lt;!--ä¸‰è§’å½¢åœ¨å³è¾¹--&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tri_bottom"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>      <span class="hljs-comment">&lt;!--ä¸‰è§’å½¢åœ¨åº•è¾¹--&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tri_left"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>        <span class="hljs-comment">&lt;!--ä¸‰è§’å½¢åœ¨å·¦è¾¹--&gt;</span>   <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><p><img src="/img/CSS%E4%BC%AA%E7%B1%BB%E5%AE%9E%E7%8E%B0%E4%B8%89%E8%A7%92%E5%BD%A2/tri.png" srcset="/img/loading.gif" alt="å®å¿ƒä¸‰è§’å½¢"></p><h3 id="ç©ºå¿ƒä¸‰è§’å½¢"><a href="#ç©ºå¿ƒä¸‰è§’å½¢" class="headerlink" title="ç©ºå¿ƒä¸‰è§’å½¢"></a>ç©ºå¿ƒä¸‰è§’å½¢</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span>&gt;</span><span class="css">            <span class="hljs-selector-class">.tri_top</span>, <span class="hljs-selector-class">.tri_right</span>, <span class="hljs-selector-class">.tri_bottom</span>, <span class="hljs-selector-class">.tri_left</span>&#123;</span>                width: 150px;                height: 100px;<span class="css">                <span class="hljs-selector-tag">border</span>: 1<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#000000</span>;</span>                border-radius: 8px;                margin: 50px 50px;                position: relative;                float: left;            &#125;<span class="css">            <span class="hljs-selector-class">.tri_top</span><span class="hljs-selector-pseudo">:before</span>&#123;</span>                content: "";                width: 0px;                height: 0px;                border-left: 15px solid transparent;                border-right: 15px solid transparent;<span class="css">                <span class="hljs-selector-tag">border-bottom</span>: 15<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#000000</span>;</span>                position: absolute;                top: -15px;                left: 65px;            &#125;<span class="css">            <span class="hljs-selector-class">.tri_top</span><span class="hljs-selector-pseudo">:after</span>&#123;</span>                content: "";                width: 0px;                height: 0px;                border-left: 14px solid transparent;                border-right: 14px solid transparent;<span class="css">                <span class="hljs-selector-tag">border-bottom</span>: 14<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#FFFFFF</span>;</span>                position: absolute;                top: -14px;                left: 66px;            &#125;<span class="css">            <span class="hljs-selector-class">.tri_right</span><span class="hljs-selector-pseudo">:before</span>&#123;</span>                content: "";                width: 0px;                height: 0px;                border-top: 15px solid transparent;                border-bottom: 15px solid transparent;<span class="css">                <span class="hljs-selector-tag">border-left</span>: 15<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#000000</span>;</span>                position: absolute;                top: 39px;                left: 150px;            &#125;<span class="css">            <span class="hljs-selector-class">.tri_right</span><span class="hljs-selector-pseudo">:after</span>&#123;</span>                content: "";                width: 0px;                height: 0px;                border-top: 14px solid transparent;                border-bottom: 14px solid transparent;<span class="css">                <span class="hljs-selector-tag">border-left</span>: 14<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#FFFFFF</span>;</span>                position: absolute;                top: 40px;                left: 149px;            &#125;<span class="css">            <span class="hljs-selector-class">.tri_bottom</span><span class="hljs-selector-pseudo">:before</span>&#123;</span>                content: "";                width: 0px;                height: 0px;<span class="css">                <span class="hljs-selector-tag">border-top</span>: 15<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#000000</span>;</span>                border-left: 15px solid transparent;                border-right: 15px solid transparent;                position: absolute;                top: 101px;                left: 69px;            &#125;<span class="css">            <span class="hljs-selector-class">.tri_bottom</span><span class="hljs-selector-pseudo">:after</span>&#123;</span>                content: "";                width: 0px;                height: 0px;<span class="css">                <span class="hljs-selector-tag">border-top</span>: 14<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#FFFFFF</span>;</span>                border-left: 14px solid transparent;                border-right: 14px solid transparent;                position: absolute;                top: 100px;                left: 70px;            &#125;<span class="css">            <span class="hljs-selector-class">.tri_left</span><span class="hljs-selector-pseudo">:before</span>&#123;</span>                content: "";                width: 0px;                height: 0px;                border-top: 15px solid transparent;                border-bottom: 15px solid transparent;<span class="css">                <span class="hljs-selector-tag">border-right</span>: 15<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#000000</span>;</span>                position: absolute;                top: 40px;                left: -15px;            &#125;<span class="css">            <span class="hljs-selector-class">.tri_left</span><span class="hljs-selector-pseudo">:after</span>&#123;</span>                content: "";                width: 0px;                height: 0px;                border-top: 14px solid transparent;                border-bottom: 14px solid transparent;<span class="css">                <span class="hljs-selector-tag">border-right</span>: 14<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#FFFFFF</span>;</span>                position: absolute;                top: 41px;                left: -14px;            &#125;        <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tri_top"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>         <span class="hljs-comment">&lt;!--ä¸‰è§’å½¢åœ¨ä¸Šè¾¹--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tri_right"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>       <span class="hljs-comment">&lt;!--ä¸‰è§’å½¢åœ¨å³è¾¹--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tri_bottom"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>      <span class="hljs-comment">&lt;!--ä¸‰è§’å½¢åœ¨åº•è¾¹--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tri_left"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>        <span class="hljs-comment">&lt;!--ä¸‰è§’å½¢åœ¨å·¦è¾¹--&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><p><img src="/img/CSS%E4%BC%AA%E7%B1%BB%E5%AE%9E%E7%8E%B0%E4%B8%89%E8%A7%92%E5%BD%A2/tri2.png" srcset="/img/loading.gif" alt="ç©ºå¿ƒä¸‰è§’å½¢"></p><p>æ€»ç»“ï¼š<br> ä¸‰è§’å½¢å¾€å“ªä¸ªæ–¹å‘ï¼Œé‚£ä¸ªæ–¹å‘æ— éœ€è®¾ç½®borderï¼Œè€Œç›¸åæ–¹å‘è®¾ç½®borderé¢œè‰²ï¼Œç›¸é‚»ä¸¤è¾¹çš„borderè®¾ä¸ºé€æ˜ã€‚è¿™æ ·å°±å¯å®ç°å„ä¸ªæ–¹å‘çš„ä¸‰è§’å½¢ã€‚å®å¿ƒä¸‰è§’å½¢åˆ©ç”¨CSSä¸­çš„ä¼ªå…ƒç´ ï¼ˆï¼šbeforeï¼‰å®ç°ï¼Œå†åˆ©ç”¨borderçš„transparentå±æ€§å³å¯è¾¾åˆ°æ•ˆæœã€‚è€Œç©ºå¿ƒä¸‰è§’å½¢æ˜¯åœ¨ç©ºå¿ƒä¸‰è§’å½¢çš„åŸºç¡€ä¸Šå†åŠ ä¸Šä¼ªå…ƒç´ ï¼ˆï¼šafterï¼‰å®ç°ã€‚ä¼ªå…ƒç´ ï¼ˆï¼šbeforeï¼‰å®ç°çš„æ˜¯ä¸€ä¸ªå®å¿ƒçš„ä¸‰è§’å½¢ï¼Œä¼ªå…ƒç´ ï¼ˆï¼šafterï¼‰å®ç°çš„æ˜¯ç©ºå¿ƒçš„ä¸‰è§’å½¢ï¼Œè¿›è€ŒæŠŠå®å¿ƒçš„ä¸‰è§’å½¢è¦†ç›–ï¼Œåˆ©ç”¨ç»å¯¹å®šä½çš„topä¸leftçš„å·®å€¼ç»å¯¹äº†ä¸‰è§’å½¢çº¿çš„ç²—ç»†è€Œè¾¾åˆ°å¦‚å›¾çš„æ•ˆæœã€‚</p>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
    <tags>
      
      <tag>css</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>win10æ›´æ–°åé—ªå±å¤„ç†æ–¹æ³•</title>
    <link href="/2020/05/30/win10%E6%9B%B4%E6%96%B0%E5%90%8E%E9%97%AA%E5%B1%8F%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/"/>
    <url>/2020/05/30/win10%E6%9B%B4%E6%96%B0%E5%90%8E%E9%97%AA%E5%B1%8F%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="win10æ›´æ–°åé—ªå±å¤„ç†æ–¹æ³•"><a href="#win10æ›´æ–°åé—ªå±å¤„ç†æ–¹æ³•" class="headerlink" title="win10æ›´æ–°åé—ªå±å¤„ç†æ–¹æ³•"></a>win10æ›´æ–°åé—ªå±å¤„ç†æ–¹æ³•</h2><p>åœ¨æˆ‘çš„ç”µè„‘ä¸Šå¤„ç†æˆåŠŸäº†ï¼Œä½†æ˜¯ä¸­é€”æ²¡æœ‰æ‹ç…§ï¼Œæˆ‘æŠŠè¯¦ç»†è¿‡ç¨‹è¯´ä¸€ä¸‹ã€‚</p><ol><li>æŒ‰ä¸‹ <code>Ctrl+Alt+Delete</code> ï¼Œå‡ºç°ä»»åŠ¡ç®¡ç†å™¨é€‰æ‹©çš„ç•Œé¢</li><li>ä¸€ç›´æŒ‰ç€ <code>Shift</code>ï¼ŒåŒæ—¶ç‚¹å‡»å³ä¸‹è§’ <code>å…³æœº</code> æŒ‰é’®ï¼Œé€‰æ‹© <code>é‡å¯</code> ï¼Œ<code>Shift</code> ä¸è¦æ¾ã€‚</li><li>å‡ºç°é€‰é¡¹åé€‰æ‹© <code>ç–‘éš¾è§£ç­”</code>ã€‚</li><li>ç‚¹å‡» <code>é«˜çº§é€‰é¡¹</code>ã€‚</li><li>ç‚¹å‡» <code>å¸è½½æ›´æ–°</code>ã€‚</li><li>ç‚¹å‡» <code>å¸è½½æœ€æ–°çš„è´¨é‡æ›´æ–°</code>ã€‚</li><li>ç„¶åå°± <code>é€‰æ‹©ç”¨æˆ·</code>ï¼Œ<code>è¾“å…¥å¯†ç </code>ï¼Œ<code>ç¡®å®š</code> å°±è¡Œäº†ã€‚åé¢ç³»ç»Ÿè‡ªåŠ¨å¸è½½å’Œé‡å¯ã€‚</li><li>é‡å¯åæœ€å¥½ä¸è¦è®© win10 å†æ›´æ–°äº†ï¼Œå¯ä»¥ä¸‹è½½ä¸€ä¸ª windows ä¼˜åŒ–çš„è½¯ä»¶ï¼Œ<code>Dism++</code> å¾ˆå¥½ç”¨ã€‚è¿™é‡Œæ˜¯<a href="https://www.chuyu.me/zh-Hans/index.html" target="_blank" rel="noopener">Dism++å®˜ç½‘</a><br><img src="/img/win10%E6%9B%B4%E6%96%B0%E5%A4%B1%E8%B4%A5/dism.png" srcset="/img/loading.gif" alt="dism"></li></ol>]]></content>
    
    
    <categories>
      
      <category>é”™è¯¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cssä¼ªå…ƒç´ å¯¼èˆªæ åˆ†å‰²çº¿</title>
    <link href="/2020/05/27/css%E4%BC%AA%E5%85%83%E7%B4%A0%E5%AF%BC%E8%88%AA%E6%A0%8F%E5%88%86%E5%89%B2%E7%BA%BF/"/>
    <url>/2020/05/27/css%E4%BC%AA%E5%85%83%E7%B4%A0%E5%AF%BC%E8%88%AA%E6%A0%8F%E5%88%86%E5%89%B2%E7%BA%BF/</url>
    
    <content type="html"><![CDATA[<h3 id="åˆ†å‰²çº¿ä¼ªç±»"><a href="#åˆ†å‰²çº¿ä¼ªç±»" class="headerlink" title="åˆ†å‰²çº¿ä¼ªç±»"></a>åˆ†å‰²çº¿ä¼ªç±»</h3><div class="hljs"><pre><code class="hljs css"><span class="hljs-comment">/*ä½¿ç”¨ä¼ªå…ƒç´ åˆ¶ä½œå¯¼èˆªåˆ—è¡¨é¡¹åˆ†éš”çº¿*/</span><span class="hljs-selector-class">.nav</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:after</span>&#123;  <span class="hljs-attribute">position</span>:absolute;  <span class="hljs-attribute">content</span>:<span class="hljs-string">"|"</span>;  <span class="hljs-attribute">right</span>:<span class="hljs-number">0</span>;  <span class="hljs-attribute">top</span>:<span class="hljs-number">0</span>;  <span class="hljs-attribute">color</span>:<span class="hljs-number">#fff</span>;  <span class="hljs-attribute">text-shadow</span>:<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,.<span class="hljs-number">5</span>);&#125;<span class="hljs-comment">/*åˆ é™¤æœ€åä¸€é¡¹å¯¼èˆªåˆ†éš”çº¿*/</span><span class="hljs-selector-class">.nav</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:last-child</span><span class="hljs-selector-pseudo">::after</span>&#123;  <span class="hljs-attribute">content</span>:<span class="hljs-string">""</span>; &#125;</code></pre></div>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
    <tags>
      
      <tag>css</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vueè¿›é˜¶è¯­æ³•</title>
    <link href="/2020/05/27/vue%E8%BF%9B%E9%98%B6%E8%AF%AD%E6%B3%95/"/>
    <url>/2020/05/27/vue%E8%BF%9B%E9%98%B6%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="vueçš„éƒ¨åˆ†è¿›é˜¶è¯­æ³•"><a href="#vueçš„éƒ¨åˆ†è¿›é˜¶è¯­æ³•" class="headerlink" title="vueçš„éƒ¨åˆ†è¿›é˜¶è¯­æ³•"></a>vueçš„éƒ¨åˆ†è¿›é˜¶è¯­æ³•</h2><p>å­¦ä¹ ä¸€ä¸‹ï¼Œåšä¸‹æ€»ç»“</p><h3 id="emitå’Œ-on"><a href="#emitå’Œ-on" class="headerlink" title="$emitå’Œ$on"></a>$emitå’Œ$on</h3><blockquote><p>æœ¬æ–‡å†…å®¹å¼•è‡ª<a href="http://www.youbaobao.xyz/admin-docs/guide/base/vue.html" target="_blank" rel="noopener">è¿™é‡Œ</a></p></blockquote><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>$emit å’Œ $on<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"boost"</span>&gt;</span>è§¦å‘äº‹ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root'</span>,</span>        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">            message: <span class="hljs-string">'hello vue'</span></span>          &#125;        &#125;,        created() &#123;<span class="actionscript">          <span class="hljs-keyword">this</span>.$on(<span class="hljs-string">'my_events'</span>, <span class="hljs-keyword">this</span>.handleEvents)</span>        &#125;,        methods: &#123;          handleEvents(e) &#123;<span class="javascript">            <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.message, e)</span>          &#125;,          boost() &#123;<span class="actionscript">            <span class="hljs-keyword">this</span>.$emit(<span class="hljs-string">'my_events'</span>, <span class="hljs-string">'my params'</span>)</span>          &#125;        &#125;      &#125;)    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><p>ä½¿ç”¨this.$onæ—¶æ—¢å¯ä»¥ä¸€ä¸ªäº‹ä»¶ç»‘å®šå¤šä¸ªå¤„ç†å‡½æ•°ï¼Œä¹Ÿå¯ä»¥å¤šä¸ªäº‹ä»¶ç»‘å®šä¸€ä¸ªå¤„ç†å‡½æ•°</p><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">this</span>.$on(<span class="hljs-string">'event1'</span>,<span class="hljs-keyword">this</span>.handleEvents1)<span class="hljs-keyword">this</span>.$on(<span class="hljs-string">'event1'</span>,<span class="hljs-keyword">this</span>.handleEvents2)</code></pre></div><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">this</span>.$on([<span class="hljs-string">'event1'</span>,<span class="hljs-string">'event2'</span>],<span class="hljs-keyword">this</span>.handleEvents)</code></pre></div><h3 id="directive-ç”¨æ³•"><a href="#directive-ç”¨æ³•" class="headerlink" title="directive ç”¨æ³•"></a>directive ç”¨æ³•</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>directive ç”¨æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-loading</span>=<span class="hljs-string">"isLoading"</span>&gt;</span>&#123;&#123;data&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"update"</span>&gt;</span>æ›´æ–°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">      Vue.directive(<span class="hljs-string">'loading'</span>, &#123;</span>        update(el, binding, vnode) &#123;          if (binding.value) &#123;<span class="javascript">            <span class="hljs-keyword">const</span> div = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>)</span><span class="actionscript">            div.innerText = <span class="hljs-string">'åŠ è½½ä¸­...'</span></span><span class="actionscript">            div.setAttribute(<span class="hljs-string">'id'</span>, <span class="hljs-string">'loading'</span>)</span><span class="actionscript">            div.style.position = <span class="hljs-string">'absolute'</span></span>            div.style.left = 0            div.style.top = 0<span class="actionscript">            div.style.width = <span class="hljs-string">'100%'</span></span><span class="actionscript">            div.style.height = <span class="hljs-string">'100%'</span></span><span class="actionscript">            div.style.display = <span class="hljs-string">'flex'</span></span><span class="actionscript">            div.style.justifyContent = <span class="hljs-string">'center'</span></span><span class="actionscript">            div.style.alignItems = <span class="hljs-string">'center'</span></span><span class="actionscript">            div.style.color = <span class="hljs-string">'white'</span></span><span class="actionscript">            div.style.background = <span class="hljs-string">'rgba(0, 0, 0, .7)'</span></span><span class="javascript">            <span class="hljs-built_in">document</span>.body.append(div)</span><span class="actionscript">          &#125; <span class="hljs-keyword">else</span> &#123;</span><span class="javascript">            <span class="hljs-built_in">document</span>.body.removeChild(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'loading'</span>))</span>          &#125;        &#125;      &#125;)<span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root'</span>,</span>        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">            isLoading: <span class="hljs-literal">false</span>,</span><span class="actionscript">            data: <span class="hljs-string">''</span></span>          &#125;        &#125;,        methods: &#123;          update() &#123;<span class="actionscript">            <span class="hljs-keyword">this</span>.isLoading = <span class="hljs-literal">true</span></span><span class="javascript">            setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;</span><span class="actionscript">              <span class="hljs-keyword">this</span>.data = <span class="hljs-string">'ç”¨æˆ·æ•°æ®'</span></span><span class="actionscript">              <span class="hljs-keyword">this</span>.isLoading = <span class="hljs-literal">false</span></span>            &#125;, 3000)          &#125;        &#125;      &#125;)    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><p>é€šè¿‡directiveå‘½ä»¤å¯ä»¥åˆ›é€ è‡ªå®šä¹‰çš„æŒ‡ä»¤ï¼Œé€šè¿‡ v-æŒ‡ä»¤å è¿›è¡Œä½¿ç”¨ï¼Œæ–¹ä¾¿è§£è€¦å¤ç”¨ã€‚</p><p class="note note-primary">TIP</br>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://cn.vuejs.org/v2/api/#Vue-directive" target="_blank" rel="noopener">https://cn.vuejs.org/v2/api/#Vue-directive</a></p><h3 id="Vue-component-ç”¨æ³•"><a href="#Vue-component-ç”¨æ³•" class="headerlink" title="Vue.component ç”¨æ³•"></a>Vue.component ç”¨æ³•</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue.component ç”¨æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">Test</span> <span class="hljs-attr">:msg</span>=<span class="hljs-string">"message"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Test</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">      Vue.component(<span class="hljs-string">'Test'</span>, &#123;</span><span class="handlebars"><span class="xml">        template: '<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;msg&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>',</span></span>        props: &#123;          msg: &#123;<span class="javascript">            type: <span class="hljs-built_in">String</span>,</span><span class="actionscript">            <span class="hljs-keyword">default</span>: <span class="hljs-string">'default message'</span></span>          &#125;        &#125;      &#125;)<span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root'</span>,</span>        data() &#123;<span class="actionscript">          <span class="hljs-keyword">return</span> &#123;</span><span class="actionscript">            message: <span class="hljs-string">"Test Component"</span></span>          &#125;        &#125;      &#125;)    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><h3 id="Vue-extend-è¿›é˜¶ç”¨æ³•"><a href="#Vue-extend-è¿›é˜¶ç”¨æ³•" class="headerlink" title="Vue.extend è¿›é˜¶ç”¨æ³•"></a>Vue.extend è¿›é˜¶ç”¨æ³•</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue.extend ç”¨æ³•2<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">      <span class="hljs-selector-id">#loading-wrapper</span> &#123;</span>        position: fixed;        top: 0;        left: 0;        display: flex;        justify-content: center;        align-items: center;        width: 100%;        height: 100%;<span class="css">        <span class="hljs-selector-tag">background</span>: <span class="hljs-selector-tag">rgba</span>(0,0,0,<span class="hljs-selector-class">.7</span>);</span><span class="css">        <span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#fff</span>;</span>      &#125;    <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"showLoading"</span>&gt;</span>æ˜¾ç¤ºLoading<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Loading</span><span class="hljs-params">(msg)</span> </span>&#123;</span><span class="actionscript">        <span class="hljs-keyword">const</span> LoadingComponent = Vue.extend(&#123;</span><span class="handlebars"><span class="xml">          template: '<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"loading-wrapper"</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;msg&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>',</span></span>          props: &#123;            msg: &#123;<span class="javascript">              type: <span class="hljs-built_in">String</span>,</span><span class="actionscript">              <span class="hljs-keyword">default</span>: msg</span>            &#125;          &#125;,<span class="actionscript">          name: <span class="hljs-string">'LoadingComponent'</span></span>        &#125;)<span class="javascript">        <span class="hljs-keyword">const</span> div = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>)</span><span class="actionscript">        div.setAttribute(<span class="hljs-string">'id'</span>, <span class="hljs-string">'loading-wrapper'</span>)</span><span class="javascript">        <span class="hljs-built_in">document</span>.body.append(div)</span><span class="actionscript">        <span class="hljs-keyword">new</span> LoadingComponent().$mount(<span class="hljs-string">'#loading-wrapper'</span>)</span><span class="javascript">        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;</span><span class="javascript">          <span class="hljs-built_in">document</span>.body.removeChild(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'loading-wrapper'</span>))</span>        &#125;      &#125;      Vue.prototype.$loading = Loading<span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root'</span>,</span>        methods: &#123;          showLoading() &#123;<span class="actionscript">            <span class="hljs-keyword">const</span> hide = <span class="hljs-keyword">this</span>.$loading(<span class="hljs-string">'æ­£åœ¨åŠ è½½ï¼Œè¯·ç¨ç­‰...'</span>)</span><span class="javascript">            setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;</span>              hide()            &#125;, 2000)          &#125;        &#125;      &#125;)    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><p>å°† loading æŒ‚è½½åˆ° Vue åŸå‹ä¸Šï¼Œé€šè¿‡ this.$loading ä½¿ç”¨ï¼Œæ¯”é€šè¿‡ directive æ–¹æ³•æ›´åŠ æ–¹ä¾¿ã€‚</p><h3 id="Vue-use-ç”¨æ³•"><a href="#Vue-use-ç”¨æ³•" class="headerlink" title="Vue.use ç”¨æ³•"></a>Vue.use ç”¨æ³•</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue.use ç”¨æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">      <span class="hljs-selector-id">#loading-wrapper</span> &#123;</span>        position: fixed;        top: 0;        left: 0;        display: flex;        justify-content: center;        align-items: center;        width: 100%;        height: 100%;<span class="css">        <span class="hljs-selector-tag">background</span>: <span class="hljs-selector-tag">rgba</span>(0,0,0,<span class="hljs-selector-class">.7</span>);</span><span class="css">        <span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#fff</span>;</span>      &#125;    <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"showLoading"</span>&gt;</span>æ˜¾ç¤ºLoading<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">      <span class="hljs-keyword">const</span> loadingPlugin = &#123;</span><span class="actionscript">        install: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(vm)</span> </span>&#123;</span><span class="actionscript">          <span class="hljs-keyword">const</span> LoadingComponent = vm.extend(&#123;</span><span class="handlebars"><span class="xml">            template: '<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"loading-wrapper"</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;msg&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>',</span></span>            props: &#123;              msg: &#123;<span class="javascript">                type: <span class="hljs-built_in">String</span>,</span><span class="actionscript">                <span class="hljs-keyword">default</span>: <span class="hljs-string">'loading...'</span></span>              &#125;            &#125;<span class="actionscript">          &#125;, <span class="hljs-string">'LoadingComponent'</span>)</span><span class="actionscript">          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Loading</span><span class="hljs-params">(msg)</span> </span>&#123;</span><span class="javascript">            <span class="hljs-keyword">const</span> div = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>)</span><span class="actionscript">            div.setAttribute(<span class="hljs-string">'id'</span>, <span class="hljs-string">'loading-wrapper'</span>)</span><span class="javascript">            <span class="hljs-built_in">document</span>.body.append(div)</span><span class="actionscript">            <span class="hljs-keyword">new</span> LoadingComponent(&#123;</span>              props: &#123;                msg: &#123;<span class="javascript">                  type: <span class="hljs-built_in">String</span>,</span><span class="actionscript">                  <span class="hljs-keyword">default</span>: msg</span>                &#125;              &#125;<span class="actionscript">            &#125;).$mount(<span class="hljs-string">'#loading-wrapper'</span>)</span><span class="javascript">            <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;</span><span class="javascript">              <span class="hljs-built_in">document</span>.body.removeChild(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'loading-wrapper'</span>))</span>            &#125;          &#125;          vm.prototype.$loading = Loading        &#125;      &#125;      Vue.use(loadingPlugin)<span class="actionscript">      <span class="hljs-keyword">new</span> Vue(&#123;</span><span class="actionscript">        el: <span class="hljs-string">'#root'</span>,</span>        methods: &#123;          showLoading() &#123;<span class="actionscript">            <span class="hljs-keyword">const</span> hide = <span class="hljs-keyword">this</span>.$loading(<span class="hljs-string">'æ­£åœ¨åŠ è½½ï¼Œè¯·ç¨ç­‰...'</span>)</span><span class="javascript">            setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;</span>              hide()            &#125;, 2000)          &#125;        &#125;      &#125;)    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><p>è¿™ç§æ–¹æ³•å½»åº•æŠŠ loading åšæˆäº†ä¸€ä¸ªæ’ä»¶ï¼Œå¯ä»¥æŠŠä¸»è¦æ’ä»¶å†…å®¹æ”¾åˆ°åˆ«çš„æ–‡ä»¶ä¸­ï¼Œç„¶åé€šè¿‡ import åç”¨ Vue.use æ¥ä½¿ç”¨ï¼Œæ›´åŠ è§£è€¦å’Œæ–¹ä¾¿ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
